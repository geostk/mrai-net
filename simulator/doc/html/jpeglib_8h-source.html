<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SIMRI3D: jpeglib.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a></div>
<h1>jpeglib.h</h1><a href="jpeglib_8h.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/*</span>
00002 <span class="comment"> * jpeglib.h</span>
00003 <span class="comment"> *</span>
00004 <span class="comment"> * Copyright (C) 1991-1998, Thomas G. Lane.</span>
00005 <span class="comment"> * This file is part of the Independent JPEG Group's software.</span>
00006 <span class="comment"> * For conditions of distribution and use, see the accompanying README file.</span>
00007 <span class="comment"> *</span>
00008 <span class="comment"> * This file defines the application interface for the JPEG library.</span>
00009 <span class="comment"> * Most applications using the library need only include this file,</span>
00010 <span class="comment"> * and perhaps jerror.h if they want to know the exact error codes.</span>
00011 <span class="comment"> */</span>
00012 
00013 <span class="preprocessor">#ifndef JPEGLIB_H</span>
00014 <span class="preprocessor"></span><span class="preprocessor">#define JPEGLIB_H</span>
00015 <span class="preprocessor"></span>
00016 <span class="comment">/*</span>
00017 <span class="comment"> * First we include the configuration files that record how this</span>
00018 <span class="comment"> * installation of the JPEG library is set up.  jconfig.h can be</span>
00019 <span class="comment"> * generated automatically for many systems.  jmorecfg.h contains</span>
00020 <span class="comment"> * manual configuration options that most people need not worry about.</span>
00021 <span class="comment"> */</span>
00022 
00023 <span class="preprocessor">#ifndef JCONFIG_INCLUDED   </span><span class="comment">/* in case jinclude.h already did */</span>
00024 <span class="preprocessor">#include "<a class="code" href="jconfig_8h.html">jconfig.h</a>"</span>    <span class="comment">/* widely used configuration options */</span>
00025 <span class="preprocessor">#endif</span>
00026 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="jmorecfg_8h.html">jmorecfg.h</a>"</span>      <span class="comment">/* seldom changed options */</span>
00027 
00028 
00029 <span class="comment">/* Version ID for the JPEG library.</span>
00030 <span class="comment"> * Might be useful for tests like "#if JPEG_LIB_VERSION &gt;= 60".</span>
00031 <span class="comment"> */</span>
00032 
<a name="l00033"></a><a class="code" href="jpeglib_8h.html#a0">00033</a> <span class="preprocessor">#define JPEG_LIB_VERSION  62  </span><span class="comment">/* Version 6b */</span>
00034 
00035 
00036 <span class="comment">/* Various constants determining the sizes of things.</span>
00037 <span class="comment"> * All of these are specified by the JPEG standard, so don't change them</span>
00038 <span class="comment"> * if you want to be compatible.</span>
00039 <span class="comment"> */</span>
00040 
<a name="l00041"></a><a class="code" href="jpeglib_8h.html#a1">00041</a> <span class="preprocessor">#define DCTSIZE          8 </span><span class="comment">/* The basic DCT block is 8x8 samples */</span>
<a name="l00042"></a><a class="code" href="jpeglib_8h.html#a2">00042</a> <span class="preprocessor">#define DCTSIZE2      64   </span><span class="comment">/* DCTSIZE squared; # of elements in a block */</span>
<a name="l00043"></a><a class="code" href="jpeglib_8h.html#a3">00043</a> <span class="preprocessor">#define NUM_QUANT_TBLS      4 </span><span class="comment">/* Quantization tables are numbered 0..3 */</span>
<a name="l00044"></a><a class="code" href="jpeglib_8h.html#a4">00044</a> <span class="preprocessor">#define NUM_HUFF_TBLS       4 </span><span class="comment">/* Huffman tables are numbered 0..3 */</span>
<a name="l00045"></a><a class="code" href="jpeglib_8h.html#a5">00045</a> <span class="preprocessor">#define NUM_ARITH_TBLS      16   </span><span class="comment">/* Arith-coding tables are numbered 0..15 */</span>
<a name="l00046"></a><a class="code" href="jpeglib_8h.html#a6">00046</a> <span class="preprocessor">#define MAX_COMPS_IN_SCAN   4 </span><span class="comment">/* JPEG limit on # of components in one scan */</span>
<a name="l00047"></a><a class="code" href="jpeglib_8h.html#a7">00047</a> <span class="preprocessor">#define MAX_SAMP_FACTOR     4 </span><span class="comment">/* JPEG limit on sampling factors */</span>
00048 <span class="comment">/* Unfortunately, some bozo at Adobe saw no reason to be bound by the standard;</span>
00049 <span class="comment"> * the PostScript DCT filter can emit files with many more than 10 blocks/MCU.</span>
00050 <span class="comment"> * If you happen to run across such a file, you can up D_MAX_BLOCKS_IN_MCU</span>
00051 <span class="comment"> * to handle it.  We even let you do this from the jconfig.h file.  However,</span>
00052 <span class="comment"> * we strongly discourage changing C_MAX_BLOCKS_IN_MCU; just because Adobe</span>
00053 <span class="comment"> * sometimes emits noncompliant files doesn't mean you should too.</span>
00054 <span class="comment"> */</span>
<a name="l00055"></a><a class="code" href="jpeglib_8h.html#a8">00055</a> <span class="preprocessor">#define C_MAX_BLOCKS_IN_MCU   10 </span><span class="comment">/* compressor's limit on blocks per MCU */</span>
00056 <span class="preprocessor">#ifndef D_MAX_BLOCKS_IN_MCU</span>
<a name="l00057"></a><a class="code" href="jpeglib_8h.html#a9">00057</a> <span class="preprocessor"></span><span class="preprocessor">#define D_MAX_BLOCKS_IN_MCU   10 </span><span class="comment">/* decompressor's limit on blocks per MCU */</span>
00058 <span class="preprocessor">#endif</span>
00059 <span class="preprocessor"></span>
00060 
00061 <span class="comment">/* Data structures for images (arrays of samples and of DCT coefficients).</span>
00062 <span class="comment"> * On 80x86 machines, the image arrays are too big for near pointers,</span>
00063 <span class="comment"> * but the pointer arrays can fit in near memory.</span>
00064 <span class="comment"> */</span>
00065 
<a name="l00066"></a><a class="code" href="jpeglib_8h.html#a32">00066</a> <span class="keyword">typedef</span> <a class="code" href="jmorecfg_8h.html#a15">JSAMPLE</a> <a class="code" href="jmorecfg_8h.html#a12">FAR</a> *<a class="code" href="jpeglib_8h.html#a32">JSAMPROW</a>;   <span class="comment">/* ptr to one image row of pixel samples. */</span>
<a name="l00067"></a><a class="code" href="jpeglib_8h.html#a33">00067</a> <span class="keyword">typedef</span> <a class="code" href="jpeglib_8h.html#a32">JSAMPROW</a> *<a class="code" href="jpeglib_8h.html#a33">JSAMPARRAY</a>; <span class="comment">/* ptr to some rows (a 2-D sample array) */</span>
<a name="l00068"></a><a class="code" href="jpeglib_8h.html#a34">00068</a> <span class="keyword">typedef</span> <a class="code" href="jpeglib_8h.html#a33">JSAMPARRAY</a> *<a class="code" href="jpeglib_8h.html#a34">JSAMPIMAGE</a>;  <span class="comment">/* a 3-D sample array: top index is color */</span>
00069 
<a name="l00070"></a><a class="code" href="jpeglib_8h.html#a35">00070</a> <span class="keyword">typedef</span> <a class="code" href="jmorecfg_8h.html#a16">JCOEF</a> <a class="code" href="jpeglib_8h.html#a35">JBLOCK</a>[<a class="code" href="jpeglib_8h.html#a2">DCTSIZE2</a>];  <span class="comment">/* one block of coefficients */</span>
<a name="l00071"></a><a class="code" href="jpeglib_8h.html#a36">00071</a> <span class="keyword">typedef</span> <a class="code" href="jpeglib_8h.html#a35">JBLOCK</a> <a class="code" href="jmorecfg_8h.html#a12">FAR</a> *<a class="code" href="jpeglib_8h.html#a36">JBLOCKROW</a>;   <span class="comment">/* pointer to one row of coefficient blocks */</span>
<a name="l00072"></a><a class="code" href="jpeglib_8h.html#a37">00072</a> <span class="keyword">typedef</span> <a class="code" href="jpeglib_8h.html#a36">JBLOCKROW</a> *<a class="code" href="jpeglib_8h.html#a37">JBLOCKARRAY</a>;     <span class="comment">/* a 2-D array of coefficient blocks */</span>
<a name="l00073"></a><a class="code" href="jpeglib_8h.html#a38">00073</a> <span class="keyword">typedef</span> <a class="code" href="jpeglib_8h.html#a37">JBLOCKARRAY</a> *<a class="code" href="jpeglib_8h.html#a38">JBLOCKIMAGE</a>;   <span class="comment">/* a 3-D array of coefficient blocks */</span>
00074 
<a name="l00075"></a><a class="code" href="jpeglib_8h.html#a39">00075</a> <span class="keyword">typedef</span> <a class="code" href="jmorecfg_8h.html#a16">JCOEF</a> <a class="code" href="jmorecfg_8h.html#a12">FAR</a> *<a class="code" href="jpeglib_8h.html#a39">JCOEFPTR</a>;  <span class="comment">/* useful in a couple of places */</span>
00076 
00077 
00078 <span class="comment">/* Types for JPEG compression parameters and working tables. */</span>
00079 
00080 
00081 <span class="comment">/* DCT coefficient quantization tables. */</span>
00082 
<a name="l00083"></a><a class="code" href="structJQUANT__TBL.html">00083</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
00084   <span class="comment">/* This array gives the coefficient quantizers in natural array order</span>
00085 <span class="comment">   * (not the zigzag order in which they are stored in a JPEG DQT marker).</span>
00086 <span class="comment">   * CAUTION: IJG versions prior to v6a kept this array in zigzag order.</span>
00087 <span class="comment">   */</span>
<a name="l00088"></a><a class="code" href="structJQUANT__TBL.html#o0">00088</a>   <a class="code" href="jmorecfg_8h.html#a19">UINT16</a> quantval[<a class="code" href="jpeglib_8h.html#a2">DCTSIZE2</a>];  <span class="comment">/* quantization step for each coefficient */</span>
00089   <span class="comment">/* This field is used only during compression.  It's initialized FALSE when</span>
00090 <span class="comment">   * the table is created, and set TRUE when it's been output to the file.</span>
00091 <span class="comment">   * You could suppress output of a table by setting this to TRUE.</span>
00092 <span class="comment">   * (See jpeg_suppress_tables for an example.)</span>
00093 <span class="comment">   */</span>
<a name="l00094"></a><a class="code" href="structJQUANT__TBL.html#o1">00094</a>   <span class="keywordtype">boolean</span> sent_table;      <span class="comment">/* TRUE when table has been output */</span>
00095 } <a class="code" href="structJQUANT__TBL.html">JQUANT_TBL</a>;
00096 
00097 
00098 <span class="comment">/* Huffman coding tables. */</span>
00099 
<a name="l00100"></a><a class="code" href="structJHUFF__TBL.html">00100</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
00101   <span class="comment">/* These two fields directly represent the contents of a JPEG DHT marker */</span>
<a name="l00102"></a><a class="code" href="structJHUFF__TBL.html#o0">00102</a>   <a class="code" href="jmorecfg_8h.html#a18">UINT8</a> bits[17];    <span class="comment">/* bits[k] = # of symbols with codes of */</span>
00103             <span class="comment">/* length k bits; bits[0] is unused */</span>
<a name="l00104"></a><a class="code" href="structJHUFF__TBL.html#o1">00104</a>   <a class="code" href="jmorecfg_8h.html#a18">UINT8</a> huffval[256];      <span class="comment">/* The symbols, in order of incr code length */</span>
00105   <span class="comment">/* This field is used only during compression.  It's initialized FALSE when</span>
00106 <span class="comment">   * the table is created, and set TRUE when it's been output to the file.</span>
00107 <span class="comment">   * You could suppress output of a table by setting this to TRUE.</span>
00108 <span class="comment">   * (See jpeg_suppress_tables for an example.)</span>
00109 <span class="comment">   */</span>
<a name="l00110"></a><a class="code" href="structJHUFF__TBL.html#o2">00110</a>   <span class="keywordtype">boolean</span> sent_table;      <span class="comment">/* TRUE when table has been output */</span>
00111 } <a class="code" href="structJHUFF__TBL.html">JHUFF_TBL</a>;
00112 
00113 
00114 <span class="comment">/* Basic info about one component (color channel). */</span>
00115 
<a name="l00116"></a><a class="code" href="structjpeg__component__info.html">00116</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
00117   <span class="comment">/* These values are fixed over the whole image. */</span>
00118   <span class="comment">/* For compression, they must be supplied by parameter setup; */</span>
00119   <span class="comment">/* for decompression, they are read from the SOF marker. */</span>
<a name="l00120"></a><a class="code" href="structjpeg__component__info.html#o0">00120</a>   <span class="keywordtype">int</span> component_id;     <span class="comment">/* identifier for this component (0..255) */</span>
<a name="l00121"></a><a class="code" href="structjpeg__component__info.html#o1">00121</a>   <span class="keywordtype">int</span> component_index;     <span class="comment">/* its index in SOF or cinfo-&gt;comp_info[] */</span>
<a name="l00122"></a><a class="code" href="structjpeg__component__info.html#o2">00122</a>   <span class="keywordtype">int</span> h_samp_factor;    <span class="comment">/* horizontal sampling factor (1..4) */</span>
<a name="l00123"></a><a class="code" href="structjpeg__component__info.html#o3">00123</a>   <span class="keywordtype">int</span> v_samp_factor;    <span class="comment">/* vertical sampling factor (1..4) */</span>
<a name="l00124"></a><a class="code" href="structjpeg__component__info.html#o4">00124</a>   <span class="keywordtype">int</span> quant_tbl_no;     <span class="comment">/* quantization table selector (0..3) */</span>
00125   <span class="comment">/* These values may vary between scans. */</span>
00126   <span class="comment">/* For compression, they must be supplied by parameter setup; */</span>
00127   <span class="comment">/* for decompression, they are read from the SOS marker. */</span>
00128   <span class="comment">/* The decompressor output side may not use these variables. */</span>
<a name="l00129"></a><a class="code" href="structjpeg__component__info.html#o5">00129</a>   <span class="keywordtype">int</span> dc_tbl_no;     <span class="comment">/* DC entropy table selector (0..3) */</span>
<a name="l00130"></a><a class="code" href="structjpeg__component__info.html#o6">00130</a>   <span class="keywordtype">int</span> ac_tbl_no;     <span class="comment">/* AC entropy table selector (0..3) */</span>
00131   
00132   <span class="comment">/* Remaining fields should be treated as private by applications. */</span>
00133   
00134   <span class="comment">/* These values are computed during compression or decompression startup: */</span>
00135   <span class="comment">/* Component's size in DCT blocks.</span>
00136 <span class="comment">   * Any dummy blocks added to complete an MCU are not counted; therefore</span>
00137 <span class="comment">   * these values do not depend on whether a scan is interleaved or not.</span>
00138 <span class="comment">   */</span>
<a name="l00139"></a><a class="code" href="structjpeg__component__info.html#o7">00139</a>   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> width_in_blocks;
<a name="l00140"></a><a class="code" href="structjpeg__component__info.html#o8">00140</a>   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> height_in_blocks;
00141   <span class="comment">/* Size of a DCT block in samples.  Always DCTSIZE for compression.</span>
00142 <span class="comment">   * For decompression this is the size of the output from one DCT block,</span>
00143 <span class="comment">   * reflecting any scaling we choose to apply during the IDCT step.</span>
00144 <span class="comment">   * Values of 1,2,4,8 are likely to be supported.  Note that different</span>
00145 <span class="comment">   * components may receive different IDCT scalings.</span>
00146 <span class="comment">   */</span>
<a name="l00147"></a><a class="code" href="structjpeg__component__info.html#o9">00147</a>   <span class="keywordtype">int</span> DCT_scaled_size;
00148   <span class="comment">/* The downsampled dimensions are the component's actual, unpadded number</span>
00149 <span class="comment">   * of samples at the main buffer (preprocessing/compression interface), thus</span>
00150 <span class="comment">   * downsampled_width = ceil(image_width * Hi/Hmax)</span>
00151 <span class="comment">   * and similarly for height.  For decompression, IDCT scaling is included, so</span>
00152 <span class="comment">   * downsampled_width = ceil(image_width * Hi/Hmax * DCT_scaled_size/DCTSIZE)</span>
00153 <span class="comment">   */</span>
<a name="l00154"></a><a class="code" href="structjpeg__component__info.html#o10">00154</a>   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> downsampled_width;   <span class="comment">/* actual width in samples */</span>
<a name="l00155"></a><a class="code" href="structjpeg__component__info.html#o11">00155</a>   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> downsampled_height; <span class="comment">/* actual height in samples */</span>
00156   <span class="comment">/* This flag is used only for decompression.  In cases where some of the</span>
00157 <span class="comment">   * components will be ignored (eg grayscale output from YCbCr image),</span>
00158 <span class="comment">   * we can skip most computations for the unused components.</span>
00159 <span class="comment">   */</span>
<a name="l00160"></a><a class="code" href="structjpeg__component__info.html#o12">00160</a>   <span class="keywordtype">boolean</span> component_needed;   <span class="comment">/* do we need the value of this component? */</span>
00161 
00162   <span class="comment">/* These values are computed before starting a scan of the component. */</span>
00163   <span class="comment">/* The decompressor output side may not use these variables. */</span>
<a name="l00164"></a><a class="code" href="structjpeg__component__info.html#o13">00164</a>   <span class="keywordtype">int</span> MCU_width;     <span class="comment">/* number of blocks per MCU, horizontally */</span>
<a name="l00165"></a><a class="code" href="structjpeg__component__info.html#o14">00165</a>   <span class="keywordtype">int</span> MCU_height;    <span class="comment">/* number of blocks per MCU, vertically */</span>
<a name="l00166"></a><a class="code" href="structjpeg__component__info.html#o15">00166</a>   <span class="keywordtype">int</span> MCU_blocks;    <span class="comment">/* MCU_width * MCU_height */</span>
<a name="l00167"></a><a class="code" href="structjpeg__component__info.html#o16">00167</a>   <span class="keywordtype">int</span> MCU_sample_width;    <span class="comment">/* MCU width in samples, MCU_width*DCT_scaled_size */</span>
<a name="l00168"></a><a class="code" href="structjpeg__component__info.html#o17">00168</a>   <span class="keywordtype">int</span> last_col_width;      <span class="comment">/* # of non-dummy blocks across in last MCU */</span>
<a name="l00169"></a><a class="code" href="structjpeg__component__info.html#o18">00169</a>   <span class="keywordtype">int</span> last_row_height;     <span class="comment">/* # of non-dummy blocks down in last MCU */</span>
00170 
00171   <span class="comment">/* Saved quantization table for component; NULL if none yet saved.</span>
00172 <span class="comment">   * See jdinput.c comments about the need for this information.</span>
00173 <span class="comment">   * This field is currently used only for decompression.</span>
00174 <span class="comment">   */</span>
<a name="l00175"></a><a class="code" href="structjpeg__component__info.html#o19">00175</a>   <a class="code" href="structJQUANT__TBL.html">JQUANT_TBL</a> * quant_table;
00176 
00177   <span class="comment">/* Private per-component storage for DCT or IDCT subsystem. */</span>
<a name="l00178"></a><a class="code" href="structjpeg__component__info.html#o20">00178</a>   <span class="keywordtype">void</span> * dct_table;
00179 } <a class="code" href="structjpeg__component__info.html">jpeg_component_info</a>;
00180 
00181 
00182 <span class="comment">/* The script for encoding a multiple-scan file is an array of these: */</span>
00183 
<a name="l00184"></a><a class="code" href="structjpeg__scan__info.html">00184</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00185"></a><a class="code" href="structjpeg__scan__info.html#o0">00185</a>   <span class="keywordtype">int</span> comps_in_scan;    <span class="comment">/* number of components encoded in this scan */</span>
<a name="l00186"></a><a class="code" href="structjpeg__scan__info.html#o1">00186</a>   <span class="keywordtype">int</span> component_index[<a class="code" href="jpeglib_8h.html#a6">MAX_COMPS_IN_SCAN</a>]; <span class="comment">/* their SOF/comp_info[] indexes */</span>
<a name="l00187"></a><a class="code" href="structjpeg__scan__info.html#o2">00187</a>   <span class="keywordtype">int</span> <a class="code" href="jerror_8h.html#a52a27">Ss</a>, Se;        <span class="comment">/* progressive JPEG spectral selection parms */</span>
<a name="l00188"></a><a class="code" href="structjpeg__scan__info.html#o5">00188</a>   <span class="keywordtype">int</span> Ah, Al;        <span class="comment">/* progressive JPEG successive approx. parms */</span>
00189 } <a class="code" href="structjpeg__scan__info.html">jpeg_scan_info</a>;
00190 
00191 <span class="comment">/* The decompressor can save APPn and COM markers in a list of these: */</span>
00192 
<a name="l00193"></a><a class="code" href="jpeglib_8h.html#a40">00193</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structjpeg__marker__struct.html">jpeg_marker_struct</a> <a class="code" href="jmorecfg_8h.html#a12">FAR</a> * <a class="code" href="jpeglib_8h.html#a40">jpeg_saved_marker_ptr</a>;
00194 
<a name="l00195"></a><a class="code" href="structjpeg__marker__struct.html">00195</a> <span class="keyword">struct </span><a class="code" href="structjpeg__marker__struct.html">jpeg_marker_struct</a> {
<a name="l00196"></a><a class="code" href="structjpeg__marker__struct.html#o0">00196</a>   <a class="code" href="jpeglib_8h.html#a40">jpeg_saved_marker_ptr</a> <a class="code" href="structjpeg__marker__struct.html#o0">next</a>; <span class="comment">/* next in list, or NULL */</span>
<a name="l00197"></a><a class="code" href="structjpeg__marker__struct.html#o1">00197</a>   <a class="code" href="jmorecfg_8h.html#a18">UINT8</a> <a class="code" href="structjpeg__marker__struct.html#o1">marker</a>;         <span class="comment">/* marker code: JPEG_COM, or JPEG_APP0+n */</span>
<a name="l00198"></a><a class="code" href="structjpeg__marker__struct.html#o2">00198</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structjpeg__marker__struct.html#o2">original_length</a>;  <span class="comment">/* # bytes of data in the file */</span>
<a name="l00199"></a><a class="code" href="structjpeg__marker__struct.html#o3">00199</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structjpeg__marker__struct.html#o3">data_length</a>;   <span class="comment">/* # bytes of data saved at data[] */</span>
<a name="l00200"></a><a class="code" href="structjpeg__marker__struct.html#o4">00200</a>   <a class="code" href="jmorecfg_8h.html#a17">JOCTET</a> <a class="code" href="jmorecfg_8h.html#a12">FAR</a> * <a class="code" href="structjpeg__marker__struct.html#o4">data</a>;    <span class="comment">/* the data contained in the marker */</span>
00201   <span class="comment">/* the marker length word is not counted in data_length or original_length */</span>
00202 };
00203 
00204 <span class="comment">/* Known color spaces. */</span>
00205 
<a name="l00206"></a><a class="code" href="jpeglib_8h.html#a95">00206</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00207    <a class="code" href="jpeglib_8h.html#a95a74">JCS_UNKNOWN</a>,      <span class="comment">/* error/unspecified */</span>
00208    <a class="code" href="jpeglib_8h.html#a95a75">JCS_GRAYSCALE</a>,    <span class="comment">/* monochrome */</span>
00209    <a class="code" href="jpeglib_8h.html#a95a76">JCS_RGB</a>,    <span class="comment">/* red/green/blue */</span>
00210    <a class="code" href="jpeglib_8h.html#a95a77">JCS_YCbCr</a>,     <span class="comment">/* Y/Cb/Cr (also known as YUV) */</span>
00211    <a class="code" href="jpeglib_8h.html#a95a78">JCS_CMYK</a>,      <span class="comment">/* C/M/Y/K */</span>
00212    <a class="code" href="jpeglib_8h.html#a95a79">JCS_YCCK</a>    <span class="comment">/* Y/Cb/Cr/K */</span>
00213 } <a class="code" href="jpeglib_8h.html#a95">J_COLOR_SPACE</a>;
00214 
00215 <span class="comment">/* DCT/IDCT algorithm options. */</span>
00216 
<a name="l00217"></a><a class="code" href="jpeglib_8h.html#a96">00217</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00218    <a class="code" href="jpeglib_8h.html#a96a80">JDCT_ISLOW</a>,    <span class="comment">/* slow but accurate integer algorithm */</span>
00219    <a class="code" href="jpeglib_8h.html#a96a81">JDCT_IFAST</a>,    <span class="comment">/* faster, less accurate integer method */</span>
00220    <a class="code" href="jpeglib_8h.html#a96a82">JDCT_FLOAT</a>     <span class="comment">/* floating-point: accurate, fast on fast HW */</span>
00221 } <a class="code" href="jpeglib_8h.html#a96">J_DCT_METHOD</a>;
00222 
00223 <span class="preprocessor">#ifndef JDCT_DEFAULT    </span><span class="comment">/* may be overridden in jconfig.h */</span>
<a name="l00224"></a><a class="code" href="jpeglib_8h.html#a10">00224</a> <span class="preprocessor">#define JDCT_DEFAULT  JDCT_ISLOW</span>
00225 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00226 <span class="preprocessor"></span><span class="preprocessor">#ifndef JDCT_FASTEST    </span><span class="comment">/* may be overridden in jconfig.h */</span>
<a name="l00227"></a><a class="code" href="jpeglib_8h.html#a11">00227</a> <span class="preprocessor">#define JDCT_FASTEST  JDCT_IFAST</span>
00228 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00229 <span class="preprocessor"></span>
00230 <span class="comment">/* Dithering options for decompression. */</span>
00231 
<a name="l00232"></a><a class="code" href="jpeglib_8h.html#a97">00232</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00233    <a class="code" href="jpeglib_8h.html#a97a83">JDITHER_NONE</a>,     <span class="comment">/* no dithering */</span>
00234    <a class="code" href="jpeglib_8h.html#a97a84">JDITHER_ORDERED</a>,  <span class="comment">/* simple ordered dither */</span>
00235    <a class="code" href="jpeglib_8h.html#a97a85">JDITHER_FS</a>     <span class="comment">/* Floyd-Steinberg error diffusion dither */</span>
00236 } <a class="code" href="jpeglib_8h.html#a97">J_DITHER_MODE</a>;
00237 
00238 
00239 <span class="comment">/* Common fields between JPEG compression and decompression master structs. */</span>
00240 
<a name="l00241"></a><a class="code" href="jpeglib_8h.html#a12">00241</a> <span class="preprocessor">#define jpeg_common_fields \</span>
00242 <span class="preprocessor">  struct jpeg_error_mgr * err;   </span><span class="comment">/* Error handler module */</span>\
00243   struct jpeg_memory_mgr * mem;  <span class="comment">/* Memory manager module */</span>\
00244   struct jpeg_progress_mgr * progress; <span class="comment">/* Progress monitor, or NULL if none */</span>\
00245   void * client_data;      <span class="comment">/* Available for use by application */</span>\
00246   boolean is_decompressor; <span class="comment">/* So common code can tell which is which */</span>\
00247   int global_state      <span class="comment">/* For checking call sequence validity */</span>
00248 
00249 <span class="comment">/* Routines that are to be used by both halves of the library are declared</span>
00250 <span class="comment"> * to receive a pointer to this structure.  There are no actual instances of</span>
00251 <span class="comment"> * jpeg_common_struct, only of jpeg_compress_struct and jpeg_decompress_struct.</span>
00252 <span class="comment"> */</span>
<a name="l00253"></a><a class="code" href="structjpeg__common__struct.html">00253</a> <span class="keyword">struct </span><a class="code" href="structjpeg__common__struct.html">jpeg_common_struct</a> {
<a name="l00254"></a><a class="code" href="structjpeg__common__struct.html#o0">00254</a>   <a class="code" href="structjpeg__common__struct.html#o0">jpeg_common_fields</a>;      <span class="comment">/* Fields common to both master struct types */</span>
00255   <span class="comment">/* Additional fields follow in an actual jpeg_compress_struct or</span>
00256 <span class="comment">   * jpeg_decompress_struct.  All three structs must agree on these</span>
00257 <span class="comment">   * initial fields!  (This would be a lot cleaner in C++.)</span>
00258 <span class="comment">   */</span>
00259 };
00260 
<a name="l00261"></a><a class="code" href="jpeglib_8h.html#a41">00261</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structjpeg__common__struct.html">jpeg_common_struct</a> * <a class="code" href="structjpeg__common__struct.html">j_common_ptr</a>;
<a name="l00262"></a><a class="code" href="jpeglib_8h.html#a42">00262</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structjpeg__compress__struct.html">jpeg_compress_struct</a> * <a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a>;
<a name="l00263"></a><a class="code" href="jpeglib_8h.html#a43">00263</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structjpeg__decompress__struct.html">jpeg_decompress_struct</a> * <a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a>;
00264 
00265 
00266 <span class="comment">/* Master record for a compression instance */</span>
00267 
<a name="l00268"></a><a class="code" href="structjpeg__compress__struct.html">00268</a> <span class="keyword">struct </span><a class="code" href="structjpeg__compress__struct.html">jpeg_compress_struct</a> {
<a name="l00269"></a><a class="code" href="structjpeg__compress__struct.html#o0">00269</a>   <a class="code" href="structjpeg__compress__struct.html#o0">jpeg_common_fields</a>;      <span class="comment">/* Fields shared with jpeg_decompress_struct */</span>
00270 
00271   <span class="comment">/* Destination for compressed data */</span>
<a name="l00272"></a><a class="code" href="structjpeg__compress__struct.html#o1">00272</a>   <span class="keyword">struct </span><a class="code" href="structjpeg__destination__mgr.html">jpeg_destination_mgr</a> * <a class="code" href="structjpeg__compress__struct.html#o1">dest</a>;
00273 
00274   <span class="comment">/* Description of source image --- these fields must be filled in by</span>
00275 <span class="comment">   * outer application before starting compression.  in_color_space must</span>
00276 <span class="comment">   * be correct before you can even call jpeg_set_defaults().</span>
00277 <span class="comment">   */</span>
00278 
<a name="l00279"></a><a class="code" href="structjpeg__compress__struct.html#o2">00279</a>   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> <a class="code" href="structjpeg__compress__struct.html#o2">image_width</a>;  <span class="comment">/* input image width */</span>
<a name="l00280"></a><a class="code" href="structjpeg__compress__struct.html#o3">00280</a>   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> <a class="code" href="structjpeg__compress__struct.html#o3">image_height</a>; <span class="comment">/* input image height */</span>
<a name="l00281"></a><a class="code" href="structjpeg__compress__struct.html#o4">00281</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__compress__struct.html#o4">input_components</a>;    <span class="comment">/* # of color components in input image */</span>
<a name="l00282"></a><a class="code" href="structjpeg__compress__struct.html#o5">00282</a>   <a class="code" href="jpeglib_8h.html#a95">J_COLOR_SPACE</a> <a class="code" href="structjpeg__compress__struct.html#o5">in_color_space</a>;  <span class="comment">/* colorspace of input image */</span>
00283 
<a name="l00284"></a><a class="code" href="structjpeg__compress__struct.html#o6">00284</a>   <span class="keywordtype">double</span> <a class="code" href="structjpeg__compress__struct.html#o6">input_gamma</a>;      <span class="comment">/* image gamma of input image */</span>
00285 
00286   <span class="comment">/* Compression parameters --- these fields must be set before calling</span>
00287 <span class="comment">   * jpeg_start_compress().  We recommend calling jpeg_set_defaults() to</span>
00288 <span class="comment">   * initialize everything to reasonable defaults, then changing anything</span>
00289 <span class="comment">   * the application specifically wants to change.  That way you won't get</span>
00290 <span class="comment">   * burnt when new parameters are added.  Also note that there are several</span>
00291 <span class="comment">   * helper routines to simplify changing parameters.</span>
00292 <span class="comment">   */</span>
00293 
<a name="l00294"></a><a class="code" href="structjpeg__compress__struct.html#o7">00294</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__compress__struct.html#o7">data_precision</a>;      <span class="comment">/* bits of precision in image data */</span>
00295 
<a name="l00296"></a><a class="code" href="structjpeg__compress__struct.html#o8">00296</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__compress__struct.html#o8">num_components</a>;      <span class="comment">/* # of color components in JPEG image */</span>
<a name="l00297"></a><a class="code" href="structjpeg__compress__struct.html#o9">00297</a>   <a class="code" href="jpeglib_8h.html#a95">J_COLOR_SPACE</a> <a class="code" href="structjpeg__compress__struct.html#o9">jpeg_color_space</a>; <span class="comment">/* colorspace of JPEG image */</span>
00298 
<a name="l00299"></a><a class="code" href="structjpeg__compress__struct.html#o10">00299</a>   <a class="code" href="structjpeg__component__info.html">jpeg_component_info</a> * <a class="code" href="structjpeg__compress__struct.html#o10">comp_info</a>;
00300   <span class="comment">/* comp_info[i] describes component that appears i'th in SOF */</span>
00301   
<a name="l00302"></a><a class="code" href="structjpeg__compress__struct.html#o11">00302</a>   <a class="code" href="structJQUANT__TBL.html">JQUANT_TBL</a> * <a class="code" href="structjpeg__compress__struct.html#o11">quant_tbl_ptrs</a>[<a class="code" href="jpeglib_8h.html#a3">NUM_QUANT_TBLS</a>];
00303   <span class="comment">/* ptrs to coefficient quantization tables, or NULL if not defined */</span>
00304   
<a name="l00305"></a><a class="code" href="structjpeg__compress__struct.html#o12">00305</a>   <a class="code" href="structJHUFF__TBL.html">JHUFF_TBL</a> * <a class="code" href="structjpeg__compress__struct.html#o12">dc_huff_tbl_ptrs</a>[<a class="code" href="jpeglib_8h.html#a4">NUM_HUFF_TBLS</a>];
<a name="l00306"></a><a class="code" href="structjpeg__compress__struct.html#o13">00306</a>   <a class="code" href="structJHUFF__TBL.html">JHUFF_TBL</a> * <a class="code" href="structjpeg__compress__struct.html#o13">ac_huff_tbl_ptrs</a>[<a class="code" href="jpeglib_8h.html#a4">NUM_HUFF_TBLS</a>];
00307   <span class="comment">/* ptrs to Huffman coding tables, or NULL if not defined */</span>
00308   
<a name="l00309"></a><a class="code" href="structjpeg__compress__struct.html#o14">00309</a>   <a class="code" href="jmorecfg_8h.html#a18">UINT8</a> <a class="code" href="structjpeg__compress__struct.html#o14">arith_dc_L</a>[<a class="code" href="jpeglib_8h.html#a5">NUM_ARITH_TBLS</a>]; <span class="comment">/* L values for DC arith-coding tables */</span>
<a name="l00310"></a><a class="code" href="structjpeg__compress__struct.html#o15">00310</a>   <a class="code" href="jmorecfg_8h.html#a18">UINT8</a> <a class="code" href="structjpeg__compress__struct.html#o15">arith_dc_U</a>[<a class="code" href="jpeglib_8h.html#a5">NUM_ARITH_TBLS</a>]; <span class="comment">/* U values for DC arith-coding tables */</span>
<a name="l00311"></a><a class="code" href="structjpeg__compress__struct.html#o16">00311</a>   <a class="code" href="jmorecfg_8h.html#a18">UINT8</a> <a class="code" href="structjpeg__compress__struct.html#o16">arith_ac_K</a>[<a class="code" href="jpeglib_8h.html#a5">NUM_ARITH_TBLS</a>]; <span class="comment">/* Kx values for AC arith-coding tables */</span>
00312 
<a name="l00313"></a><a class="code" href="structjpeg__compress__struct.html#o17">00313</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__compress__struct.html#o17">num_scans</a>;     <span class="comment">/* # of entries in scan_info array */</span>
<a name="l00314"></a><a class="code" href="structjpeg__compress__struct.html#o18">00314</a>   <span class="keyword">const</span> <a class="code" href="structjpeg__scan__info.html">jpeg_scan_info</a> * <a class="code" href="structjpeg__compress__struct.html#o18">scan_info</a>; <span class="comment">/* script for multi-scan file, or NULL */</span>
00315   <span class="comment">/* The default value of scan_info is NULL, which causes a single-scan</span>
00316 <span class="comment">   * sequential JPEG file to be emitted.  To create a multi-scan file,</span>
00317 <span class="comment">   * set num_scans and scan_info to point to an array of scan definitions.</span>
00318 <span class="comment">   */</span>
00319 
<a name="l00320"></a><a class="code" href="structjpeg__compress__struct.html#o19">00320</a>   <span class="keywordtype">boolean</span> <a class="code" href="structjpeg__compress__struct.html#o19">raw_data_in</a>;     <span class="comment">/* TRUE=caller supplies downsampled data */</span>
<a name="l00321"></a><a class="code" href="structjpeg__compress__struct.html#o20">00321</a>   <span class="keywordtype">boolean</span> <a class="code" href="structjpeg__compress__struct.html#o20">arith_code</a>;      <span class="comment">/* TRUE=arithmetic coding, FALSE=Huffman */</span>
<a name="l00322"></a><a class="code" href="structjpeg__compress__struct.html#o21">00322</a>   <span class="keywordtype">boolean</span> <a class="code" href="structjpeg__compress__struct.html#o21">optimize_coding</a>; <span class="comment">/* TRUE=optimize entropy encoding parms */</span>
<a name="l00323"></a><a class="code" href="structjpeg__compress__struct.html#o22">00323</a>   <span class="keywordtype">boolean</span> <a class="code" href="structjpeg__compress__struct.html#o22">CCIR601_sampling</a>;   <span class="comment">/* TRUE=first samples are cosited */</span>
<a name="l00324"></a><a class="code" href="structjpeg__compress__struct.html#o23">00324</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__compress__struct.html#o23">smoothing_factor</a>;    <span class="comment">/* 1..100, or 0 for no input smoothing */</span>
<a name="l00325"></a><a class="code" href="structjpeg__compress__struct.html#o24">00325</a>   <a class="code" href="jpeglib_8h.html#a96">J_DCT_METHOD</a> <a class="code" href="structjpeg__compress__struct.html#o24">dct_method</a>; <span class="comment">/* DCT algorithm selector */</span>
00326 
00327   <span class="comment">/* The restart interval can be specified in absolute MCUs by setting</span>
00328 <span class="comment">   * restart_interval, or in MCU rows by setting restart_in_rows</span>
00329 <span class="comment">   * (in which case the correct restart_interval will be figured</span>
00330 <span class="comment">   * for each scan).</span>
00331 <span class="comment">   */</span>
<a name="l00332"></a><a class="code" href="structjpeg__compress__struct.html#o25">00332</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structjpeg__compress__struct.html#o25">restart_interval</a>; <span class="comment">/* MCUs per restart, or 0 for no restart */</span>
<a name="l00333"></a><a class="code" href="structjpeg__compress__struct.html#o26">00333</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__compress__struct.html#o26">restart_in_rows</a>;     <span class="comment">/* if &gt; 0, MCU rows per restart interval */</span>
00334 
00335   <span class="comment">/* Parameters controlling emission of special markers. */</span>
00336 
<a name="l00337"></a><a class="code" href="structjpeg__compress__struct.html#o27">00337</a>   <span class="keywordtype">boolean</span> <a class="code" href="structjpeg__compress__struct.html#o27">write_JFIF_header</a>;  <span class="comment">/* should a JFIF marker be written? */</span>
<a name="l00338"></a><a class="code" href="structjpeg__compress__struct.html#o28">00338</a>   <a class="code" href="jmorecfg_8h.html#a18">UINT8</a> <a class="code" href="structjpeg__compress__struct.html#o28">JFIF_major_version</a>;   <span class="comment">/* What to write for the JFIF version number */</span>
<a name="l00339"></a><a class="code" href="structjpeg__compress__struct.html#o29">00339</a>   <a class="code" href="jmorecfg_8h.html#a18">UINT8</a> <a class="code" href="structjpeg__compress__struct.html#o29">JFIF_minor_version</a>;
00340   <span class="comment">/* These three values are not used by the JPEG code, merely copied */</span>
00341   <span class="comment">/* into the JFIF APP0 marker.  density_unit can be 0 for unknown, */</span>
00342   <span class="comment">/* 1 for dots/inch, or 2 for dots/cm.  Note that the pixel aspect */</span>
00343   <span class="comment">/* ratio is defined by X_density/Y_density even when density_unit=0. */</span>
<a name="l00344"></a><a class="code" href="structjpeg__compress__struct.html#o30">00344</a>   <a class="code" href="jmorecfg_8h.html#a18">UINT8</a> <a class="code" href="structjpeg__compress__struct.html#o30">density_unit</a>;      <span class="comment">/* JFIF code for pixel size units */</span>
<a name="l00345"></a><a class="code" href="structjpeg__compress__struct.html#o31">00345</a>   <a class="code" href="jmorecfg_8h.html#a19">UINT16</a> <a class="code" href="structjpeg__compress__struct.html#o31">X_density</a>;     <span class="comment">/* Horizontal pixel density */</span>
<a name="l00346"></a><a class="code" href="structjpeg__compress__struct.html#o32">00346</a>   <a class="code" href="jmorecfg_8h.html#a19">UINT16</a> <a class="code" href="structjpeg__compress__struct.html#o32">Y_density</a>;     <span class="comment">/* Vertical pixel density */</span>
<a name="l00347"></a><a class="code" href="structjpeg__compress__struct.html#o33">00347</a>   <span class="keywordtype">boolean</span> <a class="code" href="structjpeg__compress__struct.html#o33">write_Adobe_marker</a>; <span class="comment">/* should an Adobe marker be written? */</span>
00348   
00349   <span class="comment">/* State variable: index of next scanline to be written to</span>
00350 <span class="comment">   * jpeg_write_scanlines().  Application may use this to control its</span>
00351 <span class="comment">   * processing loop, e.g., "while (next_scanline &lt; image_height)".</span>
00352 <span class="comment">   */</span>
00353 
<a name="l00354"></a><a class="code" href="structjpeg__compress__struct.html#o34">00354</a>   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> <a class="code" href="structjpeg__compress__struct.html#o34">next_scanline</a>;   <span class="comment">/* 0 .. image_height-1  */</span>
00355 
00356   <span class="comment">/* Remaining fields are known throughout compressor, but generally</span>
00357 <span class="comment">   * should not be touched by a surrounding application.</span>
00358 <span class="comment">   */</span>
00359 
00360   <span class="comment">/*</span>
00361 <span class="comment">   * These fields are computed during compression startup</span>
00362 <span class="comment">   */</span>
<a name="l00363"></a><a class="code" href="structjpeg__compress__struct.html#o35">00363</a>   <span class="keywordtype">boolean</span> <a class="code" href="structjpeg__compress__struct.html#o35">progressive_mode</a>;   <span class="comment">/* TRUE if scan script uses progressive mode */</span>
<a name="l00364"></a><a class="code" href="structjpeg__compress__struct.html#o36">00364</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__compress__struct.html#o36">max_h_samp_factor</a>;   <span class="comment">/* largest h_samp_factor */</span>
<a name="l00365"></a><a class="code" href="structjpeg__compress__struct.html#o37">00365</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__compress__struct.html#o37">max_v_samp_factor</a>;   <span class="comment">/* largest v_samp_factor */</span>
00366 
<a name="l00367"></a><a class="code" href="structjpeg__compress__struct.html#o38">00367</a>   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> <a class="code" href="structjpeg__compress__struct.html#o38">total_iMCU_rows</a>; <span class="comment">/* # of iMCU rows to be input to coef ctlr */</span>
00368   <span class="comment">/* The coefficient controller receives data in units of MCU rows as defined</span>
00369 <span class="comment">   * for fully interleaved scans (whether the JPEG file is interleaved or not).</span>
00370 <span class="comment">   * There are v_samp_factor * DCTSIZE sample rows of each component in an</span>
00371 <span class="comment">   * "iMCU" (interleaved MCU) row.</span>
00372 <span class="comment">   */</span>
00373   
00374   <span class="comment">/*</span>
00375 <span class="comment">   * These fields are valid during any one scan.</span>
00376 <span class="comment">   * They describe the components and MCUs actually appearing in the scan.</span>
00377 <span class="comment">   */</span>
<a name="l00378"></a><a class="code" href="structjpeg__compress__struct.html#o39">00378</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__compress__struct.html#o39">comps_in_scan</a>;    <span class="comment">/* # of JPEG components in this scan */</span>
<a name="l00379"></a><a class="code" href="structjpeg__compress__struct.html#o40">00379</a>   <a class="code" href="structjpeg__component__info.html">jpeg_component_info</a> * <a class="code" href="structjpeg__compress__struct.html#o40">cur_comp_info</a>[<a class="code" href="jpeglib_8h.html#a6">MAX_COMPS_IN_SCAN</a>];
00380   <span class="comment">/* *cur_comp_info[i] describes component that appears i'th in SOS */</span>
00381   
<a name="l00382"></a><a class="code" href="structjpeg__compress__struct.html#o41">00382</a>   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> <a class="code" href="structjpeg__compress__struct.html#o41">MCUs_per_row</a>; <span class="comment">/* # of MCUs across the image */</span>
<a name="l00383"></a><a class="code" href="structjpeg__compress__struct.html#o42">00383</a>   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> <a class="code" href="structjpeg__compress__struct.html#o42">MCU_rows_in_scan</a>;   <span class="comment">/* # of MCU rows in the image */</span>
00384   
<a name="l00385"></a><a class="code" href="structjpeg__compress__struct.html#o43">00385</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__compress__struct.html#o43">blocks_in_MCU</a>;    <span class="comment">/* # of DCT blocks per MCU */</span>
<a name="l00386"></a><a class="code" href="structjpeg__compress__struct.html#o44">00386</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__compress__struct.html#o44">MCU_membership</a>[<a class="code" href="jpeglib_8h.html#a8">C_MAX_BLOCKS_IN_MCU</a>];
00387   <span class="comment">/* MCU_membership[i] is index in cur_comp_info of component owning */</span>
00388   <span class="comment">/* i'th block in an MCU */</span>
00389 
<a name="l00390"></a><a class="code" href="structjpeg__compress__struct.html#o45">00390</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__compress__struct.html#o45">Ss</a>, <a class="code" href="structjpeg__compress__struct.html#o46">Se</a>, <a class="code" href="structjpeg__compress__struct.html#o47">Ah</a>, <a class="code" href="structjpeg__compress__struct.html#o48">Al</a>;      <span class="comment">/* progressive JPEG parameters for scan */</span>
00391 
00392   <span class="comment">/*</span>
00393 <span class="comment">   * Links to compression subobjects (methods and private variables of modules)</span>
00394 <span class="comment">   */</span>
<a name="l00395"></a><a class="code" href="structjpeg__compress__struct.html#o49">00395</a>   <span class="keyword">struct </span><a class="code" href="structjpeg__comp__master.html">jpeg_comp_master</a> * <a class="code" href="structjpeg__compress__struct.html#o49">master</a>;
<a name="l00396"></a><a class="code" href="structjpeg__compress__struct.html#o50">00396</a>   <span class="keyword">struct </span><a class="code" href="structjpeg__c__main__controller.html">jpeg_c_main_controller</a> * <a class="code" href="structjpeg__compress__struct.html#o50">main</a>;
<a name="l00397"></a><a class="code" href="structjpeg__compress__struct.html#o51">00397</a>   <span class="keyword">struct </span><a class="code" href="structjpeg__c__prep__controller.html">jpeg_c_prep_controller</a> * <a class="code" href="structjpeg__compress__struct.html#o51">prep</a>;
<a name="l00398"></a><a class="code" href="structjpeg__compress__struct.html#o52">00398</a>   <span class="keyword">struct </span><a class="code" href="structjpeg__c__coef__controller.html">jpeg_c_coef_controller</a> * <a class="code" href="structjpeg__compress__struct.html#o52">coef</a>;
<a name="l00399"></a><a class="code" href="structjpeg__compress__struct.html#o53">00399</a>   <span class="keyword">struct </span><a class="code" href="structjpeg__marker__writer.html">jpeg_marker_writer</a> * <a class="code" href="structjpeg__compress__struct.html#o53">marker</a>;
<a name="l00400"></a><a class="code" href="structjpeg__compress__struct.html#o54">00400</a>   <span class="keyword">struct </span><a class="code" href="structjpeg__color__converter.html">jpeg_color_converter</a> * <a class="code" href="structjpeg__compress__struct.html#o54">cconvert</a>;
<a name="l00401"></a><a class="code" href="structjpeg__compress__struct.html#o55">00401</a>   <span class="keyword">struct </span><a class="code" href="structjpeg__downsampler.html">jpeg_downsampler</a> * <a class="code" href="structjpeg__compress__struct.html#o55">downsample</a>;
<a name="l00402"></a><a class="code" href="structjpeg__compress__struct.html#o56">00402</a>   <span class="keyword">struct </span><a class="code" href="structjpeg__forward__dct.html">jpeg_forward_dct</a> * <a class="code" href="structjpeg__compress__struct.html#o56">fdct</a>;
<a name="l00403"></a><a class="code" href="structjpeg__compress__struct.html#o57">00403</a>   <span class="keyword">struct </span><a class="code" href="structjpeg__entropy__encoder.html">jpeg_entropy_encoder</a> * <a class="code" href="structjpeg__compress__struct.html#o57">entropy</a>;
<a name="l00404"></a><a class="code" href="structjpeg__compress__struct.html#o58">00404</a>   <a class="code" href="structjpeg__scan__info.html">jpeg_scan_info</a> * <a class="code" href="structjpeg__compress__struct.html#o58">script_space</a>; <span class="comment">/* workspace for jpeg_simple_progression */</span>
<a name="l00405"></a><a class="code" href="structjpeg__compress__struct.html#o59">00405</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__compress__struct.html#o59">script_space_size</a>;
00406 };
00407 
00408 
00409 <span class="comment">/* Master record for a decompression instance */</span>
00410 
<a name="l00411"></a><a class="code" href="structjpeg__decompress__struct.html">00411</a> <span class="keyword">struct </span><a class="code" href="structjpeg__decompress__struct.html">jpeg_decompress_struct</a> {
<a name="l00412"></a><a class="code" href="structjpeg__decompress__struct.html#o0">00412</a>   <a class="code" href="structjpeg__decompress__struct.html#o0">jpeg_common_fields</a>;      <span class="comment">/* Fields shared with jpeg_compress_struct */</span>
00413 
00414   <span class="comment">/* Source of compressed data */</span>
<a name="l00415"></a><a class="code" href="structjpeg__decompress__struct.html#o1">00415</a>   <span class="keyword">struct </span><a class="code" href="structjpeg__source__mgr.html">jpeg_source_mgr</a> * <a class="code" href="structjpeg__decompress__struct.html#o1">src</a>;
00416 
00417   <span class="comment">/* Basic description of image --- filled in by jpeg_read_header(). */</span>
00418   <span class="comment">/* Application may inspect these values to decide how to process image. */</span>
00419 
<a name="l00420"></a><a class="code" href="structjpeg__decompress__struct.html#o2">00420</a>   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> <a class="code" href="structjpeg__decompress__struct.html#o2">image_width</a>;  <span class="comment">/* nominal image width (from SOF marker) */</span>
<a name="l00421"></a><a class="code" href="structjpeg__decompress__struct.html#o3">00421</a>   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> <a class="code" href="structjpeg__decompress__struct.html#o3">image_height</a>; <span class="comment">/* nominal image height */</span>
<a name="l00422"></a><a class="code" href="structjpeg__decompress__struct.html#o4">00422</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__decompress__struct.html#o4">num_components</a>;      <span class="comment">/* # of color components in JPEG image */</span>
<a name="l00423"></a><a class="code" href="structjpeg__decompress__struct.html#o5">00423</a>   <a class="code" href="jpeglib_8h.html#a95">J_COLOR_SPACE</a> <a class="code" href="structjpeg__decompress__struct.html#o5">jpeg_color_space</a>; <span class="comment">/* colorspace of JPEG image */</span>
00424 
00425   <span class="comment">/* Decompression processing parameters --- these fields must be set before</span>
00426 <span class="comment">   * calling jpeg_start_decompress().  Note that jpeg_read_header() initializes</span>
00427 <span class="comment">   * them to default values.</span>
00428 <span class="comment">   */</span>
00429 
<a name="l00430"></a><a class="code" href="structjpeg__decompress__struct.html#o6">00430</a>   <a class="code" href="jpeglib_8h.html#a95">J_COLOR_SPACE</a> <a class="code" href="structjpeg__decompress__struct.html#o6">out_color_space</a>; <span class="comment">/* colorspace for output */</span>
00431 
<a name="l00432"></a><a class="code" href="structjpeg__decompress__struct.html#o7">00432</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structjpeg__decompress__struct.html#o7">scale_num</a>, <a class="code" href="structjpeg__decompress__struct.html#o8">scale_denom</a>; <span class="comment">/* fraction by which to scale image */</span>
00433 
<a name="l00434"></a><a class="code" href="structjpeg__decompress__struct.html#o9">00434</a>   <span class="keywordtype">double</span> <a class="code" href="structjpeg__decompress__struct.html#o9">output_gamma</a>;     <span class="comment">/* image gamma wanted in output */</span>
00435 
<a name="l00436"></a><a class="code" href="structjpeg__decompress__struct.html#o10">00436</a>   <span class="keywordtype">boolean</span> <a class="code" href="structjpeg__decompress__struct.html#o10">buffered_image</a>;  <span class="comment">/* TRUE=multiple output passes */</span>
<a name="l00437"></a><a class="code" href="structjpeg__decompress__struct.html#o11">00437</a>   <span class="keywordtype">boolean</span> <a class="code" href="structjpeg__decompress__struct.html#o11">raw_data_out</a>;    <span class="comment">/* TRUE=downsampled data wanted */</span>
00438 
<a name="l00439"></a><a class="code" href="structjpeg__decompress__struct.html#o12">00439</a>   <a class="code" href="jpeglib_8h.html#a96">J_DCT_METHOD</a> <a class="code" href="structjpeg__decompress__struct.html#o12">dct_method</a>; <span class="comment">/* IDCT algorithm selector */</span>
<a name="l00440"></a><a class="code" href="structjpeg__decompress__struct.html#o13">00440</a>   <span class="keywordtype">boolean</span> <a class="code" href="structjpeg__decompress__struct.html#o13">do_fancy_upsampling</a>;   <span class="comment">/* TRUE=apply fancy upsampling */</span>
<a name="l00441"></a><a class="code" href="structjpeg__decompress__struct.html#o14">00441</a>   <span class="keywordtype">boolean</span> <a class="code" href="structjpeg__decompress__struct.html#o14">do_block_smoothing</a>; <span class="comment">/* TRUE=apply interblock smoothing */</span>
00442 
<a name="l00443"></a><a class="code" href="structjpeg__decompress__struct.html#o15">00443</a>   <span class="keywordtype">boolean</span> <a class="code" href="structjpeg__decompress__struct.html#o15">quantize_colors</a>; <span class="comment">/* TRUE=colormapped output wanted */</span>
00444   <span class="comment">/* the following are ignored if not quantize_colors: */</span>
<a name="l00445"></a><a class="code" href="structjpeg__decompress__struct.html#o16">00445</a>   <a class="code" href="jpeglib_8h.html#a97">J_DITHER_MODE</a> <a class="code" href="structjpeg__decompress__struct.html#o16">dither_mode</a>;  <span class="comment">/* type of color dithering to use */</span>
<a name="l00446"></a><a class="code" href="structjpeg__decompress__struct.html#o17">00446</a>   <span class="keywordtype">boolean</span> <a class="code" href="structjpeg__decompress__struct.html#o17">two_pass_quantize</a>;  <span class="comment">/* TRUE=use two-pass color quantization */</span>
<a name="l00447"></a><a class="code" href="structjpeg__decompress__struct.html#o18">00447</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__decompress__struct.html#o18">desired_number_of_colors</a>;  <span class="comment">/* max # colors to use in created colormap */</span>
00448   <span class="comment">/* these are significant only in buffered-image mode: */</span>
<a name="l00449"></a><a class="code" href="structjpeg__decompress__struct.html#o19">00449</a>   <span class="keywordtype">boolean</span> <a class="code" href="structjpeg__decompress__struct.html#o19">enable_1pass_quant</a>; <span class="comment">/* enable future use of 1-pass quantizer */</span>
<a name="l00450"></a><a class="code" href="structjpeg__decompress__struct.html#o20">00450</a>   <span class="keywordtype">boolean</span> <a class="code" href="structjpeg__decompress__struct.html#o20">enable_external_quant</a>;<span class="comment">/* enable future use of external colormap */</span>
<a name="l00451"></a><a class="code" href="structjpeg__decompress__struct.html#o21">00451</a>   <span class="keywordtype">boolean</span> <a class="code" href="structjpeg__decompress__struct.html#o21">enable_2pass_quant</a>; <span class="comment">/* enable future use of 2-pass quantizer */</span>
00452 
00453   <span class="comment">/* Description of actual output image that will be returned to application.</span>
00454 <span class="comment">   * These fields are computed by jpeg_start_decompress().</span>
00455 <span class="comment">   * You can also use jpeg_calc_output_dimensions() to determine these values</span>
00456 <span class="comment">   * in advance of calling jpeg_start_decompress().</span>
00457 <span class="comment">   */</span>
00458 
<a name="l00459"></a><a class="code" href="structjpeg__decompress__struct.html#o22">00459</a>   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> <a class="code" href="structjpeg__decompress__struct.html#o22">output_width</a>; <span class="comment">/* scaled image width */</span>
<a name="l00460"></a><a class="code" href="structjpeg__decompress__struct.html#o23">00460</a>   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> <a class="code" href="structjpeg__decompress__struct.html#o23">output_height</a>;   <span class="comment">/* scaled image height */</span>
<a name="l00461"></a><a class="code" href="structjpeg__decompress__struct.html#o24">00461</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__decompress__struct.html#o24">out_color_components</a>;   <span class="comment">/* # of color components in out_color_space */</span>
<a name="l00462"></a><a class="code" href="structjpeg__decompress__struct.html#o25">00462</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__decompress__struct.html#o25">output_components</a>;   <span class="comment">/* # of color components returned */</span>
00463   <span class="comment">/* output_components is 1 (a colormap index) when quantizing colors;</span>
00464 <span class="comment">   * otherwise it equals out_color_components.</span>
00465 <span class="comment">   */</span>
<a name="l00466"></a><a class="code" href="structjpeg__decompress__struct.html#o26">00466</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__decompress__struct.html#o26">rec_outbuf_height</a>;   <span class="comment">/* min recommended height of scanline buffer */</span>
00467   <span class="comment">/* If the buffer passed to jpeg_read_scanlines() is less than this many rows</span>
00468 <span class="comment">   * high, space and time will be wasted due to unnecessary data copying.</span>
00469 <span class="comment">   * Usually rec_outbuf_height will be 1 or 2, at most 4.</span>
00470 <span class="comment">   */</span>
00471 
00472   <span class="comment">/* When quantizing colors, the output colormap is described by these fields.</span>
00473 <span class="comment">   * The application can supply a colormap by setting colormap non-NULL before</span>
00474 <span class="comment">   * calling jpeg_start_decompress; otherwise a colormap is created during</span>
00475 <span class="comment">   * jpeg_start_decompress or jpeg_start_output.</span>
00476 <span class="comment">   * The map has out_color_components rows and actual_number_of_colors columns.</span>
00477 <span class="comment">   */</span>
<a name="l00478"></a><a class="code" href="structjpeg__decompress__struct.html#o27">00478</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__decompress__struct.html#o27">actual_number_of_colors</a>;   <span class="comment">/* number of entries in use */</span>
<a name="l00479"></a><a class="code" href="structjpeg__decompress__struct.html#o28">00479</a>   <a class="code" href="jpeglib_8h.html#a33">JSAMPARRAY</a> <a class="code" href="structjpeg__decompress__struct.html#o28">colormap</a>;     <span class="comment">/* The color map as a 2-D pixel array */</span>
00480 
00481   <span class="comment">/* State variables: these variables indicate the progress of decompression.</span>
00482 <span class="comment">   * The application may examine these but must not modify them.</span>
00483 <span class="comment">   */</span>
00484 
00485   <span class="comment">/* Row index of next scanline to be read from jpeg_read_scanlines().</span>
00486 <span class="comment">   * Application may use this to control its processing loop, e.g.,</span>
00487 <span class="comment">   * "while (output_scanline &lt; output_height)".</span>
00488 <span class="comment">   */</span>
<a name="l00489"></a><a class="code" href="structjpeg__decompress__struct.html#o29">00489</a>   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> <a class="code" href="structjpeg__decompress__struct.html#o29">output_scanline</a>; <span class="comment">/* 0 .. output_height-1  */</span>
00490 
00491   <span class="comment">/* Current input scan number and number of iMCU rows completed in scan.</span>
00492 <span class="comment">   * These indicate the progress of the decompressor input side.</span>
00493 <span class="comment">   */</span>
<a name="l00494"></a><a class="code" href="structjpeg__decompress__struct.html#o30">00494</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__decompress__struct.html#o30">input_scan_number</a>;   <span class="comment">/* Number of SOS markers seen so far */</span>
<a name="l00495"></a><a class="code" href="structjpeg__decompress__struct.html#o31">00495</a>   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> <a class="code" href="structjpeg__decompress__struct.html#o31">input_iMCU_row</a>;  <span class="comment">/* Number of iMCU rows completed */</span>
00496 
00497   <span class="comment">/* The "output scan number" is the notional scan being displayed by the</span>
00498 <span class="comment">   * output side.  The decompressor will not allow output scan/row number</span>
00499 <span class="comment">   * to get ahead of input scan/row, but it can fall arbitrarily far behind.</span>
00500 <span class="comment">   */</span>
<a name="l00501"></a><a class="code" href="structjpeg__decompress__struct.html#o32">00501</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__decompress__struct.html#o32">output_scan_number</a>;  <span class="comment">/* Nominal scan number being displayed */</span>
<a name="l00502"></a><a class="code" href="structjpeg__decompress__struct.html#o33">00502</a>   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> <a class="code" href="structjpeg__decompress__struct.html#o33">output_iMCU_row</a>; <span class="comment">/* Number of iMCU rows read */</span>
00503 
00504   <span class="comment">/* Current progression status.  coef_bits[c][i] indicates the precision</span>
00505 <span class="comment">   * with which component c's DCT coefficient i (in zigzag order) is known.</span>
00506 <span class="comment">   * It is -1 when no data has yet been received, otherwise it is the point</span>
00507 <span class="comment">   * transform (shift) value for the most recent scan of the coefficient</span>
00508 <span class="comment">   * (thus, 0 at completion of the progression).</span>
00509 <span class="comment">   * This pointer is NULL when reading a non-progressive file.</span>
00510 <span class="comment">   */</span>
<a name="l00511"></a><a class="code" href="structjpeg__decompress__struct.html#o34">00511</a>   int (*coef_bits)[<a class="code" href="jpeglib_8h.html#a2">DCTSIZE2</a>]; <span class="comment">/* -1 or current Al value for each coef */</span>
00512 
00513   <span class="comment">/* Internal JPEG parameters --- the application usually need not look at</span>
00514 <span class="comment">   * these fields.  Note that the decompressor output side may not use</span>
00515 <span class="comment">   * any parameters that can change between scans.</span>
00516 <span class="comment">   */</span>
00517 
00518   <span class="comment">/* Quantization and Huffman tables are carried forward across input</span>
00519 <span class="comment">   * datastreams when processing abbreviated JPEG datastreams.</span>
00520 <span class="comment">   */</span>
00521 
<a name="l00522"></a><a class="code" href="structjpeg__decompress__struct.html#o35">00522</a>   <a class="code" href="structJQUANT__TBL.html">JQUANT_TBL</a> * <a class="code" href="structjpeg__decompress__struct.html#o35">quant_tbl_ptrs</a>[<a class="code" href="jpeglib_8h.html#a3">NUM_QUANT_TBLS</a>];
00523   <span class="comment">/* ptrs to coefficient quantization tables, or NULL if not defined */</span>
00524 
<a name="l00525"></a><a class="code" href="structjpeg__decompress__struct.html#o36">00525</a>   <a class="code" href="structJHUFF__TBL.html">JHUFF_TBL</a> * <a class="code" href="structjpeg__decompress__struct.html#o36">dc_huff_tbl_ptrs</a>[<a class="code" href="jpeglib_8h.html#a4">NUM_HUFF_TBLS</a>];
<a name="l00526"></a><a class="code" href="structjpeg__decompress__struct.html#o37">00526</a>   <a class="code" href="structJHUFF__TBL.html">JHUFF_TBL</a> * <a class="code" href="structjpeg__decompress__struct.html#o37">ac_huff_tbl_ptrs</a>[<a class="code" href="jpeglib_8h.html#a4">NUM_HUFF_TBLS</a>];
00527   <span class="comment">/* ptrs to Huffman coding tables, or NULL if not defined */</span>
00528 
00529   <span class="comment">/* These parameters are never carried across datastreams, since they</span>
00530 <span class="comment">   * are given in SOF/SOS markers or defined to be reset by SOI.</span>
00531 <span class="comment">   */</span>
00532 
<a name="l00533"></a><a class="code" href="structjpeg__decompress__struct.html#o38">00533</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__decompress__struct.html#o38">data_precision</a>;      <span class="comment">/* bits of precision in image data */</span>
00534 
<a name="l00535"></a><a class="code" href="structjpeg__decompress__struct.html#o39">00535</a>   <a class="code" href="structjpeg__component__info.html">jpeg_component_info</a> * <a class="code" href="structjpeg__decompress__struct.html#o39">comp_info</a>;
00536   <span class="comment">/* comp_info[i] describes component that appears i'th in SOF */</span>
00537 
<a name="l00538"></a><a class="code" href="structjpeg__decompress__struct.html#o40">00538</a>   <span class="keywordtype">boolean</span> <a class="code" href="structjpeg__decompress__struct.html#o40">progressive_mode</a>;   <span class="comment">/* TRUE if SOFn specifies progressive mode */</span>
<a name="l00539"></a><a class="code" href="structjpeg__decompress__struct.html#o41">00539</a>   <span class="keywordtype">boolean</span> <a class="code" href="structjpeg__decompress__struct.html#o41">arith_code</a>;      <span class="comment">/* TRUE=arithmetic coding, FALSE=Huffman */</span>
00540 
<a name="l00541"></a><a class="code" href="structjpeg__decompress__struct.html#o42">00541</a>   <a class="code" href="jmorecfg_8h.html#a18">UINT8</a> <a class="code" href="structjpeg__decompress__struct.html#o42">arith_dc_L</a>[<a class="code" href="jpeglib_8h.html#a5">NUM_ARITH_TBLS</a>]; <span class="comment">/* L values for DC arith-coding tables */</span>
<a name="l00542"></a><a class="code" href="structjpeg__decompress__struct.html#o43">00542</a>   <a class="code" href="jmorecfg_8h.html#a18">UINT8</a> <a class="code" href="structjpeg__decompress__struct.html#o43">arith_dc_U</a>[<a class="code" href="jpeglib_8h.html#a5">NUM_ARITH_TBLS</a>]; <span class="comment">/* U values for DC arith-coding tables */</span>
<a name="l00543"></a><a class="code" href="structjpeg__decompress__struct.html#o44">00543</a>   <a class="code" href="jmorecfg_8h.html#a18">UINT8</a> <a class="code" href="structjpeg__decompress__struct.html#o44">arith_ac_K</a>[<a class="code" href="jpeglib_8h.html#a5">NUM_ARITH_TBLS</a>]; <span class="comment">/* Kx values for AC arith-coding tables */</span>
00544 
<a name="l00545"></a><a class="code" href="structjpeg__decompress__struct.html#o45">00545</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structjpeg__decompress__struct.html#o45">restart_interval</a>; <span class="comment">/* MCUs per restart interval, or 0 for no restart */</span>
00546 
00547   <span class="comment">/* These fields record data obtained from optional markers recognized by</span>
00548 <span class="comment">   * the JPEG library.</span>
00549 <span class="comment">   */</span>
<a name="l00550"></a><a class="code" href="structjpeg__decompress__struct.html#o46">00550</a>   <span class="keywordtype">boolean</span> <a class="code" href="structjpeg__decompress__struct.html#o46">saw_JFIF_marker</a>; <span class="comment">/* TRUE iff a JFIF APP0 marker was found */</span>
00551   <span class="comment">/* Data copied from JFIF marker; only valid if saw_JFIF_marker is TRUE: */</span>
<a name="l00552"></a><a class="code" href="structjpeg__decompress__struct.html#o47">00552</a>   <a class="code" href="jmorecfg_8h.html#a18">UINT8</a> <a class="code" href="structjpeg__decompress__struct.html#o47">JFIF_major_version</a>;   <span class="comment">/* JFIF version number */</span>
<a name="l00553"></a><a class="code" href="structjpeg__decompress__struct.html#o48">00553</a>   <a class="code" href="jmorecfg_8h.html#a18">UINT8</a> <a class="code" href="structjpeg__decompress__struct.html#o48">JFIF_minor_version</a>;
<a name="l00554"></a><a class="code" href="structjpeg__decompress__struct.html#o49">00554</a>   <a class="code" href="jmorecfg_8h.html#a18">UINT8</a> <a class="code" href="structjpeg__decompress__struct.html#o49">density_unit</a>;      <span class="comment">/* JFIF code for pixel size units */</span>
<a name="l00555"></a><a class="code" href="structjpeg__decompress__struct.html#o50">00555</a>   <a class="code" href="jmorecfg_8h.html#a19">UINT16</a> <a class="code" href="structjpeg__decompress__struct.html#o50">X_density</a>;     <span class="comment">/* Horizontal pixel density */</span>
<a name="l00556"></a><a class="code" href="structjpeg__decompress__struct.html#o51">00556</a>   <a class="code" href="jmorecfg_8h.html#a19">UINT16</a> <a class="code" href="structjpeg__decompress__struct.html#o51">Y_density</a>;     <span class="comment">/* Vertical pixel density */</span>
<a name="l00557"></a><a class="code" href="structjpeg__decompress__struct.html#o52">00557</a>   <span class="keywordtype">boolean</span> <a class="code" href="structjpeg__decompress__struct.html#o52">saw_Adobe_marker</a>;   <span class="comment">/* TRUE iff an Adobe APP14 marker was found */</span>
<a name="l00558"></a><a class="code" href="structjpeg__decompress__struct.html#o53">00558</a>   <a class="code" href="jmorecfg_8h.html#a18">UINT8</a> <a class="code" href="structjpeg__decompress__struct.html#o53">Adobe_transform</a>;   <span class="comment">/* Color transform code from Adobe marker */</span>
00559 
<a name="l00560"></a><a class="code" href="structjpeg__decompress__struct.html#o54">00560</a>   <span class="keywordtype">boolean</span> <a class="code" href="structjpeg__decompress__struct.html#o54">CCIR601_sampling</a>;   <span class="comment">/* TRUE=first samples are cosited */</span>
00561 
00562   <span class="comment">/* Aside from the specific data retained from APPn markers known to the</span>
00563 <span class="comment">   * library, the uninterpreted contents of any or all APPn and COM markers</span>
00564 <span class="comment">   * can be saved in a list for examination by the application.</span>
00565 <span class="comment">   */</span>
<a name="l00566"></a><a class="code" href="structjpeg__decompress__struct.html#o55">00566</a>   <a class="code" href="jpeglib_8h.html#a40">jpeg_saved_marker_ptr</a> <a class="code" href="structjpeg__decompress__struct.html#o55">marker_list</a>; <span class="comment">/* Head of list of saved markers */</span>
00567 
00568   <span class="comment">/* Remaining fields are known throughout decompressor, but generally</span>
00569 <span class="comment">   * should not be touched by a surrounding application.</span>
00570 <span class="comment">   */</span>
00571 
00572   <span class="comment">/*</span>
00573 <span class="comment">   * These fields are computed during decompression startup</span>
00574 <span class="comment">   */</span>
<a name="l00575"></a><a class="code" href="structjpeg__decompress__struct.html#o56">00575</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__decompress__struct.html#o56">max_h_samp_factor</a>;   <span class="comment">/* largest h_samp_factor */</span>
<a name="l00576"></a><a class="code" href="structjpeg__decompress__struct.html#o57">00576</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__decompress__struct.html#o57">max_v_samp_factor</a>;   <span class="comment">/* largest v_samp_factor */</span>
00577 
<a name="l00578"></a><a class="code" href="structjpeg__decompress__struct.html#o58">00578</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__decompress__struct.html#o58">min_DCT_scaled_size</a>; <span class="comment">/* smallest DCT_scaled_size of any component */</span>
00579 
<a name="l00580"></a><a class="code" href="structjpeg__decompress__struct.html#o59">00580</a>   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> <a class="code" href="structjpeg__decompress__struct.html#o59">total_iMCU_rows</a>; <span class="comment">/* # of iMCU rows in image */</span>
00581   <span class="comment">/* The coefficient controller's input and output progress is measured in</span>
00582 <span class="comment">   * units of "iMCU" (interleaved MCU) rows.  These are the same as MCU rows</span>
00583 <span class="comment">   * in fully interleaved JPEG scans, but are used whether the scan is</span>
00584 <span class="comment">   * interleaved or not.  We define an iMCU row as v_samp_factor DCT block</span>
00585 <span class="comment">   * rows of each component.  Therefore, the IDCT output contains</span>
00586 <span class="comment">   * v_samp_factor*DCT_scaled_size sample rows of a component per iMCU row.</span>
00587 <span class="comment">   */</span>
00588 
<a name="l00589"></a><a class="code" href="structjpeg__decompress__struct.html#o60">00589</a>   <a class="code" href="jmorecfg_8h.html#a15">JSAMPLE</a> * <a class="code" href="structjpeg__decompress__struct.html#o60">sample_range_limit</a>; <span class="comment">/* table for fast range-limiting */</span>
00590 
00591   <span class="comment">/*</span>
00592 <span class="comment">   * These fields are valid during any one scan.</span>
00593 <span class="comment">   * They describe the components and MCUs actually appearing in the scan.</span>
00594 <span class="comment">   * Note that the decompressor output side must not use these fields.</span>
00595 <span class="comment">   */</span>
<a name="l00596"></a><a class="code" href="structjpeg__decompress__struct.html#o61">00596</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__decompress__struct.html#o61">comps_in_scan</a>;    <span class="comment">/* # of JPEG components in this scan */</span>
<a name="l00597"></a><a class="code" href="structjpeg__decompress__struct.html#o62">00597</a>   <a class="code" href="structjpeg__component__info.html">jpeg_component_info</a> * <a class="code" href="structjpeg__decompress__struct.html#o62">cur_comp_info</a>[<a class="code" href="jpeglib_8h.html#a6">MAX_COMPS_IN_SCAN</a>];
00598   <span class="comment">/* *cur_comp_info[i] describes component that appears i'th in SOS */</span>
00599 
<a name="l00600"></a><a class="code" href="structjpeg__decompress__struct.html#o63">00600</a>   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> <a class="code" href="structjpeg__decompress__struct.html#o63">MCUs_per_row</a>; <span class="comment">/* # of MCUs across the image */</span>
<a name="l00601"></a><a class="code" href="structjpeg__decompress__struct.html#o64">00601</a>   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> <a class="code" href="structjpeg__decompress__struct.html#o64">MCU_rows_in_scan</a>;   <span class="comment">/* # of MCU rows in the image */</span>
00602 
<a name="l00603"></a><a class="code" href="structjpeg__decompress__struct.html#o65">00603</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__decompress__struct.html#o65">blocks_in_MCU</a>;    <span class="comment">/* # of DCT blocks per MCU */</span>
<a name="l00604"></a><a class="code" href="structjpeg__decompress__struct.html#o66">00604</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__decompress__struct.html#o66">MCU_membership</a>[<a class="code" href="jpeglib_8h.html#a9">D_MAX_BLOCKS_IN_MCU</a>];
00605   <span class="comment">/* MCU_membership[i] is index in cur_comp_info of component owning */</span>
00606   <span class="comment">/* i'th block in an MCU */</span>
00607 
<a name="l00608"></a><a class="code" href="structjpeg__decompress__struct.html#o67">00608</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__decompress__struct.html#o67">Ss</a>, <a class="code" href="structjpeg__decompress__struct.html#o68">Se</a>, <a class="code" href="structjpeg__decompress__struct.html#o69">Ah</a>, <a class="code" href="structjpeg__decompress__struct.html#o70">Al</a>;      <span class="comment">/* progressive JPEG parameters for scan */</span>
00609 
00610   <span class="comment">/* This field is shared between entropy decoder and marker parser.</span>
00611 <span class="comment">   * It is either zero or the code of a JPEG marker that has been</span>
00612 <span class="comment">   * read from the data source, but has not yet been processed.</span>
00613 <span class="comment">   */</span>
<a name="l00614"></a><a class="code" href="structjpeg__decompress__struct.html#o71">00614</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__decompress__struct.html#o71">unread_marker</a>;
00615 
00616   <span class="comment">/*</span>
00617 <span class="comment">   * Links to decompression subobjects (methods, private variables of modules)</span>
00618 <span class="comment">   */</span>
<a name="l00619"></a><a class="code" href="structjpeg__decompress__struct.html#o72">00619</a>   <span class="keyword">struct </span><a class="code" href="structjpeg__decomp__master.html">jpeg_decomp_master</a> * <a class="code" href="structjpeg__decompress__struct.html#o72">master</a>;
<a name="l00620"></a><a class="code" href="structjpeg__decompress__struct.html#o73">00620</a>   <span class="keyword">struct </span><a class="code" href="structjpeg__d__main__controller.html">jpeg_d_main_controller</a> * <a class="code" href="structjpeg__decompress__struct.html#o73">main</a>;
<a name="l00621"></a><a class="code" href="structjpeg__decompress__struct.html#o74">00621</a>   <span class="keyword">struct </span><a class="code" href="structjpeg__d__coef__controller.html">jpeg_d_coef_controller</a> * <a class="code" href="structjpeg__decompress__struct.html#o74">coef</a>;
<a name="l00622"></a><a class="code" href="structjpeg__decompress__struct.html#o75">00622</a>   <span class="keyword">struct </span><a class="code" href="structjpeg__d__post__controller.html">jpeg_d_post_controller</a> * <a class="code" href="structjpeg__decompress__struct.html#o75">post</a>;
<a name="l00623"></a><a class="code" href="structjpeg__decompress__struct.html#o76">00623</a>   <span class="keyword">struct </span><a class="code" href="structjpeg__input__controller.html">jpeg_input_controller</a> * <a class="code" href="structjpeg__decompress__struct.html#o76">inputctl</a>;
<a name="l00624"></a><a class="code" href="structjpeg__decompress__struct.html#o77">00624</a>   <span class="keyword">struct </span><a class="code" href="structjpeg__marker__reader.html">jpeg_marker_reader</a> * <a class="code" href="structjpeg__decompress__struct.html#o77">marker</a>;
<a name="l00625"></a><a class="code" href="structjpeg__decompress__struct.html#o78">00625</a>   <span class="keyword">struct </span><a class="code" href="structjpeg__entropy__decoder.html">jpeg_entropy_decoder</a> * <a class="code" href="structjpeg__decompress__struct.html#o78">entropy</a>;
<a name="l00626"></a><a class="code" href="structjpeg__decompress__struct.html#o79">00626</a>   <span class="keyword">struct </span><a class="code" href="structjpeg__inverse__dct.html">jpeg_inverse_dct</a> * <a class="code" href="structjpeg__decompress__struct.html#o79">idct</a>;
<a name="l00627"></a><a class="code" href="structjpeg__decompress__struct.html#o80">00627</a>   <span class="keyword">struct </span><a class="code" href="structjpeg__upsampler.html">jpeg_upsampler</a> * <a class="code" href="structjpeg__decompress__struct.html#o80">upsample</a>;
<a name="l00628"></a><a class="code" href="structjpeg__decompress__struct.html#o81">00628</a>   <span class="keyword">struct </span><a class="code" href="structjpeg__color__deconverter.html">jpeg_color_deconverter</a> * <a class="code" href="structjpeg__decompress__struct.html#o81">cconvert</a>;
<a name="l00629"></a><a class="code" href="structjpeg__decompress__struct.html#o82">00629</a>   <span class="keyword">struct </span><a class="code" href="structjpeg__color__quantizer.html">jpeg_color_quantizer</a> * <a class="code" href="structjpeg__decompress__struct.html#o82">cquantize</a>;
00630 };
00631 
00632 
00633 <span class="comment">/* "Object" declarations for JPEG modules that may be supplied or called</span>
00634 <span class="comment"> * directly by the surrounding application.</span>
00635 <span class="comment"> * As with all objects in the JPEG library, these structs only define the</span>
00636 <span class="comment"> * publicly visible methods and state variables of a module.  Additional</span>
00637 <span class="comment"> * private fields may exist after the public ones.</span>
00638 <span class="comment"> */</span>
00639 
00640 
00641 <span class="comment">/* Error handler object */</span>
00642 
<a name="l00643"></a><a class="code" href="structjpeg__error__mgr.html">00643</a> <span class="keyword">struct </span><a class="code" href="structjpeg__error__mgr.html">jpeg_error_mgr</a> {
00644   <span class="comment">/* Error exit handler: does not return to caller */</span>
00645   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<span class="keywordtype">void</span>, error_exit, (<a class="code" href="structjpeg__common__struct.html">j_common_ptr</a> cinfo));
00646   <span class="comment">/* Conditionally emit a trace or warning message */</span>
00647   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<span class="keywordtype">void</span>, emit_message, (<a class="code" href="structjpeg__common__struct.html">j_common_ptr</a> cinfo, <span class="keywordtype">int</span> msg_level));
00648   <span class="comment">/* Routine that actually outputs a trace or error message */</span>
00649   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<span class="keywordtype">void</span>, output_message, (<a class="code" href="structjpeg__common__struct.html">j_common_ptr</a> cinfo));
00650   <span class="comment">/* Format a message string for the most recent JPEG error or message */</span>
00651   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<span class="keywordtype">void</span>, format_message, (<a class="code" href="structjpeg__common__struct.html">j_common_ptr</a> cinfo, <span class="keywordtype">char</span> * buffer));
<a name="l00652"></a><a class="code" href="jpeglib_8h.html#a13">00652</a> <span class="preprocessor">#define JMSG_LENGTH_MAX  200  </span><span class="comment">/* recommended size of format_message buffer */</span>
00653   <span class="comment">/* Reset error state variables at start of a new image */</span>
00654   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<span class="keywordtype">void</span>, reset_error_mgr, (<a class="code" href="structjpeg__common__struct.html">j_common_ptr</a> cinfo));
00655   
00656   <span class="comment">/* The message ID code and any parameters are saved here.</span>
00657 <span class="comment">   * A message can have one string parameter or up to 8 int parameters.</span>
00658 <span class="comment">   */</span>
<a name="l00659"></a><a class="code" href="structjpeg__error__mgr.html#o0">00659</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__error__mgr.html#o0">msg_code</a>;
<a name="l00660"></a><a class="code" href="jpeglib_8h.html#a14">00660</a> <span class="preprocessor">#define JMSG_STR_PARM_MAX  80</span>
00661 <span class="preprocessor"></span>  <span class="keyword">union </span>{
<a name="l00662"></a><a class="code" href="structjpeg__error__mgr.html#o1">00662</a>     <span class="keywordtype">int</span> <a class="code" href="structjpeg__error__mgr.html#o1">i</a>[8];
<a name="l00663"></a><a class="code" href="structjpeg__error__mgr.html#o2">00663</a>     <span class="keywordtype">char</span> <a class="code" href="structjpeg__error__mgr.html#o2">s</a>[<a class="code" href="jpeglib_8h.html#a14">JMSG_STR_PARM_MAX</a>];
00664   } msg_parm;
00665   
00666   <span class="comment">/* Standard state variables for error facility */</span>
00667   
<a name="l00668"></a><a class="code" href="structjpeg__error__mgr.html#o4">00668</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__error__mgr.html#o4">trace_level</a>;      <span class="comment">/* max msg_level that will be displayed */</span>
00669   
00670   <span class="comment">/* For recoverable corrupt-data errors, we emit a warning message,</span>
00671 <span class="comment">   * but keep going unless emit_message chooses to abort.  emit_message</span>
00672 <span class="comment">   * should count warnings in num_warnings.  The surrounding application</span>
00673 <span class="comment">   * can check for bad data by seeing if num_warnings is nonzero at the</span>
00674 <span class="comment">   * end of processing.</span>
00675 <span class="comment">   */</span>
<a name="l00676"></a><a class="code" href="structjpeg__error__mgr.html#o5">00676</a>   <span class="keywordtype">long</span> <a class="code" href="structjpeg__error__mgr.html#o5">num_warnings</a>;    <span class="comment">/* number of corrupt-data warnings */</span>
00677 
00678   <span class="comment">/* These fields point to the table(s) of error message strings.</span>
00679 <span class="comment">   * An application can change the table pointer to switch to a different</span>
00680 <span class="comment">   * message list (typically, to change the language in which errors are</span>
00681 <span class="comment">   * reported).  Some applications may wish to add additional error codes</span>
00682 <span class="comment">   * that will be handled by the JPEG library error mechanism; the second</span>
00683 <span class="comment">   * table pointer is used for this purpose.</span>
00684 <span class="comment">   *</span>
00685 <span class="comment">   * First table includes all errors generated by JPEG library itself.</span>
00686 <span class="comment">   * Error code 0 is reserved for a "no such error string" message.</span>
00687 <span class="comment">   */</span>
<a name="l00688"></a><a class="code" href="structjpeg__error__mgr.html#o6">00688</a>   <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> * <a class="code" href="structjpeg__error__mgr.html#o6">jpeg_message_table</a>; <span class="comment">/* Library errors */</span>
<a name="l00689"></a><a class="code" href="structjpeg__error__mgr.html#o7">00689</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__error__mgr.html#o7">last_jpeg_message</a>;    <span class="comment">/* Table contains strings 0..last_jpeg_message */</span>
00690   <span class="comment">/* Second table can be added by application (see cjpeg/djpeg for example).</span>
00691 <span class="comment">   * It contains strings numbered first_addon_message..last_addon_message.</span>
00692 <span class="comment">   */</span>
<a name="l00693"></a><a class="code" href="structjpeg__error__mgr.html#o8">00693</a>   <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> * <a class="code" href="structjpeg__error__mgr.html#o8">addon_message_table</a>; <span class="comment">/* Non-library errors */</span>
<a name="l00694"></a><a class="code" href="structjpeg__error__mgr.html#o9">00694</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__error__mgr.html#o9">first_addon_message</a>; <span class="comment">/* code for first string in addon table */</span>
<a name="l00695"></a><a class="code" href="structjpeg__error__mgr.html#o10">00695</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__error__mgr.html#o10">last_addon_message</a>;  <span class="comment">/* code for last string in addon table */</span>
00696 };
00697 
00698 
00699 <span class="comment">/* Progress monitor object */</span>
00700 
<a name="l00701"></a><a class="code" href="structjpeg__progress__mgr.html">00701</a> <span class="keyword">struct </span><a class="code" href="structjpeg__progress__mgr.html">jpeg_progress_mgr</a> {
00702   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<span class="keywordtype">void</span>, progress_monitor, (<a class="code" href="structjpeg__common__struct.html">j_common_ptr</a> cinfo));
00703 
<a name="l00704"></a><a class="code" href="structjpeg__progress__mgr.html#o0">00704</a>   <span class="keywordtype">long</span> <a class="code" href="structjpeg__progress__mgr.html#o0">pass_counter</a>;    <span class="comment">/* work units completed in this pass */</span>
<a name="l00705"></a><a class="code" href="structjpeg__progress__mgr.html#o1">00705</a>   <span class="keywordtype">long</span> <a class="code" href="structjpeg__progress__mgr.html#o1">pass_limit</a>;      <span class="comment">/* total number of work units in this pass */</span>
<a name="l00706"></a><a class="code" href="structjpeg__progress__mgr.html#o2">00706</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__progress__mgr.html#o2">completed_passes</a>;    <span class="comment">/* passes completed so far */</span>
<a name="l00707"></a><a class="code" href="structjpeg__progress__mgr.html#o3">00707</a>   <span class="keywordtype">int</span> <a class="code" href="structjpeg__progress__mgr.html#o3">total_passes</a>;     <span class="comment">/* total number of passes expected */</span>
00708 };
00709 
00710 
00711 <span class="comment">/* Data destination object for compression */</span>
00712 
<a name="l00713"></a><a class="code" href="structjpeg__destination__mgr.html">00713</a> <span class="keyword">struct </span><a class="code" href="structjpeg__destination__mgr.html">jpeg_destination_mgr</a> {
<a name="l00714"></a><a class="code" href="structjpeg__destination__mgr.html#o0">00714</a>   <a class="code" href="jmorecfg_8h.html#a17">JOCTET</a> * <a class="code" href="structjpeg__destination__mgr.html#o0">next_output_byte</a>;  <span class="comment">/* =&gt; next byte to write in buffer */</span>
<a name="l00715"></a><a class="code" href="structjpeg__destination__mgr.html#o1">00715</a>   size_t <a class="code" href="structjpeg__destination__mgr.html#o1">free_in_buffer</a>;   <span class="comment">/* # of byte spaces remaining in buffer */</span>
00716 
00717   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<span class="keywordtype">void</span>, init_destination, (<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo));
00718   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<span class="keywordtype">boolean</span>, empty_output_buffer, (<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo));
00719   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<span class="keywordtype">void</span>, term_destination, (<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo));
00720 };
00721 
00722 
00723 <span class="comment">/* Data source object for decompression */</span>
00724 
<a name="l00725"></a><a class="code" href="structjpeg__source__mgr.html">00725</a> <span class="keyword">struct </span><a class="code" href="structjpeg__source__mgr.html">jpeg_source_mgr</a> {
<a name="l00726"></a><a class="code" href="structjpeg__source__mgr.html#o0">00726</a>   <span class="keyword">const</span> <a class="code" href="jmorecfg_8h.html#a17">JOCTET</a> * <a class="code" href="structjpeg__source__mgr.html#o0">next_input_byte</a>; <span class="comment">/* =&gt; next byte to read from buffer */</span>
<a name="l00727"></a><a class="code" href="structjpeg__source__mgr.html#o1">00727</a>   size_t <a class="code" href="structjpeg__source__mgr.html#o1">bytes_in_buffer</a>;  <span class="comment">/* # of bytes remaining in buffer */</span>
00728 
00729   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<span class="keywordtype">void</span>, init_source, (<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo));
00730   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<span class="keywordtype">boolean</span>, fill_input_buffer, (<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo));
00731   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<span class="keywordtype">void</span>, skip_input_data, (<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo, <span class="keywordtype">long</span> num_bytes));
00732   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<span class="keywordtype">boolean</span>, resync_to_restart, (<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo, <span class="keywordtype">int</span> desired));
00733   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<span class="keywordtype">void</span>, term_source, (<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo));
00734 };
00735 
00736 
00737 <span class="comment">/* Memory manager object.</span>
00738 <span class="comment"> * Allocates "small" objects (a few K total), "large" objects (tens of K),</span>
00739 <span class="comment"> * and "really big" objects (virtual arrays with backing store if needed).</span>
00740 <span class="comment"> * The memory manager does not allow individual objects to be freed; rather,</span>
00741 <span class="comment"> * each created object is assigned to a pool, and whole pools can be freed</span>
00742 <span class="comment"> * at once.  This is faster and more convenient than remembering exactly what</span>
00743 <span class="comment"> * to free, especially where malloc()/free() are not too speedy.</span>
00744 <span class="comment"> * NB: alloc routines never return NULL.  They exit to error_exit if not</span>
00745 <span class="comment"> * successful.</span>
00746 <span class="comment"> */</span>
00747 
<a name="l00748"></a><a class="code" href="jpeglib_8h.html#a15">00748</a> <span class="preprocessor">#define JPOOL_PERMANENT 0  </span><span class="comment">/* lasts until master record is destroyed */</span>
<a name="l00749"></a><a class="code" href="jpeglib_8h.html#a16">00749</a> <span class="preprocessor">#define JPOOL_IMAGE  1  </span><span class="comment">/* lasts until done with image/datastream */</span>
<a name="l00750"></a><a class="code" href="jpeglib_8h.html#a17">00750</a> <span class="preprocessor">#define JPOOL_NUMPOOLS  2</span>
00751 <span class="preprocessor"></span>
<a name="l00752"></a><a class="code" href="jpeglib_8h.html#a44">00752</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>jvirt_sarray_control * <a class="code" href="jpeglib_8h.html#a44">jvirt_sarray_ptr</a>;
<a name="l00753"></a><a class="code" href="jpeglib_8h.html#a45">00753</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>jvirt_barray_control * <a class="code" href="jpeglib_8h.html#a45">jvirt_barray_ptr</a>;
00754 
00755 
<a name="l00756"></a><a class="code" href="structjpeg__memory__mgr.html">00756</a> <span class="keyword">struct </span><a class="code" href="structjpeg__memory__mgr.html">jpeg_memory_mgr</a> {
00757   <span class="comment">/* Method pointers */</span>
00758   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<span class="keywordtype">void</span> *, alloc_small, (<a class="code" href="structjpeg__common__struct.html">j_common_ptr</a> cinfo, <span class="keywordtype">int</span> pool_id,
00759             size_t <a class="code" href="jmemsys_8h.html#a2">sizeofobject</a>));
00760   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<span class="keywordtype">void</span> <a class="code" href="jmorecfg_8h.html#a12">FAR</a> *, alloc_large, (<a class="code" href="structjpeg__common__struct.html">j_common_ptr</a> cinfo, <span class="keywordtype">int</span> pool_id,
00761                  size_t <a class="code" href="jmemsys_8h.html#a2">sizeofobject</a>));
00762   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<a class="code" href="jpeglib_8h.html#a33">JSAMPARRAY</a>, alloc_sarray, (<a class="code" href="structjpeg__common__struct.html">j_common_ptr</a> cinfo, <span class="keywordtype">int</span> pool_id,
00763                  <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> samplesperrow,
00764                  <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> numrows));
00765   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<a class="code" href="jpeglib_8h.html#a37">JBLOCKARRAY</a>, alloc_barray, (<a class="code" href="structjpeg__common__struct.html">j_common_ptr</a> cinfo, <span class="keywordtype">int</span> pool_id,
00766                   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> blocksperrow,
00767                   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> numrows));
00768   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<a class="code" href="jpeglib_8h.html#a44">jvirt_sarray_ptr</a>, request_virt_sarray, (<a class="code" href="structjpeg__common__struct.html">j_common_ptr</a> cinfo,
00769                     <span class="keywordtype">int</span> pool_id,
00770                     <span class="keywordtype">boolean</span> pre_zero,
00771                     <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> samplesperrow,
00772                     <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> numrows,
00773                     <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> maxaccess));
00774   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<a class="code" href="jpeglib_8h.html#a45">jvirt_barray_ptr</a>, request_virt_barray, (<a class="code" href="structjpeg__common__struct.html">j_common_ptr</a> cinfo,
00775                     <span class="keywordtype">int</span> pool_id,
00776                     <span class="keywordtype">boolean</span> pre_zero,
00777                     <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> blocksperrow,
00778                     <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> numrows,
00779                     <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> maxaccess));
00780   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<span class="keywordtype">void</span>, realize_virt_arrays, (<a class="code" href="structjpeg__common__struct.html">j_common_ptr</a> cinfo));
00781   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<a class="code" href="jpeglib_8h.html#a33">JSAMPARRAY</a>, access_virt_sarray, (<a class="code" href="structjpeg__common__struct.html">j_common_ptr</a> cinfo,
00782                   <a class="code" href="jpeglib_8h.html#a44">jvirt_sarray_ptr</a> ptr,
00783                   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> start_row,
00784                   <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> <a class="code" href="jpegint_8h.html#a25">num_rows</a>,
00785                   <span class="keywordtype">boolean</span> writable));
00786   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<a class="code" href="jpeglib_8h.html#a37">JBLOCKARRAY</a>, access_virt_barray, (<a class="code" href="structjpeg__common__struct.html">j_common_ptr</a> cinfo,
00787                    <a class="code" href="jpeglib_8h.html#a45">jvirt_barray_ptr</a> ptr,
00788                    <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> start_row,
00789                    <a class="code" href="jmorecfg_8h.html#a22">JDIMENSION</a> <a class="code" href="jpegint_8h.html#a25">num_rows</a>,
00790                    <span class="keywordtype">boolean</span> writable));
00791   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<span class="keywordtype">void</span>, free_pool, (<a class="code" href="structjpeg__common__struct.html">j_common_ptr</a> cinfo, <span class="keywordtype">int</span> pool_id));
00792   <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<span class="keywordtype">void</span>, self_destruct, (<a class="code" href="structjpeg__common__struct.html">j_common_ptr</a> cinfo));
00793 
00794   <span class="comment">/* Limit on memory allocation for this JPEG object.  (Note that this is</span>
00795 <span class="comment">   * merely advisory, not a guaranteed maximum; it only affects the space</span>
00796 <span class="comment">   * used for virtual-array buffers.)  May be changed by outer application</span>
00797 <span class="comment">   * after creating the JPEG object.</span>
00798 <span class="comment">   */</span>
<a name="l00799"></a><a class="code" href="structjpeg__memory__mgr.html#o0">00799</a>   <span class="keywordtype">long</span> <a class="code" href="structjpeg__memory__mgr.html#o0">max_memory_to_use</a>;
00800 
00801   <span class="comment">/* Maximum allocation request accepted by alloc_large. */</span>
<a name="l00802"></a><a class="code" href="structjpeg__memory__mgr.html#o1">00802</a>   <span class="keywordtype">long</span> <a class="code" href="structjpeg__memory__mgr.html#o1">max_alloc_chunk</a>;
00803 };
00804 
00805 
00806 <span class="comment">/* Routine signature for application-supplied marker processing methods.</span>
00807 <span class="comment"> * Need not pass marker code since it is stored in cinfo-&gt;unread_marker.</span>
00808 <span class="comment"> */</span>
00809 <span class="keyword">typedef</span> <a class="code" href="jmorecfg_8h.html#a11">JMETHOD</a>(<span class="keywordtype">boolean</span>, jpeg_marker_parser_method, (<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo));
00810 
00811 
00812 <span class="comment">/* Declarations for routines called by application.</span>
00813 <span class="comment"> * The JPP macro hides prototype parameters from compilers that can't cope.</span>
00814 <span class="comment"> * Note JPP requires double parentheses.</span>
00815 <span class="comment"> */</span>
00816 
00817 <span class="preprocessor">#ifdef HAVE_PROTOTYPES</span>
<a name="l00818"></a><a class="code" href="jpeglib_8h.html#a18">00818</a> <span class="preprocessor"></span><span class="preprocessor">#define JPP(arglist) arglist</span>
00819 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00820 <span class="preprocessor"></span><span class="preprocessor">#define JPP(arglist) ()</span>
00821 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00822 <span class="preprocessor"></span>
00823 
00824 <span class="comment">/* Short forms of external names for systems with brain-damaged linkers.</span>
00825 <span class="comment"> * We shorten external names to be unique in the first six letters, which</span>
00826 <span class="comment"> * is good enough for all known systems.</span>
00827 <span class="comment"> * (If your compiler itself needs names to be unique in less than 15 </span>
00828 <span class="comment"> * characters, you are out of luck.  Get a better compiler.)</span>
00829 <span class="comment"> */</span>
00830 
00831 <span class="preprocessor">#ifdef NEED_SHORT_EXTERNAL_NAMES</span>
00832 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_std_error     jStdError</span>
00833 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_CreateCompress   jCreaCompress</span>
00834 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_CreateDecompress jCreaDecompress</span>
00835 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_destroy_compress jDestCompress</span>
00836 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_destroy_decompress  jDestDecompress</span>
00837 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_stdio_dest    jStdDest</span>
00838 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_stdio_src     jStdSrc</span>
00839 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_set_defaults  jSetDefaults</span>
00840 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_set_colorspace   jSetColorspace</span>
00841 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_default_colorspace  jDefColorspace</span>
00842 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_set_quality   jSetQuality</span>
00843 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_set_linear_quality  jSetLQuality</span>
00844 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_add_quant_table  jAddQuantTable</span>
00845 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_quality_scaling  jQualityScaling</span>
00846 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_simple_progression  jSimProgress</span>
00847 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_suppress_tables  jSuppressTables</span>
00848 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_alloc_quant_table   jAlcQTable</span>
00849 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_alloc_huff_table jAlcHTable</span>
00850 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_start_compress   jStrtCompress</span>
00851 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_write_scanlines  jWrtScanlines</span>
00852 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_finish_compress  jFinCompress</span>
00853 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_write_raw_data   jWrtRawData</span>
00854 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_write_marker  jWrtMarker</span>
00855 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_write_m_header   jWrtMHeader</span>
00856 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_write_m_byte  jWrtMByte</span>
00857 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_write_tables  jWrtTables</span>
00858 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_read_header   jReadHeader</span>
00859 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_start_decompress jStrtDecompress</span>
00860 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_read_scanlines   jReadScanlines</span>
00861 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_finish_decompress   jFinDecompress</span>
00862 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_read_raw_data jReadRawData</span>
00863 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_has_multiple_scans  jHasMultScn</span>
00864 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_start_output  jStrtOutput</span>
00865 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_finish_output jFinOutput</span>
00866 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_input_complete   jInComplete</span>
00867 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_new_colormap  jNewCMap</span>
00868 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_consume_input jConsumeInput</span>
00869 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_calc_output_dimensions jCalcDimensions</span>
00870 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_save_markers  jSaveMarkers</span>
00871 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_set_marker_processor   jSetMarker</span>
00872 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_read_coefficients   jReadCoefs</span>
00873 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_write_coefficients  jWrtCoefs</span>
00874 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_copy_critical_parameters  jCopyCrit</span>
00875 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_abort_compress   jAbrtCompress</span>
00876 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_abort_decompress jAbrtDecompress</span>
00877 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_abort      jAbort</span>
00878 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_destroy    jDestroy</span>
00879 <span class="preprocessor"></span><span class="preprocessor">#define jpeg_resync_to_restart   jResyncRestart</span>
00880 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* NEED_SHORT_EXTERNAL_NAMES */</span>
00881 
00882 
00883 <span class="comment">/* Default error-management setup */</span>
00884 <a class="code" href="jmorecfg_8h.html#a10">EXTERN</a>(<span class="keyword">struct</span> <a class="code" href="structjpeg__error__mgr.html">jpeg_error_mgr</a> *) jpeg_std_error
00885    <a class="code" href="jpeglib_8h.html#a18">JPP</a>((<span class="keyword">struct</span> <a class="code" href="structjpeg__error__mgr.html">jpeg_error_mgr</a> * err));
00886 
00887 <span class="comment">/* Initialization of JPEG compression objects.</span>
00888 <span class="comment"> * jpeg_create_compress() and jpeg_create_decompress() are the exported</span>
00889 <span class="comment"> * names that applications should call.  These expand to calls on</span>
00890 <span class="comment"> * jpeg_CreateCompress and jpeg_CreateDecompress with additional information</span>
00891 <span class="comment"> * passed for version mismatch checking.</span>
00892 <span class="comment"> * NB: you must set up the error-manager BEFORE calling jpeg_create_xxx.</span>
00893 <span class="comment"> */</span>
<a name="l00894"></a><a class="code" href="jpeglib_8h.html#a19">00894</a> <span class="preprocessor">#define jpeg_create_compress(cinfo) \</span>
00895 <span class="preprocessor">    jpeg_CreateCompress((cinfo), JPEG_LIB_VERSION, \</span>
00896 <span class="preprocessor">         (size_t) sizeof(struct jpeg_compress_struct))</span>
<a name="l00897"></a><a class="code" href="jpeglib_8h.html#a20">00897</a> <span class="preprocessor"></span><span class="preprocessor">#define jpeg_create_decompress(cinfo) \</span>
00898 <span class="preprocessor">    jpeg_CreateDecompress((cinfo), JPEG_LIB_VERSION, \</span>
00899 <span class="preprocessor">           (size_t) sizeof(struct jpeg_decompress_struct))</span>
00900 <span class="preprocessor"></span><a class="code" href="jmorecfg_8h.html#a10">EXTERN</a>(<span class="keywordtype">void</span>) jpeg_CreateCompress JPP((<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo,
00901                   <span class="keywordtype">int</span> version, size_t structsize));
00902 EXTERN(<span class="keywordtype">void</span>) jpeg_CreateDecompress JPP((<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo,
<a name="l00903"></a><a class="code" href="jpeglib_8h.html#a46">00903</a>                <span class="keywordtype">int</span> version, size_t structsize));
00904 <span class="comment">/* Destruction of JPEG compression objects */</span>
00905 EXTERN(<span class="keywordtype">void</span>) jpeg_destroy_compress JPP((<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo));
00906 EXTERN(<span class="keywordtype">void</span>) jpeg_destroy_decompress JPP((<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo));
00907 
00908 <span class="comment">/* Standard data source and destination managers: stdio streams. */</span>
00909 <span class="comment">/* Caller is responsible for opening the file before and closing after. */</span>
<a name="l00910"></a><a class="code" href="jpeglib_8h.html#a48">00910</a> EXTERN(<span class="keywordtype">void</span>) jpeg_stdio_dest JPP((<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo, FILE * outfile));
<a name="l00911"></a><a class="code" href="jpeglib_8h.html#a49">00911</a> EXTERN(<span class="keywordtype">void</span>) jpeg_stdio_src JPP((<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo, FILE * infile));
00912 
00913 <span class="comment">/* Default parameter setup for compression */</span>
00914 EXTERN(<span class="keywordtype">void</span>) jpeg_set_defaults JPP((<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo));
00915 <span class="comment">/* Compression parameter setup aids */</span>
00916 EXTERN(<span class="keywordtype">void</span>) jpeg_set_colorspace JPP((<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo,
<a name="l00917"></a><a class="code" href="jpeglib_8h.html#a50">00917</a>                   J_COLOR_SPACE colorspace));
00918 EXTERN(<span class="keywordtype">void</span>) jpeg_default_colorspace JPP((<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo));
<a name="l00919"></a><a class="code" href="jpeglib_8h.html#a51">00919</a> EXTERN(<span class="keywordtype">void</span>) jpeg_set_quality JPP((<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo, <span class="keywordtype">int</span> quality,
00920                <span class="keywordtype">boolean</span> force_baseline));
00921 EXTERN(<span class="keywordtype">void</span>) jpeg_set_linear_quality JPP((<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo,
00922                  <span class="keywordtype">int</span> scale_factor,
00923                  <span class="keywordtype">boolean</span> force_baseline));
<a name="l00924"></a><a class="code" href="jpeglib_8h.html#a54">00924</a> EXTERN(<span class="keywordtype">void</span>) jpeg_add_quant_table JPP((<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo, <span class="keywordtype">int</span> which_tbl,
00925                    const <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *basic_table,
00926                    <span class="keywordtype">int</span> scale_factor,
00927                    <span class="keywordtype">boolean</span> force_baseline));
00928 EXTERN(<span class="keywordtype">int</span>) jpeg_quality_scaling JPP((<span class="keywordtype">int</span> quality));
00929 EXTERN(<span class="keywordtype">void</span>) jpeg_simple_progression JPP((<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo));
00930 EXTERN(<span class="keywordtype">void</span>) jpeg_suppress_tables JPP((<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo,
<a name="l00931"></a><a class="code" href="jpeglib_8h.html#a56">00931</a>                    <span class="keywordtype">boolean</span> suppress));
00932 EXTERN(<a class="code" href="structJQUANT__TBL.html">JQUANT_TBL</a> *) jpeg_alloc_quant_table JPP((<a class="code" href="structjpeg__common__struct.html">j_common_ptr</a> cinfo));
00933 EXTERN(<a class="code" href="structJHUFF__TBL.html">JHUFF_TBL</a> *) jpeg_alloc_huff_table JPP((<a class="code" href="structjpeg__common__struct.html">j_common_ptr</a> cinfo));
00934 
00935 <span class="comment">/* Main entry points for compression */</span>
00936 EXTERN(<span class="keywordtype">void</span>) jpeg_start_compress JPP((<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo,
<a name="l00937"></a><a class="code" href="jpeglib_8h.html#a57">00937</a>                   <span class="keywordtype">boolean</span> write_all_tables));
00938 EXTERN(JDIMENSION) jpeg_write_scanlines JPP((<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo,
00939                     JSAMPARRAY scanlines,
00940                     JDIMENSION num_lines));
00941 EXTERN(<span class="keywordtype">void</span>) jpeg_finish_compress JPP((<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo));
00942 
00943 <span class="comment">/* Replaces jpeg_write_scanlines when writing raw downsampled data. */</span>
00944 EXTERN(JDIMENSION) jpeg_write_raw_data JPP((<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo,
<a name="l00945"></a><a class="code" href="jpeglib_8h.html#a59">00945</a>                    JSAMPIMAGE data,
00946                    JDIMENSION num_lines));
00947 
00948 <span class="comment">/* Write a special marker.  See libjpeg.doc concerning safe usage. */</span>
00949 EXTERN(<span class="keywordtype">void</span>) jpeg_write_marker
<a name="l00950"></a><a class="code" href="jpeglib_8h.html#a62">00950</a>    JPP((<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo, <span class="keywordtype">int</span> marker,
00951         const JOCTET * dataptr, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> datalen));
00952 <span class="comment">/* Same, but piecemeal. */</span>
00953 EXTERN(<span class="keywordtype">void</span>) jpeg_write_m_header
<a name="l00954"></a><a class="code" href="jpeglib_8h.html#a61">00954</a>    JPP((<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo, <span class="keywordtype">int</span> marker, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> datalen));
00955 EXTERN(<span class="keywordtype">void</span>) jpeg_write_m_byte
<a name="l00956"></a><a class="code" href="jpeglib_8h.html#a64">00956</a>    JPP((<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo, <span class="keywordtype">int</span> val));
00957 
00958 <span class="comment">/* Alternate compression function: just write an abbreviated table file */</span>
00959 EXTERN(<span class="keywordtype">void</span>) jpeg_write_tables JPP((<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo));
00960 
00961 <span class="comment">/* Decompression startup: read start of JPEG datastream to see what's there */</span>
00962 EXTERN(<span class="keywordtype">int</span>) jpeg_read_header JPP((<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo,
<a name="l00963"></a><a class="code" href="jpeglib_8h.html#a65">00963</a>               <span class="keywordtype">boolean</span> require_image));
00964 <span class="comment">/* Return value is one of: */</span>
<a name="l00965"></a><a class="code" href="jpeglib_8h.html#a21">00965</a> #define JPEG_SUSPENDED     0 <span class="comment">/* Suspended due to lack of input data */</span>
<a name="l00966"></a><a class="code" href="jpeglib_8h.html#a22">00966</a> #define JPEG_HEADER_OK     1 <span class="comment">/* Found valid image datastream */</span>
<a name="l00967"></a><a class="code" href="jpeglib_8h.html#a23">00967</a> #define JPEG_HEADER_TABLES_ONLY  2 <span class="comment">/* Found valid table-specs-only datastream */</span>
00968 <span class="comment">/* If you pass require_image = TRUE (normal case), you need not check for</span>
00969 <span class="comment"> * a TABLES_ONLY return code; an abbreviated file will cause an error exit.</span>
00970 <span class="comment"> * JPEG_SUSPENDED is only possible if you use a data source module that can</span>
00971 <span class="comment"> * give a suspension return (the stdio source module doesn't).</span>
00972 <span class="comment"> */</span>
00973 
00974 <span class="comment">/* Main entry points for decompression */</span>
00975 EXTERN(<span class="keywordtype">boolean</span>) jpeg_start_decompress JPP((<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo));
00976 EXTERN(JDIMENSION) jpeg_read_scanlines JPP((<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo,
<a name="l00977"></a><a class="code" href="jpeglib_8h.html#a58">00977</a>                    JSAMPARRAY scanlines,
00978                    JDIMENSION max_lines));
00979 EXTERN(<span class="keywordtype">boolean</span>) jpeg_finish_decompress JPP((<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo));
00980 
00981 <span class="comment">/* Replaces jpeg_read_scanlines when reading raw downsampled data. */</span>
00982 EXTERN(JDIMENSION) jpeg_read_raw_data JPP((<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo,
<a name="l00983"></a><a class="code" href="jpeglib_8h.html#a66">00983</a>                   JSAMPIMAGE data,
00984                   JDIMENSION max_lines));
00985 
00986 <span class="comment">/* Additional entry points for buffered-image mode. */</span>
00987 EXTERN(<span class="keywordtype">boolean</span>) jpeg_has_multiple_scans JPP((<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo));
00988 EXTERN(<span class="keywordtype">boolean</span>) jpeg_start_output JPP((<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo,
<a name="l00989"></a><a class="code" href="jpeglib_8h.html#a67">00989</a>                    <span class="keywordtype">int</span> scan_number));
00990 EXTERN(<span class="keywordtype">boolean</span>) jpeg_finish_output JPP((<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo));
00991 EXTERN(<span class="keywordtype">boolean</span>) jpeg_input_complete JPP((<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo));
00992 EXTERN(<span class="keywordtype">void</span>) jpeg_new_colormap JPP((<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo));
00993 EXTERN(<span class="keywordtype">int</span>) jpeg_consume_input JPP((<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo));
00994 <span class="comment">/* Return value is one of: */</span>
00995 <span class="comment">/* #define JPEG_SUSPENDED  0    Suspended due to lack of input data */</span>
<a name="l00996"></a><a class="code" href="jpeglib_8h.html#a24">00996</a> #define JPEG_REACHED_SOS   1 <span class="comment">/* Reached start of new scan */</span>
<a name="l00997"></a><a class="code" href="jpeglib_8h.html#a25">00997</a> #define JPEG_REACHED_EOI   2 <span class="comment">/* Reached end of image */</span>
<a name="l00998"></a><a class="code" href="jpeglib_8h.html#a26">00998</a> #define JPEG_ROW_COMPLETED 3 <span class="comment">/* Completed one iMCU row */</span>
<a name="l00999"></a><a class="code" href="jpeglib_8h.html#a27">00999</a> #define JPEG_SCAN_COMPLETED   4 <span class="comment">/* Completed last iMCU row of a scan */</span>
01000 
01001 <span class="comment">/* Precalculate output dimensions for current decompression parameters. */</span>
01002 EXTERN(<span class="keywordtype">void</span>) jpeg_calc_output_dimensions JPP((<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo));
01003 
01004 <span class="comment">/* Control saving of COM and APPn markers into marker_list. */</span>
01005 EXTERN(<span class="keywordtype">void</span>) jpeg_save_markers
<a name="l01006"></a><a class="code" href="jpeglib_8h.html#a69">01006</a>    JPP((<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo, <span class="keywordtype">int</span> marker_code,
01007         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> length_limit));
01008 
01009 <span class="comment">/* Install a special processing method for COM or APPn markers. */</span>
01010 EXTERN(<span class="keywordtype">void</span>) jpeg_set_marker_processor
<a name="l01011"></a><a class="code" href="jpeglib_8h.html#a70">01011</a>    JPP((<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo, <span class="keywordtype">int</span> marker_code,
01012         jpeg_marker_parser_method routine));
01013 
01014 <span class="comment">/* Read or write raw DCT coefficients --- useful for lossless transcoding. */</span>
01015 EXTERN(jvirt_barray_ptr *) jpeg_read_coefficients JPP((<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo));
01016 EXTERN(<span class="keywordtype">void</span>) jpeg_write_coefficients JPP((<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo,
<a name="l01017"></a><a class="code" href="jpeglib_8h.html#a71">01017</a>                  jvirt_barray_ptr * coef_arrays));
01018 EXTERN(<span class="keywordtype">void</span>) jpeg_copy_critical_parameters JPP((<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> srcinfo,
<a name="l01019"></a><a class="code" href="jpeglib_8h.html#a72">01019</a>                   <a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> dstinfo));
01020 
01021 <span class="comment">/* If you choose to abort compression or decompression before completing</span>
01022 <span class="comment"> * jpeg_finish_(de)compress, then you need to clean up to release memory,</span>
01023 <span class="comment"> * temporary files, etc.  You can just call jpeg_destroy_(de)compress</span>
01024 <span class="comment"> * if you're done with the JPEG object, but if you want to clean it up and</span>
01025 <span class="comment"> * reuse it, call this:</span>
01026 <span class="comment"> */</span>
01027 EXTERN(<span class="keywordtype">void</span>) jpeg_abort_compress JPP((<a class="code" href="structjpeg__compress__struct.html">j_compress_ptr</a> cinfo));
01028 EXTERN(<span class="keywordtype">void</span>) jpeg_abort_decompress JPP((<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo));
01029 
01030 <span class="comment">/* Generic versions of jpeg_abort and jpeg_destroy that work on either</span>
01031 <span class="comment"> * flavor of JPEG object.  These may be more convenient in some places.</span>
01032 <span class="comment"> */</span>
01033 EXTERN(<span class="keywordtype">void</span>) jpeg_abort JPP((<a class="code" href="structjpeg__common__struct.html">j_common_ptr</a> cinfo));
01034 EXTERN(<span class="keywordtype">void</span>) jpeg_destroy JPP((<a class="code" href="structjpeg__common__struct.html">j_common_ptr</a> cinfo));
01035 
01036 <span class="comment">/* Default restart-marker-resync procedure for use by data source modules */</span>
01037 EXTERN(<span class="keywordtype">boolean</span>) jpeg_resync_to_restart JPP((<a class="code" href="structjpeg__decompress__struct.html">j_decompress_ptr</a> cinfo,
<a name="l01038"></a><a class="code" href="jpeglib_8h.html#a73">01038</a>                    <span class="keywordtype">int</span> desired));
01039 
01040 
01041 <span class="comment">/* These marker codes are exported since applications and data source modules</span>
01042 <span class="comment"> * are likely to want to use them.</span>
01043 <span class="comment"> */</span>
01044 
<a name="l01045"></a><a class="code" href="jpeglib_8h.html#a28">01045</a> #define JPEG_RST0 0xD0  <span class="comment">/* RST0 marker code */</span>
<a name="l01046"></a><a class="code" href="jpeglib_8h.html#a29">01046</a> #define JPEG_EOI  0xD9  <span class="comment">/* EOI marker code */</span>
<a name="l01047"></a><a class="code" href="jpeglib_8h.html#a30">01047</a> #define JPEG_APP0 0xE0  <span class="comment">/* APP0 marker code */</span>
<a name="l01048"></a><a class="code" href="jpeglib_8h.html#a31">01048</a> #define JPEG_COM  0xFE  <span class="comment">/* COM marker code */</span>
01049 
01050 
01051 <span class="comment">/* If we have a brain-damaged compiler that emits warnings (or worse, errors)</span>
01052 <span class="comment"> * for structure definitions that are never filled in, keep it quiet by</span>
01053 <span class="comment"> * supplying dummy definitions for the various substructures.</span>
01054 <span class="comment"> */</span>
01055 
01056 #ifdef INCOMPLETE_TYPES_BROKEN
01057 #ifndef JPEG_INTERNALS     <span class="comment">/* will be defined in jpegint.h */</span>
01058 struct jvirt_sarray_control { <span class="keywordtype">long</span> dummy; };
01059 <span class="keyword">struct </span>jvirt_barray_control { <span class="keywordtype">long</span> dummy; };
01060 <span class="keyword">struct </span><a class="code" href="structjpeg__comp__master.html">jpeg_comp_master</a> { <span class="keywordtype">long</span> dummy; };
01061 <span class="keyword">struct </span><a class="code" href="structjpeg__c__main__controller.html">jpeg_c_main_controller</a> { <span class="keywordtype">long</span> dummy; };
01062 <span class="keyword">struct </span><a class="code" href="structjpeg__c__prep__controller.html">jpeg_c_prep_controller</a> { <span class="keywordtype">long</span> dummy; };
01063 <span class="keyword">struct </span><a class="code" href="structjpeg__c__coef__controller.html">jpeg_c_coef_controller</a> { <span class="keywordtype">long</span> dummy; };
01064 <span class="keyword">struct </span><a class="code" href="structjpeg__marker__writer.html">jpeg_marker_writer</a> { <span class="keywordtype">long</span> dummy; };
01065 <span class="keyword">struct </span><a class="code" href="structjpeg__color__converter.html">jpeg_color_converter</a> { <span class="keywordtype">long</span> dummy; };
01066 <span class="keyword">struct </span><a class="code" href="structjpeg__downsampler.html">jpeg_downsampler</a> { <span class="keywordtype">long</span> dummy; };
01067 <span class="keyword">struct </span><a class="code" href="structjpeg__forward__dct.html">jpeg_forward_dct</a> { <span class="keywordtype">long</span> dummy; };
01068 <span class="keyword">struct </span><a class="code" href="structjpeg__entropy__encoder.html">jpeg_entropy_encoder</a> { <span class="keywordtype">long</span> dummy; };
01069 <span class="keyword">struct </span><a class="code" href="structjpeg__decomp__master.html">jpeg_decomp_master</a> { <span class="keywordtype">long</span> dummy; };
01070 <span class="keyword">struct </span><a class="code" href="structjpeg__d__main__controller.html">jpeg_d_main_controller</a> { <span class="keywordtype">long</span> dummy; };
01071 <span class="keyword">struct </span><a class="code" href="structjpeg__d__coef__controller.html">jpeg_d_coef_controller</a> { <span class="keywordtype">long</span> dummy; };
01072 <span class="keyword">struct </span><a class="code" href="structjpeg__d__post__controller.html">jpeg_d_post_controller</a> { <span class="keywordtype">long</span> dummy; };
01073 <span class="keyword">struct </span><a class="code" href="structjpeg__input__controller.html">jpeg_input_controller</a> { <span class="keywordtype">long</span> dummy; };
01074 <span class="keyword">struct </span><a class="code" href="structjpeg__marker__reader.html">jpeg_marker_reader</a> { <span class="keywordtype">long</span> dummy; };
01075 <span class="keyword">struct </span><a class="code" href="structjpeg__entropy__decoder.html">jpeg_entropy_decoder</a> { <span class="keywordtype">long</span> dummy; };
01076 <span class="keyword">struct </span><a class="code" href="structjpeg__inverse__dct.html">jpeg_inverse_dct</a> { <span class="keywordtype">long</span> dummy; };
01077 <span class="keyword">struct </span><a class="code" href="structjpeg__upsampler.html">jpeg_upsampler</a> { <span class="keywordtype">long</span> dummy; };
01078 <span class="keyword">struct </span><a class="code" href="structjpeg__color__deconverter.html">jpeg_color_deconverter</a> { <span class="keywordtype">long</span> dummy; };
01079 <span class="keyword">struct </span><a class="code" href="structjpeg__color__quantizer.html">jpeg_color_quantizer</a> { <span class="keywordtype">long</span> dummy; };
01080 <span class="preprocessor">#endif </span><span class="comment">/* JPEG_INTERNALS */</span>
01081 <span class="preprocessor">#endif </span><span class="comment">/* INCOMPLETE_TYPES_BROKEN */</span>
01082 
01083 
01084 <span class="comment">/*</span>
01085 <span class="comment"> * The JPEG library modules define JPEG_INTERNALS before including this file.</span>
01086 <span class="comment"> * The internal structure declarations are read only when that is true.</span>
01087 <span class="comment"> * Applications using the library should not include jpegint.h, but may wish</span>
01088 <span class="comment"> * to include jerror.h.</span>
01089 <span class="comment"> */</span>
01090 
01091 <span class="preprocessor">#ifdef JPEG_INTERNALS</span>
01092 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="jpegint_8h.html">jpegint.h</a>"</span>    <span class="comment">/* fetch private declarations */</span>
01093 <span class="preprocessor">#include "<a class="code" href="jerror_8h.html">jerror.h</a>"</span>     <span class="comment">/* fetch error codes too */</span>
01094 <span class="preprocessor">#endif</span>
01095 <span class="preprocessor"></span>
01096 <span class="preprocessor">#endif </span><span class="comment">/* JPEGLIB_H */</span>
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Wed Dec 20 14:28:14 2006 for SIMRI3D by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
