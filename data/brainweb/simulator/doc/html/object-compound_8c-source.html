<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SIMRI3D: object-compound.c Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a></div>
<h1>object-compound.c</h1><a href="object-compound_8c.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/*************************************************************************</span>
00002 <span class="comment">* $Id: object-compound.c,v 1.10 2006/12/18 15:10:37 yougz Exp $</span>
00003 <span class="comment">* Contains functiosn to define objects with multiple components</span>
00004 <span class="comment">* At moment, two components for water and fat</span>
00005 <span class="comment">**************************************************************************</span>
00006 <span class="comment"> This software is governed by the CeCILL  license under French law and</span>
00007 <span class="comment">  abiding by the rules of distribution of free software.  You can  use, </span>
00008 <span class="comment">  modify and/ or redistribute the software under the terms of the CeCILL</span>
00009 <span class="comment">  license as circulated by CEA, CNRS and INRIA at the following URL</span>
00010 <span class="comment">  "http://www.cecill.info". </span>
00011 <span class="comment">  </span>
00012 <span class="comment">  As a counterpart to the access to the source code and  rights to copy,</span>
00013 <span class="comment">  modify and redistribute granted by the license, users are provided only</span>
00014 <span class="comment">  with a limited warranty  and the software's author,  the holder of the</span>
00015 <span class="comment">  economic rights,  and the successive licensors  have only  limited</span>
00016 <span class="comment">  liability. </span>
00017 <span class="comment">  </span>
00018 <span class="comment">  In this respect, the user's attention is drawn to the risks associated</span>
00019 <span class="comment">  with loading,  using,  modifying and/or developing or reproducing the</span>
00020 <span class="comment">  software by the user in light of its specific status of free software,</span>
00021 <span class="comment">  that may mean  that it is complicated to manipulate,  and  that  also</span>
00022 <span class="comment">  therefore means  that it is reserved for developers  and  experienced</span>
00023 <span class="comment">  professionals having in-depth computer knowledge. Users are therefore</span>
00024 <span class="comment">  encouraged to load and test the software's suitability as regards their</span>
00025 <span class="comment">  requirements in conditions enabling the security of their systems and/or </span>
00026 <span class="comment">  data to be ensured and,  more generally, to use and operate it in the </span>
00027 <span class="comment">  same conditions as regards security. </span>
00028 <span class="comment">  </span>
00029 <span class="comment">  The fact that you are presently reading this means that you have had</span>
00030 <span class="comment">  knowledge of the CeCILL license and that you accept its terms.</span>
00031 <span class="comment">  </span>
00032 <span class="comment">  Copyright (c) CREATIS (Centre de Recherche et d'Applications en Traitement de</span>
00033 <span class="comment">  l'Image). All rights reserved. See License.txt for details.</span>
00034 <span class="comment">  </span>
00035 <span class="comment">  Version 2.0  20/12/2006</span>
00036 <span class="comment">*************************************************************************/</span>
00037 <span class="preprocessor">#include "<a class="code" href="object-compound_8h.html">object-compound.h</a>"</span>
00038 <span class="preprocessor">#include &lt;<a class="code" href="idseq_8h.html">idseq.h</a>&gt;</span>
00039 <span class="preprocessor">#include &lt;<a class="code" href="idacr_8h.html">idacr.h</a>&gt;</span>
00040 <span class="preprocessor">#include &lt;string.h&gt;</span>
00041 <span class="preprocessor">#include &lt;<a class="code" href="idvol_8h.html">idvol.h</a>&gt;</span>
00042 <span class="preprocessor">#include &lt;<a class="code" href="display_8h.html">display.h</a>&gt;</span>
00043 
<a name="l00053"></a><a class="code" href="group__Object.html#ga0">00053</a> <a class="code" href="object_8h.html#a7">OBJECT3D</a> * <a class="code" href="group__Object.html#ga0">CreateObjectBiComponent1D</a>(<span class="keywordtype">int</span> nx)
00054 {
00055  <a class="code" href="object_8h.html#a7">OBJECT3D</a> * <a class="code" href="jmemsys_8h.html#a3">object</a>;
00056  <span class="keywordtype">int</span> xdeb, xfin,rodeb,rofin,t1deb,t1fin,t2deb,t2fin;
00057  <span class="keywordtype">int</span> ny,nz;
00058 
00059  ny=1;nz=1;
00060  <a class="code" href="jmemsys_8h.html#a3">object</a> = (<a class="code" href="object_8h.html#a7">OBJECT3D</a> *) <a class="code" href="group__Object.html#ga10">AllocObject</a>(nx,ny,nz,2,3);
00061  <a class="code" href="group__Object.html#ga17">SetObjectChemicalShift</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,<a class="code" href="object_8h.html#a2">DECWATER</a>,<a class="code" href="object_8h.html#a0">WATER</a>);
00062  <a class="code" href="group__Object.html#ga17">SetObjectChemicalShift</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,<a class="code" href="object_8h.html#a3">DECFAT</a>,<a class="code" href="object_8h.html#a1">FAT</a>);
00063  rodeb=60;rofin=100;
00064  t1deb=50;t1fin=400;
00065  t2deb=50;t2fin=90;
00066 
00067  <span class="comment">/* 1rst part */</span>
00068  xdeb=0;xfin=nx/8;
00069  <a class="code" href="group__Object.html#ga8">SetLinearObject1D</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,rodeb, rofin,t1deb,t1fin,t2deb,t2fin,xdeb, xfin, <a class="code" href="object_8h.html#a0">WATER</a>);
00070  <a class="code" href="group__Object.html#ga8">SetLinearObject1D</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,rodeb, rofin,t1deb,t1fin,t2deb,t2fin,xdeb, xfin, <a class="code" href="object_8h.html#a1">FAT</a>);
00071  <span class="comment">/* 2nd part */</span>
00072  xdeb=nx/8;xfin=nx/4;
00073  rodeb=100;rofin=100;t1deb=180;t1fin=180;t2deb=90;t2deb=90;
00074  <a class="code" href="group__Object.html#ga8">SetLinearObject1D</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,rofin, rodeb,t1fin,t1deb,t2fin,t2deb,xdeb, xfin, <a class="code" href="object_8h.html#a0">WATER</a>);
00075  <a class="code" href="group__Object.html#ga8">SetLinearObject1D</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,rofin, rodeb,t1fin,t1deb,t2fin,t2deb,xdeb, xfin, <a class="code" href="object_8h.html#a1">FAT</a>);
00076  <span class="comment">/* background */</span>
00077  xdeb=nx/4; xfin=nx;
00078  rodeb=50;t1deb=150;t2deb=60;rofin=rodeb;t1fin=t1deb; t2fin=t2deb;
00079  <a class="code" href="group__Object.html#ga8">SetLinearObject1D</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,rofin, rodeb,t1fin,t1deb,t2fin,t2deb,xdeb, xfin, <a class="code" href="object_8h.html#a0">WATER</a>);
00080  <a class="code" href="group__Object.html#ga8">SetLinearObject1D</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,rofin, rodeb,t1fin,t1deb,t2fin,t2deb,xdeb, xfin, <a class="code" href="object_8h.html#a1">FAT</a>);
00081 
00082  <span class="keywordflow">return</span>(<a class="code" href="jmemsys_8h.html#a3">object</a>);
00083 }
00084 
<a name="l00094"></a><a class="code" href="group__Object.html#ga1">00094</a> <a class="code" href="object_8h.html#a7">OBJECT3D</a> * <a class="code" href="group__Object.html#ga1">CreateObjectBiComponent2DCircle</a>(<span class="keywordtype">int</span> nx,<span class="keywordtype">int</span> ny)
00095 {
00096  <a class="code" href="object_8h.html#a7">OBJECT3D</a> * <a class="code" href="jmemsys_8h.html#a3">object</a>;
00097  <span class="keywordtype">int</span> nz=1;
00098  <span class="keywordtype">int</span> ro,t1,t2;
00099  <span class="keywordtype">int</span>  ox, oy;
00100  <span class="keywordtype">int</span> i,j,k;
00101  <span class="keywordtype">int</span> rext,rint;
00102  
00103  <a class="code" href="jmemsys_8h.html#a3">object</a> = (<a class="code" href="object_8h.html#a7">OBJECT3D</a> *) <a class="code" href="group__Object.html#ga10">AllocObject</a>(nx,ny,nz,2,3);
00104  <a class="code" href="group__Object.html#ga17">SetObjectChemicalShift</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,<a class="code" href="object_8h.html#a2">DECWATER</a>,<a class="code" href="object_8h.html#a0">WATER</a>);
00105  <a class="code" href="group__Object.html#ga17">SetObjectChemicalShift</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,<a class="code" href="object_8h.html#a3">DECFAT</a>,<a class="code" href="object_8h.html#a1">FAT</a>);
00106  
00107 <span class="comment">/* Background*/</span>
00108  ox=nx/2; oy=ny/2;
00109  t1=100; t2=50; ro=0;
00110  <span class="comment">//t1=200; t2=2; ro=2;</span>
00111  k=0;
00112  <span class="keywordflow">for</span> (i=0;i&lt;nx;i++) <span class="keywordflow">for</span>(j=0;j&lt;ny;j++)
00113    {
00114     <a class="code" href="group__Object.html#ga19">SetObjectPoint</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,i,j,k,ro,t1,t2,<a class="code" href="object_8h.html#a0">WATER</a>);
00115     <a class="code" href="group__Object.html#ga19">SetObjectPoint</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,i,j,k,0,t1,t2,<a class="code" href="object_8h.html#a1">FAT</a>);
00116    }
00117 
00118  <span class="comment">/* Water extern circle */</span>
00119  <span class="keywordflow">if</span> (nx&lt;ny)
00120    {
00121    rext=nx/4*1.5;
00122     rint=nx/8*1.5;
00123    }
00124  <span class="keywordflow">else</span>
00125    {
00126    rext=ny/4*1.5;
00127     rint=ny/8*1.5;
00128    }
00129     
00130  ox=nx/2; oy=ny/2;
00131  k=0;
00132  t1=3000; t2=300; ro=100;
00133  <span class="keywordflow">for</span> (i=0;i&lt;nx;i++) <span class="keywordflow">for</span>(j=0;j&lt;ny;j++)
00134    <span class="keywordflow">if</span> ((((i - ox)*(i - ox)+(j - oy)*(j - oy)) &lt; (rext * rext) ) &amp;&amp; ( ((i - ox)*(i - ox)+(j - oy)*(j - oy)) &gt;= (rint*rint)))
00135    { <a class="code" href="group__Object.html#ga19">SetObjectPoint</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,i,j,k,ro,t1,t2,<a class="code" href="object_8h.html#a0">WATER</a>);
00136      <a class="code" href="group__Object.html#ga19">SetObjectPoint</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,i,j,k,0,t1,t2,<a class="code" href="object_8h.html#a1">FAT</a>);
00137    }
00138 
00139  <span class="comment">/* Fat internal circle */</span>
00140  <span class="keywordflow">if</span> (nx&lt;ny) 
00141    rint=nx/8*1.5;
00142  <span class="keywordflow">else</span> 
00143    rint=ny/8*1.5;
00144  
00145  ox=nx/2; oy=ny/2;
00146  k=0;
00147  ro=100;t1=350; t2=70; <span class="comment">/* T1, T2 values for B0=1T */</span>
00148     
00149  <span class="keywordflow">for</span> (i=0;i&lt;nx;i++) <span class="keywordflow">for</span>(j=0;j&lt;ny;j++)
00150     <span class="keywordflow">if</span> ((i - ox) * (i - ox) + (j - oy) * (j - oy) &lt; rint * rint)
00151       {
00152        <a class="code" href="group__Object.html#ga19">SetObjectPoint</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,i,j,k,80,t1,t2,<a class="code" href="object_8h.html#a1">FAT</a>);
00153       <a class="code" href="group__Object.html#ga19">SetObjectPoint</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,i,j,k,20,3000,300,<a class="code" href="object_8h.html#a0">WATER</a>);
00154      }
00155 
00156  <span class="keywordflow">return</span>(<a class="code" href="jmemsys_8h.html#a3">object</a>);
00157 }
00158 
<a name="l00169"></a><a class="code" href="group__Object.html#ga2">00169</a> <a class="code" href="object_8h.html#a7">OBJECT3D</a> * <a class="code" href="group__Object.html#ga2">CreateObjectBiComponent2DCircleEllipse</a>(<span class="keywordtype">int</span> nx,<span class="keywordtype">int</span> ny)
00170 {
00171  <a class="code" href="object_8h.html#a7">OBJECT3D</a> * <a class="code" href="jmemsys_8h.html#a3">object</a>;
00172  <span class="keywordtype">int</span> nz=1;
00173  <span class="keywordtype">int</span> ro,t1,t2;
00174  <span class="keywordtype">int</span>  ox, oy,rx,ry;
00175  <span class="keyword">register</span> <span class="keywordtype">int</span> i,j,k;
00176  <span class="keywordtype">int</span> radius;
00177  
00178  <a class="code" href="jmemsys_8h.html#a3">object</a> = (<a class="code" href="object_8h.html#a7">OBJECT3D</a> *) <a class="code" href="group__Object.html#ga10">AllocObject</a>(nx,ny,nz,2,3);
00179  <a class="code" href="group__Object.html#ga17">SetObjectChemicalShift</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,<a class="code" href="object_8h.html#a2">DECWATER</a>,<a class="code" href="object_8h.html#a0">WATER</a>);
00180  <a class="code" href="group__Object.html#ga17">SetObjectChemicalShift</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,<a class="code" href="object_8h.html#a3">DECFAT</a>,<a class="code" href="object_8h.html#a1">FAT</a>);
00181 
00182  <span class="comment">/* Background */</span>
00183  t1=100; t2=50; ro=100;
00184  k=0;
00185  <span class="keywordflow">for</span> (i=0;i&lt;nx;i++) <span class="keywordflow">for</span>(j=0;j&lt;ny;j++)
00186       <a class="code" href="group__Object.html#ga19">SetObjectPoint</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,i,j,k,ro,t1,t2,<a class="code" href="object_8h.html#a0">WATER</a>);
00187  
00188  <span class="comment">/* Water circle */</span>
00189  <span class="keywordflow">if</span> (nx&lt;ny) radius=nx/8;
00190  <span class="keywordflow">else</span>       radius=ny/8;
00191  ox=nx/4; oy=ny/4;
00192  k=0;
00193  t1=0; t2=0; ro=0;
00194  <span class="keywordflow">for</span> (i=0;i&lt;nx;i++) <span class="keywordflow">for</span>(j=0;j&lt;ny;j++)
00195     <span class="keywordflow">if</span> ((i - ox) * (i - ox) + (j - oy) * (j - oy) &lt; radius * radius)
00196           <a class="code" href="group__Object.html#ga19">SetObjectPoint</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,i,j,k,ro,t1,t2,<a class="code" href="object_8h.html#a0">WATER</a>);
00197  <span class="keywordflow">if</span> (nx&lt;ny) radius=nx/8;
00198  <span class="keywordflow">else</span>       radius=ny/8;
00199  ox=nx/4; oy=ny/4;
00200  k=0;
00201  t1=400; t2=50; ro=100;
00202  <span class="keywordflow">for</span> (i=0;i&lt;nx;i++) <span class="keywordflow">for</span>(j=0;j&lt;ny;j++)
00203     <span class="keywordflow">if</span> ((i - ox) * (i - ox) + (j - oy) * (j - oy) &lt; radius * radius)
00204           <a class="code" href="group__Object.html#ga19">SetObjectPoint</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,i,j,k,ro,t1,t2,<a class="code" href="object_8h.html#a0">WATER</a>);
00205  
00206  <span class="comment">/* Fat ellipse */</span>
00207  rx=nx/4;  ry=ny/8;
00208  ox=3*nx/4; oy=3*ny/4;
00209  k=0;
00210  ro=1; t1=2500; t2=200;
00211  <span class="keywordflow">for</span> (i=0;i&lt;nx;i++) <span class="keywordflow">for</span>(j=0;j&lt;ny;j++)
00212     <span class="keywordflow">if</span> ((i-ox)*(i-ox)/(1.0*rx*rx)+(j-oy)*(j-oy)/(1.0*ry*ry)&lt;1)
00213            <a class="code" href="group__Object.html#ga19">SetObjectPoint</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,i,j,k,ro,t1,t2,<a class="code" href="object_8h.html#a1">FAT</a>);
00214    
00215  <span class="keywordflow">return</span>(<a class="code" href="jmemsys_8h.html#a3">object</a>);
00216 }
00217 
<a name="l00228"></a><a class="code" href="group__Object.html#ga3">00228</a> <a class="code" href="object_8h.html#a7">OBJECT3D</a> * <a class="code" href="group__Object.html#ga3">CreateObjectBiComponent3DSphere</a>(<span class="keywordtype">int</span> nx,<span class="keywordtype">int</span> ny,<span class="keywordtype">int</span> nz)
00229 {
00230  <a class="code" href="object_8h.html#a7">OBJECT3D</a> * <a class="code" href="jmemsys_8h.html#a3">object</a>;
00231  
00232  <a class="code" href="jmemsys_8h.html#a3">object</a> = (<a class="code" href="object_8h.html#a7">OBJECT3D</a> *) <a class="code" href="group__Object.html#ga10">AllocObject</a>(nx,ny,nz,2,3);  
00233  <a class="code" href="group__Object.html#ga17">SetObjectChemicalShift</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,<a class="code" href="object_8h.html#a2">DECWATER</a>,<a class="code" href="object_8h.html#a0">WATER</a>);
00234  <a class="code" href="group__Object.html#ga17">SetObjectChemicalShift</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,<a class="code" href="object_8h.html#a3">DECFAT</a>,<a class="code" href="object_8h.html#a1">FAT</a>);
00235                    
00236  <span class="comment">/* Water extern sphere */</span>
00237  <a class="code" href="group__Object.html#ga5">SetObjectSphereComponent</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>, (<span class="keywordtype">int</span>)(nx/3),
00238         nx, ny, nz,
00239         nx / 2, ny / 2, nz /2 , 0, 0, 0, 90, 40, 100, 0,<a class="code" href="object_8h.html#a0">WATER</a>);
00240  <a class="code" href="group__Object.html#ga5">SetObjectSphereComponent</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>, (<span class="keywordtype">int</span>)(nx/3),
00241         nx, ny, nz,
00242         nx / 2, ny / 2, nz /2 , 400, 50, 100, 90, 40, 100, 1,<a class="code" href="object_8h.html#a0">WATER</a>);
00243 
00244  <span class="comment">/* Fat intern sphere */</span>
00245  <a class="code" href="group__Object.html#ga5">SetObjectSphereComponent</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>, (<span class="keywordtype">int</span>)(nx/5),
00246         nx, ny, nz,
00247         nx / 2, ny / 2, nz /2 , 0, 0 , 0, 90, 40, 100, 0,<a class="code" href="object_8h.html#a0">WATER</a>);
00248  <a class="code" href="group__Object.html#ga5">SetObjectSphereComponent</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>, (<span class="keywordtype">int</span>)(nx/5),
00249         nx, ny, nz,
00250         nx / 2, ny / 2, nz /2 , 180, 90 , 1, 90, 40, 100, 0,<a class="code" href="object_8h.html#a1">FAT</a>);
00251  <a class="code" href="group__Object.html#ga5">SetObjectSphereComponent</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>, (<span class="keywordtype">int</span>)(nx/5),
00252         nx, ny, nz,
00253         nx / 2, ny / 2, nz /2 , 180, 90 , 1, 90, 40, 100, 0,<a class="code" href="object_8h.html#a0">WATER</a>);
00254 
00255  <span class="keywordflow">return</span> (<a class="code" href="jmemsys_8h.html#a3">object</a>);
00256 }
00257 
<a name="l00268"></a><a class="code" href="group__Object.html#ga4">00268</a> <a class="code" href="object_8h.html#a7">OBJECT3D</a> * <a class="code" href="group__Object.html#ga4">CreateObject3DSphereEllipse</a>(<span class="keywordtype">int</span> nx, <span class="keywordtype">int</span> ny, <span class="keywordtype">int</span> nz)
00269 {
00270     <a class="code" href="object_8h.html#a7">OBJECT3D</a> * <a class="code" href="jmemsys_8h.html#a3">object</a>;
00271    <a class="code" href="jmemsys_8h.html#a3">object</a> = (<a class="code" href="object_8h.html#a7">OBJECT3D</a> *) <a class="code" href="group__Object.html#ga10">AllocObject</a>(nx,ny,nz,1,3);
00272 
00273    <a class="code" href="group__Object.html#ga5">SetObjectSphereComponent</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>, (<span class="keywordtype">int</span>)(nx/5),
00274         nx, ny, nz,
00275         nx / 4, ny / 4, nz / 4,
00276              500, 90, 70,
00277              10, 50, 2,1,<a class="code" href="object_8h.html#a0">WATER</a>); <span class="comment">/* GM */</span>
00278 
00279     <a class="code" href="group__Object.html#ga6">SetObjectEllipseComponent</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>, (<span class="keywordtype">int</span>)(nx/2.5), (<span class="keywordtype">int</span>)(nx/4), (<span class="keywordtype">int</span>)(nx/8),
00280          nx, ny, nz,
00281          nx / 2, ny / 2, nz / 2, 
00282               350, 75, 60, 
00283               10, 50, 2,0,<a class="code" href="object_8h.html#a0">WATER</a>); <span class="comment">/* WM */</span>
00284  
00285    <span class="keywordflow">return</span>(<a class="code" href="jmemsys_8h.html#a3">object</a>);
00286 }
00287 
<a name="l00309"></a><a class="code" href="group__Object.html#ga5">00309</a> <span class="keywordtype">void</span> <a class="code" href="group__Object.html#ga5">SetObjectSphereComponent</a>(OBJECT3D * object,
00310    <span class="keywordtype">int</span> radius,
00311    <span class="keywordtype">int</span> dimx, <span class="keywordtype">int</span> dimy, <span class="keywordtype">int</span> dimz,
00312    <span class="keywordtype">int</span> ox, <span class="keywordtype">int</span> oy, <span class="keywordtype">int</span> oz,
00313    <span class="keywordtype">int</span> t1s, <span class="keywordtype">int</span> t2s, <span class="keywordtype">int</span> ros,
00314    <span class="keywordtype">int</span> t1b, <span class="keywordtype">int</span> t2b, <span class="keywordtype">int</span> rob, <span class="keywordtype">int</span> fill_all,<span class="keywordtype">int</span> component)
00315 {
00316   <span class="keyword">register</span> <span class="keywordtype">int</span>       i,j,k;
00317   
00318 <span class="comment">/* Few verifications */</span>
00319   <span class="keywordflow">if</span> ((<a class="code" href="jmemsys_8h.html#a3">object</a>-&gt;nbparam !=3)||(<a class="code" href="jmemsys_8h.html#a3">object</a>-&gt;nbcomponent&gt;2))
00320   {
00321      printf(<span class="stringliteral">"Le nombre de composantes de l'object est incoherent !\n"</span>);
00322      exit(0);
00323   }
00324   <span class="keywordflow">if</span> (!((<a class="code" href="jmemsys_8h.html#a3">object</a>-&gt;x==dimx)&amp;&amp;(<a class="code" href="jmemsys_8h.html#a3">object</a>-&gt;y==dimy)&amp;&amp;(<a class="code" href="jmemsys_8h.html#a3">object</a>-&gt;z==dimz)))
00325   {
00326      printf(<span class="stringliteral">"Taille d'object incompatible !\n"</span>);
00327      exit(0);
00328   }
00329 
00330   <span class="keywordflow">for</span> (i=0;i&lt;dimx;i++) <span class="keywordflow">for</span>(j=0;j&lt;dimy;j++) <span class="keywordflow">for</span>(k=0;k&lt;dimz;k++)
00331   {
00332    <span class="keywordflow">if</span> ((i - ox) * (i - ox) + (j - oy) * (j - oy) +
00333           (k - oz) * (k - oz) &lt;= radius * radius) {
00334          <a class="code" href="group__Object.html#ga19">SetObjectPoint</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,i,j,k,ros,t1s,t2s,component);
00335       } <span class="keywordflow">else</span> {
00336           <span class="keywordflow">if</span> (fill_all) {
00337          <a class="code" href="group__Object.html#ga19">SetObjectPoint</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,i,j,k,rob,t1b,t2b,component);
00338          }
00339       }
00340   }
00341 }
00342 
<a name="l00366"></a><a class="code" href="group__Object.html#ga6">00366</a> <span class="keywordtype">void</span> <a class="code" href="group__Object.html#ga6">SetObjectEllipseComponent</a>(OBJECT3D *object,
00367    <span class="keywordtype">int</span> rx, <span class="keywordtype">int</span> ry, <span class="keywordtype">int</span> rz,
00368    <span class="keywordtype">int</span> dimx, <span class="keywordtype">int</span> dimy, <span class="keywordtype">int</span> dimz,
00369    <span class="keywordtype">int</span> ox, <span class="keywordtype">int</span> oy, <span class="keywordtype">int</span> oz,
00370    <span class="keywordtype">int</span> t1s, <span class="keywordtype">int</span> t2s, <span class="keywordtype">int</span> ros,
00371    <span class="keywordtype">int</span> t1b, <span class="keywordtype">int</span> t2b, <span class="keywordtype">int</span> rob, <span class="keywordtype">int</span> fill_all,<span class="keywordtype">int</span> component)
00372 {
00373    <span class="keyword">register</span> <span class="keywordtype">int</span>       i,j,k;
00374 
00375 <span class="comment">/* Few verifications */</span>
00376   <span class="keywordflow">if</span> ((<a class="code" href="jmemsys_8h.html#a3">object</a>-&gt;nbparam !=3)||(<a class="code" href="jmemsys_8h.html#a3">object</a>-&gt;nbcomponent&gt;21))
00377   {
00378      printf(<span class="stringliteral">"Le nombre de composantes de l'object plus grand que 2 !\n"</span>);
00379      exit(0);
00380   }
00381   <span class="keywordflow">if</span> (!((<a class="code" href="jmemsys_8h.html#a3">object</a>-&gt;x==dimx)&amp;&amp;(<a class="code" href="jmemsys_8h.html#a3">object</a>-&gt;y==dimy)&amp;&amp;(<a class="code" href="jmemsys_8h.html#a3">object</a>-&gt;z==dimz)))
00382   {
00383      printf(<span class="stringliteral">"Taille d'object incompatible !\n"</span>);
00384      exit(0);
00385   }
00386 
00387   <span class="keywordflow">for</span> (i=0;i&lt;dimx;i++) <span class="keywordflow">for</span>(j=0;j&lt;dimy;j++) <span class="keywordflow">for</span>(k=0;k&lt;dimz;k++)
00388   {
00389       <span class="keywordflow">if</span> ((i-ox)*(i-ox) / (1.0*rx*rx) + (j-oy)*(j-oy) / (1.0*ry*ry)
00390          + (k-oz)*(k-oz) / (1.0*rz*rz) &lt; 1) {
00391          <a class="code" href="group__Object.html#ga19">SetObjectPoint</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,i,j,k,ros,t1s,t2s,<a class="code" href="object_8h.html#a0">WATER</a>);
00392       } <span class="keywordflow">else</span> {
00393           <span class="keywordflow">if</span> (fill_all) {
00394          <a class="code" href="group__Object.html#ga19">SetObjectPoint</a>(<a class="code" href="jmemsys_8h.html#a3">object</a>,i,j,k,rob,t1b,t2b,<a class="code" href="object_8h.html#a0">WATER</a>);
00395          }
00396       }
00397   }
00398 }
00399 
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Wed Dec 20 14:28:14 2006 for SIMRI3D by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
