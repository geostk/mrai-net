<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SIMRI3D: volmax.c Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a></div>
<h1>volmax.c</h1><a href="volmax_8c.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/*************************************************************************</span>
00002 <span class="comment">* $Id: volmax.c,v 1.1 2005/09/09 08:22:56 bellet Exp $</span>
00003 <span class="comment">**************************************************************************</span>
00004 <span class="comment"> This software is governed by the CeCILL  license under French law and</span>
00005 <span class="comment">  abiding by the rules of distribution of free software.  You can  use, </span>
00006 <span class="comment">  modify and/ or redistribute the software under the terms of the CeCILL</span>
00007 <span class="comment">  license as circulated by CEA, CNRS and INRIA at the following URL</span>
00008 <span class="comment">  "http://www.cecill.info". </span>
00009 <span class="comment">  </span>
00010 <span class="comment">  As a counterpart to the access to the source code and  rights to copy,</span>
00011 <span class="comment">  modify and redistribute granted by the license, users are provided only</span>
00012 <span class="comment">  with a limited warranty  and the software's author,  the holder of the</span>
00013 <span class="comment">  economic rights,  and the successive licensors  have only  limited</span>
00014 <span class="comment">  liability. </span>
00015 <span class="comment">  </span>
00016 <span class="comment">  In this respect, the user's attention is drawn to the risks associated</span>
00017 <span class="comment">  with loading,  using,  modifying and/or developing or reproducing the</span>
00018 <span class="comment">  software by the user in light of its specific status of free software,</span>
00019 <span class="comment">  that may mean  that it is complicated to manipulate,  and  that  also</span>
00020 <span class="comment">  therefore means  that it is reserved for developers  and  experienced</span>
00021 <span class="comment">  professionals having in-depth computer knowledge. Users are therefore</span>
00022 <span class="comment">  encouraged to load and test the software's suitability as regards their</span>
00023 <span class="comment">  requirements in conditions enabling the security of their systems and/or </span>
00024 <span class="comment">  data to be ensured and,  more generally, to use and operate it in the </span>
00025 <span class="comment">  same conditions as regards security. </span>
00026 <span class="comment">  </span>
00027 <span class="comment">  The fact that you are presently reading this means that you have had</span>
00028 <span class="comment">  knowledge of the CeCILL license and that you accept its terms.</span>
00029 <span class="comment">  </span>
00030 <span class="comment">  Copyright (c) CREATIS (Centre de Recherche et d'Applications en Traitement de</span>
00031 <span class="comment">  l'Image). All rights reserved. See License.txt for details.</span>
00032 <span class="comment">  </span>
00033 <span class="comment">  Version 1.0  05/09/2005</span>
00034 <span class="comment">*************************************************************************/</span>
00035 
00036 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
00037 <span class="preprocessor">#include &lt;math.h&gt;</span>
00038 <span class="preprocessor">#include "<a class="code" href="idvol_8h.html">idvol.h</a>"</span>
00039 <span class="preprocessor">#include "<a class="code" href="iderr_8h.html">iderr.h</a>"</span>
00040 <span class="preprocessor">#include "<a class="code" href="idprint_8h.html">idprint.h</a>"</span>
00041 <span class="comment">/*************************************************************************</span>
00042 <span class="comment">*</span>
00043 <span class="comment">*  Description : Calcule le maxima d'un plan d'un volume non COMPLEXE</span>
00044 <span class="comment">*</span>
00045 <span class="comment">**************************************************************************/</span>
00046 
00047 
00048 <span class="comment">/*</span>
00049 <span class="comment"> * FUNCTION DESCRIPTION **************************************************</span>
00050 <span class="comment"> * </span>
00051 <span class="comment"> * IdVolMaxPlanX   (fonction)</span>
00052 <span class="comment"> * </span>
00053 <span class="comment"> * RESUME: Calcule le Maximum d'un plan X d'un Vol non COMPLEX</span>
00054 <span class="comment"> * </span>
00055 <span class="comment"> * DESCRIPTION: Calcule le Maximum d'un plan X d'un Vol non COMPLEX</span>
00056 <span class="comment"> * </span>
00057 <span class="comment"> * SYNTAXE:     double max = IdVolMaxX (PPPVOLUME volume,int numPlanX);</span>
00058 <span class="comment"> * </span>
00059 <span class="comment"> * RETOUR:      type  : Double</span>
00060 <span class="comment"> * acces : O</span>
00061 <span class="comment"> * role  : valeur max du plan.</span>
00062 <span class="comment"> * </span>
00063 <span class="comment"> * PARAMETRES:  nom   : vol</span>
00064 <span class="comment"> * type  : PPPVOLUME</span>
00065 <span class="comment"> * acces : I, N</span>
00066 <span class="comment"> * role  : Pointeur vers le Volume source</span>
00067 <span class="comment"> * </span>
00068 <span class="comment"> * nom : x</span>
00069 <span class="comment"> * type: entier</span>
00070 <span class="comment"> * acces: I</span>
00071 <span class="comment"> * role :numero du plan en X dont on calcule le max</span>
00072 <span class="comment"> * </span>
00073 <span class="comment"> * VERSION:     V1.00</span>
00074 <span class="comment"> * </span>
00075 <span class="comment"> * FICHIER:     maxvol.c     </span>
00076 <span class="comment"> * </span>
00077 <span class="comment"> * EXEMPLE:</span>
00078 <span class="comment"> * </span>
00079 <span class="comment"> * ******************************************************** END DESCRIPTION </span>
00080 <span class="comment"> */</span>
00081 
<a name="l00082"></a><a class="code" href="volmax_8c.html#a0">00082</a> <span class="preprocessor">#define CC(t1)  maxi = (double) ((t1)vol)[0][0][X];   \</span>
00083 <span class="preprocessor">          for (i=0;i&lt;Z;i++) for (j=0;j&lt;Y;j++)   \</span>
00084 <span class="preprocessor">     {                  \</span>
00085 <span class="preprocessor">      if (((t1)vol)[i][j][X]&gt;maxi)        \</span>
00086 <span class="preprocessor">      maxi = (double) ((t1)vol)[i][j][X]; \</span>
00087 <span class="preprocessor">     }</span>
00088 <span class="preprocessor"></span>
<a name="l00089"></a><a class="code" href="volmax_8c.html#a8">00089</a> <span class="keywordtype">double</span> <a class="code" href="volmax_8c.html#a8">IdVolMaxPlanX</a>(PPPVOLUME vol, <span class="keywordtype">int</span> X)
00090 {
00091    <span class="keywordtype">double</span> maxi;
00092    <span class="keywordtype">int</span> i, j, Y, Z;
00093 
00094    Z = <a class="code" href="idvol-ido_8h.html#a23">IdVolDimZ</a>(vol);
00095    Y = <a class="code" href="idvol-ido_8h.html#a22">IdVolDimY</a>(vol);
00096    <span class="keywordflow">switch</span> (<a class="code" href="idvol-ido_8h.html#a33">IdVolType</a>(vol)) {
00097    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a0">VOL_CHAR</a>:
00098       <a class="code" href="imamax_8c.html#a1">CC</a>(<a class="code" href="idvol-ido_8h.html#a35">PPPVOLUME_CHAR</a>);
00099       <span class="keywordflow">break</span>;
00100    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a1">VOL_UCHAR</a>:
00101       <a class="code" href="imamax_8c.html#a1">CC</a>(<a class="code" href="idvol-ido_8h.html#a36">PPPVOLUME_UCHAR</a>);
00102       <span class="keywordflow">break</span>;
00103    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a2">VOL_SHORT</a>:
00104       <a class="code" href="imamax_8c.html#a1">CC</a>(<a class="code" href="idvol-ido_8h.html#a41">PPPVOLUME_SHORT</a>);
00105       <span class="keywordflow">break</span>;
00106    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a3">VOL_USHORT</a>:
00107       <a class="code" href="imamax_8c.html#a1">CC</a>(<a class="code" href="idvol-ido_8h.html#a42">PPPVOLUME_USHORT</a>);
00108       <span class="keywordflow">break</span>;
00109    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a4">VOL_LONG</a>:
00110       <a class="code" href="imamax_8c.html#a1">CC</a>(<a class="code" href="idvol-ido_8h.html#a43">PPPVOLUME_LONG</a>);
00111       <span class="keywordflow">break</span>;
00112    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a6">VOL_FLOAT</a>:
00113       <a class="code" href="imamax_8c.html#a1">CC</a>(<a class="code" href="idvol-ido_8h.html#a37">PPPVOLUME_FLOAT</a>);
00114       <span class="keywordflow">break</span>;
00115    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a7">VOL_DOUBLE</a>:
00116       <a class="code" href="imamax_8c.html#a1">CC</a>(<a class="code" href="idvol-ido_8h.html#a38">PPPVOLUME_DOUBLE</a>);
00117       <span class="keywordflow">break</span>;
00118    <span class="keywordflow">default</span>:
00119       <a class="code" href="idprint_8h.html#a1">IdErrPrintf</a>
00120           (<span class="stringliteral">"Type %d non traitable par la fonction IdVolMaxPlanX !\n"</span>,
00121            <a class="code" href="idvol-ido_8h.html#a33">IdVolType</a>(vol));
00122 
00123       <span class="keywordflow">return</span> (0);
00124    } <span class="comment">// switch </span>
00125 
00126    <span class="keywordflow">return</span> (maxi);
00127 }
00128 
00129 <span class="comment">/*</span>
00130 <span class="comment"> * FUNCTION DESCRIPTION **************************************************</span>
00131 <span class="comment"> * </span>
00132 <span class="comment"> * IdVolMaxPlanY   (fonction)</span>
00133 <span class="comment"> * </span>
00134 <span class="comment"> * RESUME: Calcule le Maximum d'un plan Y d'un Volume non COMPLEX</span>
00135 <span class="comment"> * </span>
00136 <span class="comment"> * DESCRIPTION: Calcule le Maximum d'un plan Y d'un Volume non COMPLEX</span>
00137 <span class="comment"> * </span>
00138 <span class="comment"> * SYNTAXE:     double maxi = IdVolMaxY (PPPVOLUME volume,int numPlanY);</span>
00139 <span class="comment"> * </span>
00140 <span class="comment"> * RETOUR:      type  : Double</span>
00141 <span class="comment"> * acces : O</span>
00142 <span class="comment"> * role  : valeur max du plan.</span>
00143 <span class="comment"> * </span>
00144 <span class="comment"> * PARAMETRES:  nom   : vol</span>
00145 <span class="comment"> * type  : PPPVOLUME</span>
00146 <span class="comment"> * acces : I, N</span>
00147 <span class="comment"> * role  : Pointeur vers le Volume source</span>
00148 <span class="comment"> * </span>
00149 <span class="comment"> * nom : y</span>
00150 <span class="comment"> * type: entier</span>
00151 <span class="comment"> * acces: I</span>
00152 <span class="comment"> * role :numero du plan en Y dont on calcule le max</span>
00153 <span class="comment"> * </span>
00154 <span class="comment"> * VERSION:     V1.00</span>
00155 <span class="comment"> * </span>
00156 <span class="comment"> * FICHIER:     maxvol.c         </span>
00157 <span class="comment"> * </span>
00158 <span class="comment"> * EXEMPLE:</span>
00159 <span class="comment"> * </span>
00160 <span class="comment"> * ******************************************************** END DESCRIPTION </span>
00161 <span class="comment"> */</span>
00162 
<a name="l00163"></a><a class="code" href="volmax_8c.html#a1">00163</a> <span class="preprocessor">#define DD(t1) maxi = (double) ((t1)vol)[0][Y][0];  \</span>
00164 <span class="preprocessor">   for (i=0;i&lt;Z;i++) for (k=0;k&lt;X;k++)      \</span>
00165 <span class="preprocessor">     {                                         \</span>
00166 <span class="preprocessor">      if (((t1)vol)[i][Y][k]&gt;maxi)              \</span>
00167 <span class="preprocessor">      maxi = (double) ((t1)vol)[i][Y][k];  \</span>
00168 <span class="preprocessor">     }</span>
00169 <span class="preprocessor"></span>
<a name="l00170"></a><a class="code" href="volmax_8c.html#a9">00170</a> <span class="keywordtype">double</span> <a class="code" href="volmax_8c.html#a9">IdVolMaxPlanY</a>(PPPVOLUME vol, <span class="keywordtype">int</span> Y)
00171 {
00172    <span class="keywordtype">double</span> maxi;
00173    <span class="keywordtype">int</span> i, k, X, Z;
00174 
00175    X = <a class="code" href="idvol-ido_8h.html#a21">IdVolDimX</a>(vol);
00176    Z = <a class="code" href="idvol-ido_8h.html#a23">IdVolDimZ</a>(vol);
00177    <span class="keywordflow">switch</span> (<a class="code" href="idvol-ido_8h.html#a33">IdVolType</a>(vol)) {
00178    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a0">VOL_CHAR</a>:
00179       <a class="code" href="volmax_8c.html#a1">DD</a>(<a class="code" href="idvol-ido_8h.html#a35">PPPVOLUME_CHAR</a>);
00180       <span class="keywordflow">break</span>;
00181    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a1">VOL_UCHAR</a>:
00182       <a class="code" href="volmax_8c.html#a1">DD</a>(<a class="code" href="idvol-ido_8h.html#a36">PPPVOLUME_UCHAR</a>);
00183       <span class="keywordflow">break</span>;
00184    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a2">VOL_SHORT</a>:
00185       <a class="code" href="volmax_8c.html#a1">DD</a>(<a class="code" href="idvol-ido_8h.html#a41">PPPVOLUME_SHORT</a>);
00186       <span class="keywordflow">break</span>;
00187    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a3">VOL_USHORT</a>:
00188       <a class="code" href="volmax_8c.html#a1">DD</a>(<a class="code" href="idvol-ido_8h.html#a42">PPPVOLUME_USHORT</a>);
00189       <span class="keywordflow">break</span>;
00190    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a4">VOL_LONG</a>:
00191       <a class="code" href="volmax_8c.html#a1">DD</a>(<a class="code" href="idvol-ido_8h.html#a43">PPPVOLUME_LONG</a>);
00192       <span class="keywordflow">break</span>;
00193    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a6">VOL_FLOAT</a>:
00194       <a class="code" href="volmax_8c.html#a1">DD</a>(<a class="code" href="idvol-ido_8h.html#a37">PPPVOLUME_FLOAT</a>);
00195       <span class="keywordflow">break</span>;
00196    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a7">VOL_DOUBLE</a>:
00197       <a class="code" href="volmax_8c.html#a1">DD</a>(<a class="code" href="idvol-ido_8h.html#a38">PPPVOLUME_DOUBLE</a>);
00198       <span class="keywordflow">break</span>;
00199    <span class="keywordflow">default</span>:
00200       <a class="code" href="idprint_8h.html#a1">IdErrPrintf</a>
00201           (<span class="stringliteral">"Type %d non traitable par la fonction IdVolMaxPlanY !\n"</span>,
00202            <a class="code" href="idvol-ido_8h.html#a33">IdVolType</a>(vol));
00203       <a class="code" href="iderr_8h.html#a65">IdErrno</a> = <a class="code" href="iderr_8h.html#a15">IDERR_WRONG_LIBTYPE</a>;
00204       <span class="keywordflow">return</span> (0);
00205    } <span class="comment">// switch</span>
00206 
00207    <span class="keywordflow">return</span> (maxi);
00208 }
00209 
00210 <span class="comment">/*</span>
00211 <span class="comment"> * FUNCTION DESCRIPTION **************************************************</span>
00212 <span class="comment"> * </span>
00213 <span class="comment"> * IdVolMaxPlanZ   (fonction)</span>
00214 <span class="comment"> * </span>
00215 <span class="comment"> * RESUME: Calcule le Maximum d'un plan Z d'un Volume non COMPLEX</span>
00216 <span class="comment"> * </span>
00217 <span class="comment"> * DESCRIPTION: Calcule le Maximum d'un plan Z d'un Volume non COMPLEX</span>
00218 <span class="comment"> * </span>
00219 <span class="comment"> * SYNTAXE:     double max = IdVolMaxZ (PPPVOLUME volume,int numPlanZ);</span>
00220 <span class="comment"> * </span>
00221 <span class="comment"> * RETOUR:      type  : Double</span>
00222 <span class="comment"> * acces : O</span>
00223 <span class="comment"> * role  : valeur max du plan.</span>
00224 <span class="comment"> * </span>
00225 <span class="comment"> * PARAMETRES:  nom   : vol</span>
00226 <span class="comment"> * type  : PPPVOLUME</span>
00227 <span class="comment"> * acces : I, N</span>
00228 <span class="comment"> * role  : Pointeur vers le Volume source</span>
00229 <span class="comment"> * </span>
00230 <span class="comment"> * nom : y</span>
00231 <span class="comment"> * type: entier</span>
00232 <span class="comment"> * acces: I</span>
00233 <span class="comment"> * role :numero du plan en Z dont on calcule le max</span>
00234 <span class="comment"> * </span>
00235 <span class="comment"> * VERSION:     V1.00</span>
00236 <span class="comment"> * </span>
00237 <span class="comment"> * FICHIER:     maxvol.c    </span>
00238 <span class="comment"> * </span>
00239 <span class="comment"> * EXEMPLE:</span>
00240 <span class="comment"> * </span>
00241 <span class="comment"> * ******************************************************** END DESCRIPTION </span>
00242 <span class="comment"> */</span>
00243 
<a name="l00244"></a><a class="code" href="volmax_8c.html#a2">00244</a> <span class="preprocessor">#define EE(t1)    maxi = (double) ((t1)vol)[Z][0][0];       \</span>
00245 <span class="preprocessor">      for (j=0;j&lt;Y;j++) for (k=0;k&lt;X;k++)       \</span>
00246 <span class="preprocessor">     {                                                     \</span>
00247 <span class="preprocessor">      if (((t1)vol)[Z][j][k]&gt;maxi)                 \</span>
00248 <span class="preprocessor">      maxi = (double) ((t1)vol)[Z][j][k];       \</span>
00249 <span class="preprocessor">     }</span>
00250 <span class="preprocessor"></span>
<a name="l00251"></a><a class="code" href="volmax_8c.html#a10">00251</a> <span class="keywordtype">double</span> <a class="code" href="volmax_8c.html#a10">IdVolMaxPlanZ</a>(PPPVOLUME vol, <span class="keywordtype">int</span> Z)
00252 {
00253    <span class="keywordtype">double</span> maxi;
00254    <span class="keywordtype">int</span> j, k, X, Y;
00255 
00256    X = <a class="code" href="idvol-ido_8h.html#a21">IdVolDimX</a>(vol);
00257    Y = <a class="code" href="idvol-ido_8h.html#a22">IdVolDimY</a>(vol);
00258    <span class="keywordflow">switch</span> (<a class="code" href="idvol-ido_8h.html#a33">IdVolType</a>(vol)) {
00259    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a0">VOL_CHAR</a>:
00260       <a class="code" href="volmax_8c.html#a2">EE</a>(<a class="code" href="idvol-ido_8h.html#a35">PPPVOLUME_CHAR</a>);
00261       <span class="keywordflow">break</span>;
00262    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a1">VOL_UCHAR</a>:
00263       <a class="code" href="volmax_8c.html#a2">EE</a>(<a class="code" href="idvol-ido_8h.html#a36">PPPVOLUME_UCHAR</a>);
00264       <span class="keywordflow">break</span>;
00265    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a2">VOL_SHORT</a>:
00266       <a class="code" href="volmax_8c.html#a2">EE</a>(<a class="code" href="idvol-ido_8h.html#a41">PPPVOLUME_SHORT</a>);
00267       <span class="keywordflow">break</span>;
00268    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a3">VOL_USHORT</a>:
00269       <a class="code" href="volmax_8c.html#a2">EE</a>(<a class="code" href="idvol-ido_8h.html#a42">PPPVOLUME_USHORT</a>);
00270       <span class="keywordflow">break</span>;
00271    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a4">VOL_LONG</a>:
00272       <a class="code" href="volmax_8c.html#a2">EE</a>(<a class="code" href="idvol-ido_8h.html#a43">PPPVOLUME_LONG</a>);
00273       <span class="keywordflow">break</span>;
00274    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a6">VOL_FLOAT</a>:
00275       <a class="code" href="volmax_8c.html#a2">EE</a>(<a class="code" href="idvol-ido_8h.html#a37">PPPVOLUME_FLOAT</a>);
00276       <span class="keywordflow">break</span>;
00277    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a7">VOL_DOUBLE</a>:
00278       <a class="code" href="volmax_8c.html#a2">EE</a>(<a class="code" href="idvol-ido_8h.html#a38">PPPVOLUME_DOUBLE</a>);
00279       <span class="keywordflow">break</span>;
00280    <span class="keywordflow">default</span>:
00281       <a class="code" href="idprint_8h.html#a1">IdErrPrintf</a>
00282           (<span class="stringliteral">"Type %d non traitable par la fonction IdVolMaxPlanZ !\n"</span>,
00283            <a class="code" href="idvol-ido_8h.html#a33">IdVolType</a>(vol));
00284       <a class="code" href="iderr_8h.html#a65">IdErrno</a> = <a class="code" href="iderr_8h.html#a15">IDERR_WRONG_LIBTYPE</a>;
00285       <span class="keywordflow">return</span> (0);
00286    }        <span class="comment">/*</span>
00287 <span class="comment">             * Fin du switch </span>
00288 <span class="comment">             */</span>
00289 
00290    <span class="keywordflow">return</span> (maxi);
00291 }
00292 
00293 
00294 
00295 <span class="comment">/*</span>
00296 <span class="comment"> * FUNCTION DESCRIPTION **************************************************</span>
00297 <span class="comment"> * </span>
00298 <span class="comment"> * IdVolMaxima   (fonction)</span>
00299 <span class="comment"> * </span>
00300 <span class="comment"> * RESUME: Calcule le Maximum d'un volume non COMPLEX</span>
00301 <span class="comment"> * </span>
00302 <span class="comment"> * DESCRIPTION: Calcule le Maximum d'un volume non COMPLEX</span>
00303 <span class="comment"> * </span>
00304 <span class="comment"> * SYNTAXE:     double maxi = IdVolMaxima (PPPVOLUME volume);</span>
00305 <span class="comment"> * </span>
00306 <span class="comment"> * RETOUR:      type  : Double</span>
00307 <span class="comment"> * acces : O</span>
00308 <span class="comment"> * role  : valeur max du volume.</span>
00309 <span class="comment"> * </span>
00310 <span class="comment"> * PARAMETRES:  nom   : vol</span>
00311 <span class="comment"> * type  : PPPVOLUME</span>
00312 <span class="comment"> * acces : I, N</span>
00313 <span class="comment"> * role  : Pointeur vers le volume source</span>
00314 <span class="comment"> * </span>
00315 <span class="comment"> * VERSION:     V1.00</span>
00316 <span class="comment"> * </span>
00317 <span class="comment"> * FICHIER:     maxvol.c     </span>
00318 <span class="comment"> * </span>
00319 <span class="comment"> * EXEMPLE:</span>
00320 <span class="comment"> * </span>
00321 <span class="comment"> * ******************************************************** END DESCRIPTION </span>
00322 <span class="comment"> */</span>
00323 
<a name="l00324"></a><a class="code" href="volmax_8c.html#a3">00324</a> <span class="preprocessor">#define FF(t1)    maxi = (double) ((t1)vol)[0][0][0];    \</span>
00325 <span class="preprocessor">  for (t=0;t&lt;Z;t++) for (i=0;i&lt;Y;i++) for (j=0;j&lt;X;j++)  \</span>
00326 <span class="preprocessor">     {                                                     \</span>
00327 <span class="preprocessor">      if (((t1)vol)[t][i][j]&gt;maxi)                 \</span>
00328 <span class="preprocessor">      maxi = (double) ((t1)vol)[t][i][j];       \</span>
00329 <span class="preprocessor">     }</span>
00330 <span class="preprocessor"></span>
00331 
<a name="l00332"></a><a class="code" href="volmax_8c.html#a11">00332</a> <span class="keywordtype">double</span> <a class="code" href="volmax_8c.html#a11">IdVolMaxima</a>(PPPVOLUME vol)
00333 {
00334    <span class="keywordtype">double</span> maxi;
00335    <span class="keywordtype">int</span> i, j, t, X, Y, Z;
00336 
00337    X = <a class="code" href="idvol-ido_8h.html#a21">IdVolDimX</a>(vol);
00338    Y = <a class="code" href="idvol-ido_8h.html#a22">IdVolDimY</a>(vol);
00339    Z = <a class="code" href="idvol-ido_8h.html#a23">IdVolDimZ</a>(vol);
00340    <span class="keywordflow">switch</span> (<a class="code" href="idvol-ido_8h.html#a33">IdVolType</a>(vol)) {
00341    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a0">VOL_CHAR</a>:
00342       <a class="code" href="volmax_8c.html#a3">FF</a>(<a class="code" href="idvol-ido_8h.html#a35">PPPVOLUME_CHAR</a>);
00343       <span class="keywordflow">break</span>;
00344    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a1">VOL_UCHAR</a>:
00345       <a class="code" href="volmax_8c.html#a3">FF</a>(<a class="code" href="idvol-ido_8h.html#a36">PPPVOLUME_UCHAR</a>);
00346       <span class="keywordflow">break</span>;
00347    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a2">VOL_SHORT</a>:
00348       <a class="code" href="volmax_8c.html#a3">FF</a>(<a class="code" href="idvol-ido_8h.html#a41">PPPVOLUME_SHORT</a>);
00349       <span class="keywordflow">break</span>;
00350    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a3">VOL_USHORT</a>:
00351       <a class="code" href="volmax_8c.html#a3">FF</a>(<a class="code" href="idvol-ido_8h.html#a42">PPPVOLUME_USHORT</a>);
00352       <span class="keywordflow">break</span>;
00353    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a4">VOL_LONG</a>:
00354       <a class="code" href="volmax_8c.html#a3">FF</a>(<a class="code" href="idvol-ido_8h.html#a43">PPPVOLUME_LONG</a>);
00355       <span class="keywordflow">break</span>;
00356    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a6">VOL_FLOAT</a>:
00357       <a class="code" href="volmax_8c.html#a3">FF</a>(<a class="code" href="idvol-ido_8h.html#a37">PPPVOLUME_FLOAT</a>);
00358       <span class="keywordflow">break</span>;
00359    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a7">VOL_DOUBLE</a>:
00360       <a class="code" href="volmax_8c.html#a3">FF</a>(<a class="code" href="idvol-ido_8h.html#a38">PPPVOLUME_DOUBLE</a>);
00361       <span class="keywordflow">break</span>;
00362    <span class="keywordflow">default</span>:
00363       <a class="code" href="idprint_8h.html#a1">IdErrPrintf</a>
00364           (<span class="stringliteral">"Type %d non traitable par la fonction IdVolMaxima !\n"</span>,
00365            <a class="code" href="idvol-ido_8h.html#a33">IdVolType</a>(vol));
00366       <a class="code" href="iderr_8h.html#a65">IdErrno</a> = <a class="code" href="iderr_8h.html#a15">IDERR_WRONG_LIBTYPE</a>;
00367       <span class="keywordflow">return</span> (0);
00368    } <span class="comment">// switch</span>
00369 
00370    <span class="keywordflow">return</span> (maxi);
00371 }
00372 
00373 <span class="comment">/*</span>
00374 <span class="comment"> * FUNCTION DESCRIPTION **************************************************</span>
00375 <span class="comment"> * </span>
00376 <span class="comment"> * IdVolMoyenne   (fonction)</span>
00377 <span class="comment"> * </span>
00378 <span class="comment"> * RESUME: Calcule la Moyenne d'un volume non COMPLEX</span>
00379 <span class="comment"> * </span>
00380 <span class="comment"> * DESCRIPTION: Calcule la Moyenne d'un volume non COMPLEX</span>
00381 <span class="comment"> * </span>
00382 <span class="comment"> * SYNTAXE:     double moy = IdVolMoyenne(PPPVOLUME volume);</span>
00383 <span class="comment"> * </span>
00384 <span class="comment"> * RETOUR:      type  : Double</span>
00385 <span class="comment"> * acces : O</span>
00386 <span class="comment"> * role  : valeur moyenne du volume.</span>
00387 <span class="comment"> * </span>
00388 <span class="comment"> * PARAMETRES:  nom   : vol</span>
00389 <span class="comment"> * type  : PPPVOLUME</span>
00390 <span class="comment"> * acces : I, N</span>
00391 <span class="comment"> * role  : Pointeur vers le volume source</span>
00392 <span class="comment"> * </span>
00393 <span class="comment"> * VERSION:     V1.00</span>
00394 <span class="comment"> * </span>
00395 <span class="comment"> * FICHIER:     maxvol.c     </span>
00396 <span class="comment"> * </span>
00397 <span class="comment"> * EXEMPLE:</span>
00398 <span class="comment"> * </span>
00399 <span class="comment"> * ******************************************************** END DESCRIPTION </span>
00400 <span class="comment"> */</span>
00401 
<a name="l00402"></a><a class="code" href="volmax_8c.html#a4">00402</a> <span class="preprocessor">#define HH(t1)  for (t=0;t&lt;Z;t++) for (i=0;i&lt;Y;i++) for (j=0;j&lt;X;j++) \</span>
00403 <span class="preprocessor">     {                                                     \</span>
00404 <span class="preprocessor">      moy += (double) ((t1)vol)[t][i][j];       \</span>
00405 <span class="preprocessor">     }</span>
00406 <span class="preprocessor"></span>
00407 
<a name="l00408"></a><a class="code" href="volmax_8c.html#a12">00408</a> <span class="keywordtype">double</span> <a class="code" href="volmax_8c.html#a12">IdVolMoyenne</a>(PPPVOLUME vol)
00409 {
00410    <span class="keywordtype">double</span> moy;
00411    <span class="keywordtype">int</span> i, j, t, X, Y, Z;
00412 
00413    X = <a class="code" href="idvol-ido_8h.html#a21">IdVolDimX</a>(vol);
00414    Y = <a class="code" href="idvol-ido_8h.html#a22">IdVolDimY</a>(vol);
00415    Z = <a class="code" href="idvol-ido_8h.html#a23">IdVolDimZ</a>(vol);
00416 
00417    moy = 0.0;
00418 
00419    <span class="keywordflow">switch</span> (<a class="code" href="idvol-ido_8h.html#a33">IdVolType</a>(vol)) {
00420    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a0">VOL_CHAR</a>:
00421       <a class="code" href="volmax_8c.html#a4">HH</a>(<a class="code" href="idvol-ido_8h.html#a35">PPPVOLUME_CHAR</a>);
00422       <span class="keywordflow">break</span>;
00423    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a1">VOL_UCHAR</a>:
00424       <a class="code" href="volmax_8c.html#a4">HH</a>(<a class="code" href="idvol-ido_8h.html#a36">PPPVOLUME_UCHAR</a>);
00425       <span class="keywordflow">break</span>;
00426    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a2">VOL_SHORT</a>:
00427       <a class="code" href="volmax_8c.html#a4">HH</a>(<a class="code" href="idvol-ido_8h.html#a41">PPPVOLUME_SHORT</a>);
00428       <span class="keywordflow">break</span>;
00429    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a3">VOL_USHORT</a>:
00430       <a class="code" href="volmax_8c.html#a4">HH</a>(<a class="code" href="idvol-ido_8h.html#a42">PPPVOLUME_USHORT</a>);
00431       <span class="keywordflow">break</span>;
00432    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a4">VOL_LONG</a>:
00433       <a class="code" href="volmax_8c.html#a4">HH</a>(<a class="code" href="idvol-ido_8h.html#a43">PPPVOLUME_LONG</a>);
00434       <span class="keywordflow">break</span>;
00435    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a6">VOL_FLOAT</a>:
00436       <a class="code" href="volmax_8c.html#a4">HH</a>(<a class="code" href="idvol-ido_8h.html#a37">PPPVOLUME_FLOAT</a>);
00437       <span class="keywordflow">break</span>;
00438    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a7">VOL_DOUBLE</a>:
00439       <a class="code" href="volmax_8c.html#a4">HH</a>(<a class="code" href="idvol-ido_8h.html#a38">PPPVOLUME_DOUBLE</a>);
00440       <span class="keywordflow">break</span>;
00441    <span class="keywordflow">default</span>:
00442       <a class="code" href="idprint_8h.html#a1">IdErrPrintf</a>
00443           (<span class="stringliteral">"Type %d non traitable par la fonction IdVolMoyenne !\n"</span>,
00444            <a class="code" href="idvol-ido_8h.html#a33">IdVolType</a>(vol));
00445       <a class="code" href="iderr_8h.html#a65">IdErrno</a> = <a class="code" href="iderr_8h.html#a15">IDERR_WRONG_LIBTYPE</a>;
00446       <span class="keywordflow">return</span> (0);
00447    } <span class="comment">// switch</span>
00448 
00449    moy = moy / ((<span class="keywordtype">double</span>) X * (<span class="keywordtype">double</span>) Y * (<span class="keywordtype">double</span>) Z);
00450 
00451    <span class="keywordflow">return</span> (moy);
00452 }
00453 
00454 <span class="comment">/*</span>
00455 <span class="comment"> * FUNCTION DESCRIPTION **************************************************</span>
00456 <span class="comment"> * </span>
00457 <span class="comment"> * IdVolVariance   (fonction)</span>
00458 <span class="comment"> * </span>
00459 <span class="comment"> * RESUME: Calcule la Variance d'un volume non COMPLEX</span>
00460 <span class="comment"> * </span>
00461 <span class="comment"> * DESCRIPTION: Calcule la Variance d'un volume non COMPLEXe</span>
00462 <span class="comment"> * </span>
00463 <span class="comment"> * SYNTAXE:     double var = IdVolVariance (PPPVOLUME volume);</span>
00464 <span class="comment"> * </span>
00465 <span class="comment"> * RETOUR:      type  : Double</span>
00466 <span class="comment"> * acces : O</span>
00467 <span class="comment"> * role  : variance du volume.</span>
00468 <span class="comment"> * </span>
00469 <span class="comment"> * PARAMETRES:  nom   : vol</span>
00470 <span class="comment"> * type  : PPPVOLUME</span>
00471 <span class="comment"> * acces : I, N</span>
00472 <span class="comment"> * role  : Pointeur vers le volume source</span>
00473 <span class="comment"> * </span>
00474 <span class="comment"> * VERSION:     V1.00</span>
00475 <span class="comment"> * </span>
00476 <span class="comment"> * FICHIER:     maxvol.c</span>
00477 <span class="comment"> * </span>
00478 <span class="comment"> * EXEMPLE:</span>
00479 <span class="comment"> * </span>
00480 <span class="comment"> * ******************************************************** END DESCRIPTION </span>
00481 <span class="comment"> */</span>
00482 
<a name="l00483"></a><a class="code" href="volmax_8c.html#a5">00483</a> <span class="preprocessor">#define II(t1)                      \</span>
00484 <span class="preprocessor">      for (t=0;t&lt;Z;t++) for (i=0;i&lt;Y;i++) for (j=0;j&lt;X;j++) \</span>
00485 <span class="preprocessor">         var += pow((moy - ((t1)vol)[t][i][j]),2.0);</span>
00486 <span class="preprocessor"></span>
00487 
<a name="l00488"></a><a class="code" href="volmax_8c.html#a13">00488</a> <span class="keywordtype">double</span> <a class="code" href="volmax_8c.html#a13">IdVolVariance</a>(PPPVOLUME vol)
00489 {
00490    <span class="keywordtype">double</span> moy, var;
00491    <span class="keywordtype">int</span> i, j, t, X, Y, Z;
00492 
00493    X = <a class="code" href="idvol-ido_8h.html#a21">IdVolDimX</a>(vol);
00494    Y = <a class="code" href="idvol-ido_8h.html#a22">IdVolDimY</a>(vol);
00495    Z = <a class="code" href="idvol-ido_8h.html#a23">IdVolDimZ</a>(vol);
00496 
00497    moy = <a class="code" href="volmax_8c.html#a12">IdVolMoyenne</a>(vol);
00498    var = 0.0;
00499 
00500    <span class="keywordflow">switch</span> (<a class="code" href="idvol-ido_8h.html#a33">IdVolType</a>(vol)) {
00501    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a0">VOL_CHAR</a>:
00502       <a class="code" href="volmax_8c.html#a5">II</a>(<a class="code" href="idvol-ido_8h.html#a35">PPPVOLUME_CHAR</a>);
00503       <span class="keywordflow">break</span>;
00504    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a1">VOL_UCHAR</a>:
00505       <a class="code" href="volmax_8c.html#a5">II</a>(<a class="code" href="idvol-ido_8h.html#a36">PPPVOLUME_UCHAR</a>);
00506       <span class="keywordflow">break</span>;
00507    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a2">VOL_SHORT</a>:
00508       <a class="code" href="volmax_8c.html#a5">II</a>(<a class="code" href="idvol-ido_8h.html#a41">PPPVOLUME_SHORT</a>);
00509       <span class="keywordflow">break</span>;
00510    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a3">VOL_USHORT</a>:
00511       <a class="code" href="volmax_8c.html#a5">II</a>(<a class="code" href="idvol-ido_8h.html#a42">PPPVOLUME_USHORT</a>);
00512       <span class="keywordflow">break</span>;
00513    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a4">VOL_LONG</a>:
00514       <a class="code" href="volmax_8c.html#a5">II</a>(<a class="code" href="idvol-ido_8h.html#a43">PPPVOLUME_LONG</a>);
00515       <span class="keywordflow">break</span>;
00516    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a6">VOL_FLOAT</a>:
00517       <a class="code" href="volmax_8c.html#a5">II</a>(<a class="code" href="idvol-ido_8h.html#a37">PPPVOLUME_FLOAT</a>);
00518       <span class="keywordflow">break</span>;
00519    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a7">VOL_DOUBLE</a>:
00520       <a class="code" href="volmax_8c.html#a5">II</a>(<a class="code" href="idvol-ido_8h.html#a38">PPPVOLUME_DOUBLE</a>);
00521       <span class="keywordflow">break</span>;
00522    <span class="keywordflow">default</span>:
00523       <a class="code" href="idprint_8h.html#a1">IdErrPrintf</a>
00524           (<span class="stringliteral">"Type %d non traitable par la fonction IdVolVariance !\n"</span>,
00525            <a class="code" href="idvol-ido_8h.html#a33">IdVolType</a>(vol));
00526       <a class="code" href="iderr_8h.html#a65">IdErrno</a> = <a class="code" href="iderr_8h.html#a15">IDERR_WRONG_LIBTYPE</a>;
00527       <span class="keywordflow">return</span> (0);
00528    } <span class="comment">// switch</span>
00529 
00530    var = var / ((<span class="keywordtype">double</span>) X * (<span class="keywordtype">double</span>) Y * (<span class="keywordtype">double</span>) Z);
00531 
00532    <span class="keywordflow">return</span> (var);
00533 }
00534 
00535 
00536 <span class="comment">/*</span>
00537 <span class="comment"> * FUNCTION DESCRIPTION **************************************************</span>
00538 <span class="comment"> * </span>
00539 <span class="comment"> * IdVolMoyVar   (fonction)</span>
00540 <span class="comment"> * </span>
00541 <span class="comment"> * RESUME: Renvoie la Moyenne et la Variance d'un volume non COMPLEX</span>
00542 <span class="comment"> * </span>
00543 <span class="comment"> * DESCRIPTION: Renvoie la Moyenne et la Variance d'un volume non COMPLEX</span>
00544 <span class="comment"> * </span>
00545 <span class="comment"> * SYNTAXE:     int retCode = IdVolMoyVar (PPPVOLUME volume, double * Moy, double * Var);</span>
00546 <span class="comment"> * </span>
00547 <span class="comment"> * RETOUR:                       type  : int</span>
00548 <span class="comment"> * acces : O</span>
00549 <span class="comment"> * role  : 0: echec 1 : OK</span>
00550 <span class="comment"> * </span>
00551 <span class="comment"> * PARAMETRES:           nom   : vol</span>
00552 <span class="comment"> * type  : PPPVOLUME</span>
00553 <span class="comment"> * acces : I, N</span>
00554 <span class="comment"> * role  : Pointeur vers le volume source</span>
00555 <span class="comment"> * </span>
00556 <span class="comment"> * nom   : moy</span>
00557 <span class="comment"> * type  : double *</span>
00558 <span class="comment"> * acces : I, N</span>
00559 <span class="comment"> * role  : Pointeur vers la Moy</span>
00560 <span class="comment"> * </span>
00561 <span class="comment"> * nom   : var</span>
00562 <span class="comment"> * type  : double *</span>
00563 <span class="comment"> * acces : I, N</span>
00564 <span class="comment"> * role  : Pointeur vers la Var</span>
00565 <span class="comment"> * </span>
00566 <span class="comment"> * VERSION:     V1.00</span>
00567 <span class="comment"> * </span>
00568 <span class="comment"> * FICHIER:     maxvol.c</span>
00569 <span class="comment"> * </span>
00570 <span class="comment"> * EXEMPLE:</span>
00571 <span class="comment"> * </span>
00572 <span class="comment"> * ******************************************************** END DESCRIPTION </span>
00573 <span class="comment"> */</span>
00574 
<a name="l00575"></a><a class="code" href="volmax_8c.html#a6">00575</a> <span class="preprocessor">#define JJ(t1)  for (t=0;t&lt;Z;t++) for (i=0;i&lt;Y;i++) for (j=0;j&lt;X;j++)   \</span>
00576 <span class="preprocessor">         *moy += (double) ((t1)vol)[t][i][j];         \</span>
00577 <span class="preprocessor">      *moy = *moy /((double)X*(double)Y*(double)Z);      \</span>
00578 <span class="preprocessor">      for (t=0;t&lt;Z;t++) for (i=0;i&lt;Y;i++) for (j=0;j&lt;X;j++) \</span>
00579 <span class="preprocessor">         *var += pow((*moy - ((t1)vol)[t][i][j]),2.0);</span>
00580 <span class="preprocessor"></span>
00581 
<a name="l00582"></a><a class="code" href="volmax_8c.html#a14">00582</a> <span class="keywordtype">int</span> <a class="code" href="volmax_8c.html#a14">IdVolMoyVar</a>(PPPVOLUME vol, <span class="keywordtype">double</span> *moy, <span class="keywordtype">double</span> *var)
00583 {
00584    <span class="keywordtype">int</span> i, j, t, X, Y, Z;
00585 
00586    X = <a class="code" href="idvol-ido_8h.html#a21">IdVolDimX</a>(vol);
00587    Y = <a class="code" href="idvol-ido_8h.html#a22">IdVolDimY</a>(vol);
00588    Z = <a class="code" href="idvol-ido_8h.html#a23">IdVolDimZ</a>(vol);
00589 
00590    *moy = 0.0;
00591    *var = 0.0;
00592 
00593    <span class="keywordflow">switch</span> (<a class="code" href="idvol-ido_8h.html#a33">IdVolType</a>(vol)) {
00594    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a0">VOL_CHAR</a>:
00595       <a class="code" href="volmax_8c.html#a6">JJ</a>(<a class="code" href="idvol-ido_8h.html#a35">PPPVOLUME_CHAR</a>);
00596       <span class="keywordflow">break</span>;
00597    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a1">VOL_UCHAR</a>:
00598       <a class="code" href="volmax_8c.html#a6">JJ</a>(<a class="code" href="idvol-ido_8h.html#a36">PPPVOLUME_UCHAR</a>);
00599       <span class="keywordflow">break</span>;
00600    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a2">VOL_SHORT</a>:
00601       <a class="code" href="volmax_8c.html#a6">JJ</a>(<a class="code" href="idvol-ido_8h.html#a41">PPPVOLUME_SHORT</a>);
00602       <span class="keywordflow">break</span>;
00603    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a3">VOL_USHORT</a>:
00604       <a class="code" href="volmax_8c.html#a6">JJ</a>(<a class="code" href="idvol-ido_8h.html#a42">PPPVOLUME_USHORT</a>);
00605       <span class="keywordflow">break</span>;
00606    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a4">VOL_LONG</a>:
00607       <a class="code" href="volmax_8c.html#a6">JJ</a>(<a class="code" href="idvol-ido_8h.html#a43">PPPVOLUME_LONG</a>);
00608       <span class="keywordflow">break</span>;
00609    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a6">VOL_FLOAT</a>:
00610       <a class="code" href="volmax_8c.html#a6">JJ</a>(<a class="code" href="idvol-ido_8h.html#a37">PPPVOLUME_FLOAT</a>);
00611       <span class="keywordflow">break</span>;
00612    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a7">VOL_DOUBLE</a>:
00613       <a class="code" href="volmax_8c.html#a6">JJ</a>(<a class="code" href="idvol-ido_8h.html#a38">PPPVOLUME_DOUBLE</a>);
00614       <span class="keywordflow">break</span>;
00615    <span class="keywordflow">default</span>:
00616       <a class="code" href="idprint_8h.html#a1">IdErrPrintf</a>
00617           (<span class="stringliteral">"Type %d non traitable par la fonction IdVolMoyVar !\n"</span>,
00618            <a class="code" href="idvol-ido_8h.html#a33">IdVolType</a>(vol));
00619       <a class="code" href="iderr_8h.html#a65">IdErrno</a> = <a class="code" href="iderr_8h.html#a15">IDERR_WRONG_LIBTYPE</a>;
00620       <span class="keywordflow">return</span> (0);
00621    } <span class="comment">// switch</span>
00622 
00623    *var = *var / ((<span class="keywordtype">double</span>) X * (<span class="keywordtype">double</span>) Y * (<span class="keywordtype">double</span>) Z);
00624 
00625    <span class="keywordflow">return</span> (1);
00626 }
00627 
<a name="l00636"></a><a class="code" href="volmax_8c.html#a15">00636</a> <span class="keywordtype">int</span> <a class="code" href="volmax_8c.html#a15">IdVolMinMax</a>(PPPVOLUME vol, <span class="keywordtype">double</span> *mini, <span class="keywordtype">double</span> *maxi)
00637 {
00638 <span class="preprocessor">   #define GG(t1)    *mini = *maxi = (double) ((t1)vol)[0][0][0];  \</span>
00639 <span class="preprocessor">    for (t=0;t&lt;Z;t++) for (i=0;i&lt;Y;i++) for (j=0;j&lt;X;j++)        \</span>
00640 <span class="preprocessor">        {                                                   \</span>
00641 <span class="preprocessor">         if (((t1)vol)[t][i][j]&gt;*maxi)                      \</span>
00642 <span class="preprocessor">         *maxi = (double) ((t1)vol)[t][i][j];          \</span>
00643 <span class="preprocessor">         if (((t1)vol)[t][i][j]&lt;*mini)                      \</span>
00644 <span class="preprocessor">         *mini = (double) ((t1)vol)[t][i][j];          \</span>
00645 <span class="preprocessor">        }</span>
00646 <span class="preprocessor"></span>
00647    <span class="keywordtype">int</span> i, j, t, X, Y, Z;
00648 
00649    X = <a class="code" href="idvol-ido_8h.html#a21">IdVolDimX</a>(vol);
00650    Y = <a class="code" href="idvol-ido_8h.html#a22">IdVolDimY</a>(vol);
00651    Z = <a class="code" href="idvol-ido_8h.html#a23">IdVolDimZ</a>(vol);
00652 
00653    <span class="keywordflow">switch</span> (<a class="code" href="idvol-ido_8h.html#a33">IdVolType</a>(vol)) {
00654    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a0">VOL_CHAR</a>:
00655       <a class="code" href="volmax_8c.html#a7">GG</a>(<a class="code" href="idvol-ido_8h.html#a35">PPPVOLUME_CHAR</a>);
00656       <span class="keywordflow">break</span>;
00657    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a1">VOL_UCHAR</a>:
00658       <a class="code" href="volmax_8c.html#a7">GG</a>(<a class="code" href="idvol-ido_8h.html#a36">PPPVOLUME_UCHAR</a>);
00659       <span class="keywordflow">break</span>;
00660    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a2">VOL_SHORT</a>:
00661       <a class="code" href="volmax_8c.html#a7">GG</a>(<a class="code" href="idvol-ido_8h.html#a41">PPPVOLUME_SHORT</a>);
00662       <span class="keywordflow">break</span>;
00663    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a3">VOL_USHORT</a>:
00664       <a class="code" href="volmax_8c.html#a7">GG</a>(<a class="code" href="idvol-ido_8h.html#a42">PPPVOLUME_USHORT</a>);
00665       <span class="keywordflow">break</span>;
00666    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a4">VOL_LONG</a>:
00667       <a class="code" href="volmax_8c.html#a7">GG</a>(<a class="code" href="idvol-ido_8h.html#a43">PPPVOLUME_LONG</a>);
00668       <span class="keywordflow">break</span>;
00669    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a6">VOL_FLOAT</a>:
00670       <a class="code" href="volmax_8c.html#a7">GG</a>(<a class="code" href="idvol-ido_8h.html#a37">PPPVOLUME_FLOAT</a>);
00671       <span class="keywordflow">break</span>;
00672    <span class="keywordflow">case</span> <a class="code" href="idvol-ido_8h.html#a7">VOL_DOUBLE</a>:
00673       <a class="code" href="volmax_8c.html#a7">GG</a>(<a class="code" href="idvol-ido_8h.html#a38">PPPVOLUME_DOUBLE</a>);
00674       <span class="keywordflow">break</span>;
00675    <span class="keywordflow">default</span>:
00676       <a class="code" href="idprint_8h.html#a1">IdErrPrintf</a>
00677           (<span class="stringliteral">"Type %d non traitable par la fonction IdVolMinMax !\n"</span>,
00678            <a class="code" href="idvol-ido_8h.html#a33">IdVolType</a>(vol));
00679       <a class="code" href="iderr_8h.html#a65">IdErrno</a> = <a class="code" href="iderr_8h.html#a15">IDERR_WRONG_LIBTYPE</a>;
00680       <span class="keywordflow">return</span> (0);
00681    } <span class="comment">// switch</span>
00682 
00683    <span class="keywordflow">return</span> (1);
00684 }
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Wed Dec 20 14:28:15 2006 for SIMRI3D by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
