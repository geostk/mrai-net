<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SIMRI3D: iddcm.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a></div>
<h1>iddcm.h</h1><a href="iddcm_8h.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/*************************************************************************</span>
00002 <span class="comment">* $Id: iddcm.h,v 1.1 2005/09/09 08:22:28 bellet Exp $</span>
00003 <span class="comment">**************************************************************************</span>
00004 <span class="comment"> This software is governed by the CeCILL  license under French law and</span>
00005 <span class="comment">  abiding by the rules of distribution of free software.  You can  use, </span>
00006 <span class="comment">  modify and/ or redistribute the software under the terms of the CeCILL</span>
00007 <span class="comment">  license as circulated by CEA, CNRS and INRIA at the following URL</span>
00008 <span class="comment">  "http://www.cecill.info". </span>
00009 <span class="comment">  </span>
00010 <span class="comment">  As a counterpart to the access to the source code and  rights to copy,</span>
00011 <span class="comment">  modify and redistribute granted by the license, users are provided only</span>
00012 <span class="comment">  with a limited warranty  and the software's author,  the holder of the</span>
00013 <span class="comment">  economic rights,  and the successive licensors  have only  limited</span>
00014 <span class="comment">  liability. </span>
00015 <span class="comment">  </span>
00016 <span class="comment">  In this respect, the user's attention is drawn to the risks associated</span>
00017 <span class="comment">  with loading,  using,  modifying and/or developing or reproducing the</span>
00018 <span class="comment">  software by the user in light of its specific status of free software,</span>
00019 <span class="comment">  that may mean  that it is complicated to manipulate,  and  that  also</span>
00020 <span class="comment">  therefore means  that it is reserved for developers  and  experienced</span>
00021 <span class="comment">  professionals having in-depth computer knowledge. Users are therefore</span>
00022 <span class="comment">  encouraged to load and test the software's suitability as regards their</span>
00023 <span class="comment">  requirements in conditions enabling the security of their systems and/or </span>
00024 <span class="comment">  data to be ensured and,  more generally, to use and operate it in the </span>
00025 <span class="comment">  same conditions as regards security. </span>
00026 <span class="comment">  </span>
00027 <span class="comment">  The fact that you are presently reading this means that you have had</span>
00028 <span class="comment">  knowledge of the CeCILL license and that you accept its terms.</span>
00029 <span class="comment">  </span>
00030 <span class="comment">  Copyright (c) CREATIS (Centre de Recherche et d'Applications en Traitement de</span>
00031 <span class="comment">  l'Image). All rights reserved. See License.txt for details.</span>
00032 <span class="comment">  </span>
00033 <span class="comment">  Version 1.0  05/09/2005</span>
00034 <span class="comment">*************************************************************************/</span>
00035 
00036 <span class="preprocessor">#ifndef _IDDCM_H</span>
00037 <span class="preprocessor"></span><span class="preprocessor">#define _IDDCM_H</span>
00038 <span class="preprocessor"></span>
00039 <span class="preprocessor">#include "<a class="code" href="idcommon_8h.html">idcommon.h</a>"</span>
00040 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
00041 <span class="preprocessor">#include "<a class="code" href="idswig_8h.html">idswig.h</a>"</span>
00042 <span class="preprocessor">#include "<a class="code" href="idliste_8h.html">idliste.h</a>"</span>
00043 
00044 <span class="preprocessor">#include "<a class="code" href="idima-ido_8h.html">idima-ido.h</a>"</span>
00045 
00046 
00047 <span class="preprocessor">#ifdef _MSC_VER</span>
00048 <span class="preprocessor"></span><span class="preprocessor">#ifndef __CYGWIN__</span>
00049 <span class="preprocessor"></span><span class="preprocessor">#include &lt;Basetsd.h&gt;</span>
00050 <span class="preprocessor">#endif</span>
00051 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00052 <span class="preprocessor"></span>
00053 <span class="comment">// =======================================================================================</span>
00054 
00055 
<a name="l00056"></a><a class="code" href="struct__ID__DCM__ELEM.html">00056</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00057"></a><a class="code" href="struct__ID__DCM__ELEM.html#o0">00057</a>    <span class="keywordtype">int</span> Gr;           <span class="comment">// numero de groupe</span>
<a name="l00058"></a><a class="code" href="struct__ID__DCM__ELEM.html#o1">00058</a>    <span class="keywordtype">int</span> Num;       <span class="comment">// numero elem</span>
<a name="l00059"></a><a class="code" href="struct__ID__DCM__ELEM.html#o2">00059</a>    size_t LgrLueElem;   <span class="comment">// Longueur Lue</span>
<a name="l00060"></a><a class="code" href="struct__ID__DCM__ELEM.html#o3">00060</a>    size_t LgrElem;      <span class="comment">// Longueur retenue pour l'exploration</span>
<a name="l00061"></a><a class="code" href="struct__ID__DCM__ELEM.html#o4">00061</a>    <span class="keywordtype">int</span> Swap;         <span class="comment">// 1 si l'elem a ete swappé -&gt; Est-ce positionne correctement ?</span>
<a name="l00062"></a><a class="code" href="struct__ID__DCM__ELEM.html#o5">00062</a>    <span class="keywordtype">int</span> Offset;       <span class="comment">// offset ( a partir début fichier)</span>
<a name="l00063"></a><a class="code" href="struct__ID__DCM__ELEM.html#o6">00063</a>    <span class="keywordtype">char</span> *VR;         <span class="comment">// VR de l'element</span>
<a name="l00064"></a><a class="code" href="struct__ID__DCM__ELEM.html#o7">00064</a>    <span class="keywordtype">char</span> *DicomDescr; <span class="comment">// Definition trouvee dans Dicom Dictionnary</span>
<a name="l00065"></a><a class="code" href="struct__ID__DCM__ELEM.html#o8">00065</a>    <span class="keywordtype">int</span> TypeDonnee;      <span class="comment">// 0 : char ; 1 : short int; 2 : long int;   </span>
<a name="l00066"></a><a class="code" href="struct__ID__DCM__ELEM.html#o9">00066</a>    <span class="keywordtype">char</span> *valeurElem; <span class="comment">// pointeur sur le début de la valeur (dans tous les cas)</span>
<a name="l00067"></a><a class="code" href="struct__ID__DCM__ELEM.html#o10">00067</a>    uint32_t valInt;     <span class="comment">// n'a de sens que si Swap != 0 et lgrLueElem=4  // GROS SOUCIS</span>
<a name="l00068"></a><a class="code" href="struct__ID__DCM__ELEM.html#o11">00068</a>    uint16_t valShort;   <span class="comment">// n'a de sens que si Swap != 0 et lgrLueElem=2  // utiliser str2num(valeurElem,...</span>
00069    
00070 } <a class="code" href="struct__ID__DCM__ELEM.html">_ID_DCM_ELEM</a>;
00071 
00072 
<a name="l00073"></a><a class="code" href="structID__DCM__HDR.html">00073</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
00074 
<a name="l00075"></a><a class="code" href="structID__DCM__HDR.html#o0">00075</a>    <span class="keywordtype">char</span> * filename;     <span class="comment">// nom du fichier</span>
<a name="l00076"></a><a class="code" href="structID__DCM__HDR.html#o1">00076</a>    FILE * fp;
<a name="l00077"></a><a class="code" href="structID__DCM__HDR.html#o2">00077</a>    <span class="keywordtype">long</span> <span class="keywordtype">int</span> taille_fich;
<a name="l00078"></a><a class="code" href="structID__DCM__HDR.html#o3">00078</a>    <span class="keywordtype">int</span> nbElem;    <span class="comment">// Nbre de dicom elements dans l'entete.</span>
00079 
<a name="l00080"></a><a class="code" href="structID__DCM__HDR.html#o4">00080</a>    <span class="keywordtype">char</span> * _message;
00081    
<a name="l00082"></a><a class="code" href="structID__DCM__HDR.html#o5">00082</a>    <span class="keywordtype">int</span> sw; <span class="comment">// code Swap (0, 4321, 2143, 3412)</span>
<a name="l00083"></a><a class="code" href="structID__DCM__HDR.html#o6">00083</a>    <span class="keywordtype">int</span> net2host; <span class="comment">// =1 : meme ordre; =0 ordre inverse</span>
<a name="l00084"></a><a class="code" href="structID__DCM__HDR.html#o7">00084</a>    <span class="keywordtype">int</span> ACR_LIBIDO;
<a name="l00085"></a><a class="code" href="structID__DCM__HDR.html#o8">00085</a>    <span class="keywordtype">int</span> <a class="code" href="acrread_8c.html#a16">__ExplicitVR</a>;
<a name="l00086"></a><a class="code" href="structID__DCM__HDR.html#o9">00086</a>    <span class="keywordtype">int</span> <a class="code" href="acrread_8c.html#a15">__TrueDicom</a>;
00087    
<a name="l00088"></a><a class="code" href="structID__DCM__HDR.html#o10">00088</a>    <span class="keywordtype">int</span> grPixelTrouve;
<a name="l00089"></a><a class="code" href="structID__DCM__HDR.html#o11">00089</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> grPixel;
<a name="l00090"></a><a class="code" href="structID__DCM__HDR.html#o12">00090</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> numPixel;
<a name="l00091"></a><a class="code" href="structID__DCM__HDR.html#o13">00091</a>    <span class="keywordtype">int</span> PixelsTrouves;   
<a name="l00092"></a><a class="code" href="structID__DCM__HDR.html#o14">00092</a>    <span class="keywordtype">long</span> <span class="keywordtype">int</span> PixelPosition;
00093    
<a name="l00094"></a><a class="code" href="structID__DCM__HDR.html#o15">00094</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> <a class="code" href="acrread_8c.html#a14">__NumeroGroupePrecedent</a>;
<a name="l00095"></a><a class="code" href="structID__DCM__HDR.html#o16">00095</a>    <span class="keywordtype">char</span> * <a class="code" href="imalabel_8c.html#a3">deb</a>;          <span class="comment">// zone qui recevra de debut de l'entete </span>
<a name="l00096"></a><a class="code" href="structID__DCM__HDR.html#o17">00096</a>    <span class="keywordtype">long</span> <span class="keywordtype">int</span> offsetCourant;
<a name="l00097"></a><a class="code" href="structID__DCM__HDR.html#o18">00097</a>    <a class="code" href="struct__ID__DCM__ELEM.html">_ID_DCM_ELEM</a> *pleCourant;
00098    
<a name="l00099"></a><a class="code" href="structID__DCM__HDR.html#o19">00099</a>    <a class="code" href="struct__elem.html">PLIST</a> plist;
00100    
00101 } <a class="code" href="structID__DCM__HDR.html">ID_DCM_HDR</a>;
00102 
00103 
00104 
00105 
00106 <span class="comment">// =======================================================================================</span>
00107 
<a name="l00108"></a><a class="code" href="iddcm_8h.html#a0">00108</a> <span class="preprocessor">#define str2num(str, typeNum) *((typeNum *)(str))</span>
00109 <span class="preprocessor"></span>
00110 <a class="code" href="structID__DCM__HDR.html">ID_DCM_HDR</a> *   <a class="code" href="dcmutil_8c.html#a13">IdDcmHdrAlloc</a>  (<span class="keywordtype">void</span>);
00111 <span class="keywordtype">void</span>     <a class="code" href="iddcm_8h.html#a4">IdDcmHdrFree</a>   (<a class="code" href="structID__DCM__HDR.html">ID_DCM_HDR</a> *);
00112 
00113 
<a name="l00114"></a><a class="code" href="iddcm_8h.html#a1">00114</a> <span class="preprocessor">#define IdDcmGetPixelOffset(e) ((e)-&gt;PixelPosition)</span>
<a name="l00115"></a><a class="code" href="iddcm_8h.html#a2">00115</a> <span class="preprocessor"></span><span class="preprocessor">#define IdDcmGetPFileName(e)   ((e)-&gt;filename)</span>
00116 <span class="preprocessor"></span>
00117 
00118 <a class="code" href="structID__DCM__HDR.html">ID_DCM_HDR</a>     *<a class="code" href="iddcm_8h.html#a5">IdDcmGetHeader</a>      (<span class="keywordtype">char</span> *);
00119 <span class="keywordtype">int</span>       <a class="code" href="iddcm_8h.html#a6">IdDcmIsAcrLibido</a> (<a class="code" href="structID__DCM__HDR.html">ID_DCM_HDR</a> *);
00120 <span class="keywordtype">int</span>      <a class="code" href="iddcm_8h.html#a7">IdDcmIsJpegLossless</a>  (<a class="code" href="structID__DCM__HDR.html">ID_DCM_HDR</a> *);
00121 <span class="keywordtype">int</span>      <a class="code" href="iddcm_8h.html#a8">IdDcmIsUncompressed</a>  (<a class="code" href="structID__DCM__HDR.html">ID_DCM_HDR</a> *);
00122 <a class="code" href="structID__DCM__HDR.html">ID_DCM_HDR</a>  *<a class="code" href="iddcm_8h.html#a9">IdDcmIsDcmReadable</a>  (<span class="keywordtype">char</span> *);
00123 
00124 <span class="keywordtype">void</span>     *<a class="code" href="iddcm_8h.html#a10">IdDcmReadFile</a>           (<span class="keywordtype">char</span> * ,       <span class="keywordtype">int</span> );
00125 <span class="keywordtype">void</span>     *<a class="code" href="iddcm_8h.html#a11">IdDcmReadFileFromDcmHdr</a>        (<a class="code" href="structID__DCM__HDR.html">ID_DCM_HDR</a> *, <span class="keywordtype">int</span> );
00126 <span class="keywordtype">void</span>     *<a class="code" href="iddcm_8h.html#a12">IdDcmMultiFrameReadFile</a>             (<span class="keywordtype">char</span> *,       <span class="keywordtype">int</span> , <span class="keywordtype">int</span> , <span class="keywordtype">int</span> );
00127 <span class="keywordtype">void</span>     *<a class="code" href="iddcm_8h.html#a13">IdDcmMultiFrameReadFileFromDcmHdr</a>   (<a class="code" href="structID__DCM__HDR.html">ID_DCM_HDR</a> *, <span class="keywordtype">int</span> , <span class="keywordtype">int</span> , <span class="keywordtype">int</span> );
00128 <span class="keywordtype">void</span>     *<a class="code" href="iddcm_8h.html#a14">IdDcmReadFileIntoVector</a>             (<span class="keywordtype">char</span> *,       <span class="keywordtype">int</span> , <span class="keywordtype">int</span> , <span class="keywordtype">int</span> , <span class="keywordtype">void</span> * );
00129 <span class="keywordtype">void</span>     *<a class="code" href="iddcm_8h.html#a15">IdDcmReadFileIntoVectorFromDcmHdr</a>   (<a class="code" href="structID__DCM__HDR.html">ID_DCM_HDR</a> *, <span class="keywordtype">int</span> , <span class="keywordtype">int</span> , <span class="keywordtype">int</span> , <span class="keywordtype">void</span> * );
00130 
00131 <span class="keywordtype">int</span>      <a class="code" href="iddcm_8h.html#a16">IdDcmWriteFile</a>          (<a class="code" href="structID__DCM__HDR.html">ID_DCM_HDR</a> * , PPIMAGE );
00132 
00133 <span class="keywordtype">char</span> **     <a class="code" href="iddcm_8h.html#a17">IdDcmInquireImageInfoFromFile</a> (<span class="keywordtype">char</span> *);
00134 <span class="keywordtype">char</span> **     <a class="code" href="iddcm_8h.html#a18">IdDcmInquireImageInfoFromDcmHdr</a>  (<a class="code" href="structID__DCM__HDR.html">ID_DCM_HDR</a> *);
00135 <span class="keywordtype">int</span>      <a class="code" href="iddcm_8h.html#a19">IdDcmPrintImageInfo</a>           (<span class="keywordtype">char</span> **);
00136 <span class="keywordtype">void</span>     <a class="code" href="iddcm_8h.html#a20">IdDcmAffDcmHdr</a>             (<a class="code" href="structID__DCM__HDR.html">ID_DCM_HDR</a> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>);
00137 
00138                                  
00139 <span class="keywordtype">int</span>     <a class="code" href="iddcm_8h.html#a21">IdDcmInquireInfoFromFile</a>    (<span class="keywordtype">char</span> *, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> * OUTPUT,
00140                                      <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> * OUTPUT,
00141                                      <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> * OUTPUT, <span class="keywordtype">int</span> * OUTPUT,
00142                                      <span class="keywordtype">int</span> * OUTPUT, <span class="keywordtype">int</span> * OUTPUT, <span class="keywordtype">int</span> * OUTPUT,
00143                                      <span class="keywordtype">int</span> * OUTPUT, <span class="keywordtype">int</span> * OUTPUT, <span class="keywordtype">int</span> * OUTPUT,
00144                                      <span class="keywordtype">int</span> * OUTPUT, <span class="keywordtype">int</span> * OUTPUT, <span class="keywordtype">int</span> * OUTPUT,
00145                          <span class="keywordtype">int</span> * OUTPUT);
00146 
00147 <span class="keywordtype">int</span>     <a class="code" href="iddcm_8h.html#a22">IdDcmInquireInfoFromDcmHdr</a>  (<a class="code" href="structID__DCM__HDR.html">ID_DCM_HDR</a> *, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> * OUTPUT,
00148                                      <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> * OUTPUT,
00149                                      <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> * OUTPUT, <span class="keywordtype">int</span> * OUTPUT,
00150                                      <span class="keywordtype">int</span> * OUTPUT,  <span class="keywordtype">int</span> * OUTPUT, <span class="keywordtype">int</span> * OUTPUT,
00151                                      <span class="keywordtype">int</span> * OUTPUT,  <span class="keywordtype">int</span> * OUTPUT, <span class="keywordtype">int</span> * OUTPUT,
00152                                      <span class="keywordtype">int</span> * OUTPUT,  <span class="keywordtype">int</span> * OUTPUT, <span class="keywordtype">int</span> * OUTPUT,
00153                          <span class="keywordtype">int</span> * OUTPUT);
00154                          
00155 <span class="keywordtype">char</span> * <a class="code" href="iddcm_8h.html#a23">_IdDcmReadElementFromLabel</a>(<span class="keywordtype">char</span> *libelle, <a class="code" href="structID__DCM__HDR.html">ID_DCM_HDR</a> * e,
00156                                   <span class="keywordtype">char</span> * vr, <span class="keywordtype">void</span> *buff);
00157                                   
00158 
00159 <span class="preprocessor">#endif</span>
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Wed Dec 20 14:28:14 2006 for SIMRI3D by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
