<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SIMRI3D: lstbasic.c Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a></div>
<h1>lstbasic.c</h1><a href="lstbasic_8c.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/*************************************************************************</span>
00002 <span class="comment">* $Id: lstbasic.c,v 1.1 2005/09/09 08:22:52 bellet Exp $</span>
00003 <span class="comment">**************************************************************************</span>
00004 <span class="comment"> This software is governed by the CeCILL  license under French law and</span>
00005 <span class="comment">  abiding by the rules of distribution of free software.  You can  use, </span>
00006 <span class="comment">  modify and/ or redistribute the software under the terms of the CeCILL</span>
00007 <span class="comment">  license as circulated by CEA, CNRS and INRIA at the following URL</span>
00008 <span class="comment">  "http://www.cecill.info". </span>
00009 <span class="comment">  </span>
00010 <span class="comment">  As a counterpart to the access to the source code and  rights to copy,</span>
00011 <span class="comment">  modify and redistribute granted by the license, users are provided only</span>
00012 <span class="comment">  with a limited warranty  and the software's author,  the holder of the</span>
00013 <span class="comment">  economic rights,  and the successive licensors  have only  limited</span>
00014 <span class="comment">  liability. </span>
00015 <span class="comment">  </span>
00016 <span class="comment">  In this respect, the user's attention is drawn to the risks associated</span>
00017 <span class="comment">  with loading,  using,  modifying and/or developing or reproducing the</span>
00018 <span class="comment">  software by the user in light of its specific status of free software,</span>
00019 <span class="comment">  that may mean  that it is complicated to manipulate,  and  that  also</span>
00020 <span class="comment">  therefore means  that it is reserved for developers  and  experienced</span>
00021 <span class="comment">  professionals having in-depth computer knowledge. Users are therefore</span>
00022 <span class="comment">  encouraged to load and test the software's suitability as regards their</span>
00023 <span class="comment">  requirements in conditions enabling the security of their systems and/or </span>
00024 <span class="comment">  data to be ensured and,  more generally, to use and operate it in the </span>
00025 <span class="comment">  same conditions as regards security. </span>
00026 <span class="comment">  </span>
00027 <span class="comment">  The fact that you are presently reading this means that you have had</span>
00028 <span class="comment">  knowledge of the CeCILL license and that you accept its terms.</span>
00029 <span class="comment">  </span>
00030 <span class="comment">  Copyright (c) CREATIS (Centre de Recherche et d'Applications en Traitement de</span>
00031 <span class="comment">  l'Image). All rights reserved. See License.txt for details.</span>
00032 <span class="comment">  </span>
00033 <span class="comment">  Version 1.0  05/09/2005</span>
00034 <span class="comment">*************************************************************************/</span>
00035 
00036 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
00037 <span class="preprocessor">#include "<a class="code" href="idliste_8h.html">idliste.h</a>"</span>
00038 <span class="preprocessor">#include "<a class="code" href="idprint_8h.html">idprint.h</a>"</span>
00039 <span class="preprocessor">#include "<a class="code" href="iderr_8h.html">iderr.h</a>"</span>
00040 
00041 <span class="comment">/*************************************************************************</span>
00042 <span class="comment">*</span>
00043 <span class="comment">*  Description : Ajout et suppression d'un element dans une liste</span>
00044 <span class="comment">*</span>
00045 <span class="comment">**************************************************************************/</span>
00093 <span class="keywordtype">int</span>
<a name="l00094"></a><a class="code" href="lstbasic_8c.html#a0">00094</a> <a class="code" href="lstbasic_8c.html#a0">IdLstAddElement</a>(<a class="code" href="struct__elem.html">PLIST</a> list, <span class="keywordtype">void</span> *obj, <span class="keywordtype">int</span> mode, <a class="code" href="struct__elem.html">PLIST_ELEMENT</a> elem)
00095 {
00096    <a class="code" href="struct__elem.html">PLIST_ELEMENT</a> e, p;
00097 
00098    <span class="keywordflow">if</span> (!list) {
00099       <a class="code" href="iderr_8h.html#a65">IdErrno</a> = <a class="code" href="iderr_8h.html#a5">IDERR_POINTER_IS_NULL</a>;
00100       <span class="keywordflow">return</span> (0);
00101    }
00102 
00103    e = calloc(1, <span class="keyword">sizeof</span>(<a class="code" href="struct__elem.html">LIST_ELEMENT</a>));
00104    <span class="keywordflow">if</span> (!e) {
00105       <a class="code" href="iderr_8h.html#a65">IdErrno</a> = <a class="code" href="iderr_8h.html#a37">IDERR_ALLOC_ELEM</a>;
00106       <span class="keywordflow">return</span> (0);
00107    }
00108 
00109    (<a class="code" href="idliste_8h.html#a8">_IdLstPrivate</a>(list)-&gt;NbElems)++;
00110    e-&gt;<a class="code" href="struct__elem.html#o0">Numero</a> = <a class="code" href="idliste_8h.html#a12">IdLstNbElems</a>(list);
00111    <span class="keywordflow">switch</span> (mode &amp; 0x0f) {
00112    <span class="keywordflow">case</span> <a class="code" href="idliste_8h.html#a1">LST_BEG</a>:
00113       <span class="keywordflow">if</span> (mode &amp; (<a class="code" href="idliste_8h.html#a5">LST_NEXT</a> | <a class="code" href="idliste_8h.html#a7">LST_BIDIR</a>)) {
00114          p = <a class="code" href="idliste_8h.html#a17">IdLstFirst</a>(list);
00115          <span class="keywordflow">if</span> (p == 0)
00116             <a class="code" href="idliste_8h.html#a19">IdLstLast</a>(list) = e;
00117          e-&gt;<a class="code" href="struct__elem.html#o3">Next</a> = p;
00118          <a class="code" href="idliste_8h.html#a17">IdLstFirst</a>(list) = e;
00119          e-&gt;<a class="code" href="struct__elem.html#o2">Object</a> = obj;
00120          <span class="keywordflow">if</span> (mode &amp; <a class="code" href="idliste_8h.html#a7">LST_BIDIR</a>)
00121             <span class="keywordflow">if</span> (e-&gt;<a class="code" href="struct__elem.html#o3">Next</a>)
00122                e-&gt;<a class="code" href="struct__elem.html#o3">Next</a>-&gt;<a class="code" href="struct__elem.html#o4">Pred</a> = e;
00123       }
00124       <span class="keywordflow">if</span> (mode &amp; <a class="code" href="idliste_8h.html#a6">LST_PRED</a>) {
00125          e-&gt;<a class="code" href="struct__elem.html#o4">Pred</a> = <a class="code" href="idliste_8h.html#a17">IdLstFirst</a>(list);
00126          <a class="code" href="idliste_8h.html#a17">IdLstFirst</a>(list) = e;
00127          e-&gt;<a class="code" href="struct__elem.html#o2">Object</a> = obj;
00128       }
00129       <span class="keywordflow">break</span>;
00130    <span class="keywordflow">case</span> <a class="code" href="idliste_8h.html#a2">LST_END</a>:
00131       <span class="keywordflow">if</span> (mode &amp; (<a class="code" href="idliste_8h.html#a5">LST_NEXT</a> | <a class="code" href="idliste_8h.html#a7">LST_BIDIR</a>)) {
00132 
00133          p = <a class="code" href="idliste_8h.html#a17">IdLstFirst</a>(list);
00134          <span class="keywordflow">if</span> (p) {
00135             <span class="keywordflow">while</span> (p-&gt;<a class="code" href="struct__elem.html#o3">Next</a>)
00136                p = p-&gt;<a class="code" href="struct__elem.html#o3">Next</a>;
00137             p-&gt;<a class="code" href="struct__elem.html#o3">Next</a> = e;
00138             <span class="keywordflow">if</span> (mode &amp; <a class="code" href="idliste_8h.html#a7">LST_BIDIR</a>)
00139                e-&gt;<a class="code" href="struct__elem.html#o4">Pred</a> = p;
00140          } <span class="keywordflow">else</span>
00141             <a class="code" href="idliste_8h.html#a17">IdLstFirst</a>(list) = e;
00142          e-&gt;<a class="code" href="struct__elem.html#o2">Object</a> = obj;
00143          <a class="code" href="idliste_8h.html#a19">IdLstLast</a>(list) = e;
00144       }
00145       <span class="keywordflow">if</span> (mode &amp; <a class="code" href="idliste_8h.html#a6">LST_PRED</a>) {
00146          p = <a class="code" href="idliste_8h.html#a17">IdLstFirst</a>(list);
00147          <span class="keywordflow">if</span> (p) {
00148             <span class="keywordflow">while</span> (p-&gt;<a class="code" href="struct__elem.html#o4">Pred</a>)
00149                p = p-&gt;<a class="code" href="struct__elem.html#o4">Pred</a>;
00150             p-&gt;<a class="code" href="struct__elem.html#o4">Pred</a> = e;
00151          } <span class="keywordflow">else</span>
00152             <a class="code" href="idliste_8h.html#a17">IdLstFirst</a>(list) = e;
00153          e-&gt;<a class="code" href="struct__elem.html#o2">Object</a> = obj;
00154       }
00155       <span class="keywordflow">break</span>;
00156    <span class="keywordflow">case</span> <a class="code" href="idliste_8h.html#a3">LST_ELEM</a>:
00157       <span class="keywordflow">if</span> (mode &amp; (<a class="code" href="idliste_8h.html#a5">LST_NEXT</a> | <a class="code" href="idliste_8h.html#a7">LST_BIDIR</a>)) {
00158          <span class="keywordflow">if</span> (elem) {
00159             <span class="keywordflow">if</span> (elem == <a class="code" href="idliste_8h.html#a19">IdLstLast</a>(list))
00160                <a class="code" href="idliste_8h.html#a19">IdLstLast</a>(list) = e;
00161             e-&gt;<a class="code" href="struct__elem.html#o3">Next</a> = elem-&gt;<a class="code" href="struct__elem.html#o3">Next</a>;
00162             elem-&gt;<a class="code" href="struct__elem.html#o3">Next</a> = e;
00163             <span class="keywordflow">if</span> (mode &amp; <a class="code" href="idliste_8h.html#a7">LST_BIDIR</a>) {
00164                e-&gt;<a class="code" href="struct__elem.html#o4">Pred</a> = elem;
00165                <span class="keywordflow">if</span> (e-&gt;<a class="code" href="struct__elem.html#o3">Next</a>)
00166                   e-&gt;<a class="code" href="struct__elem.html#o3">Next</a>-&gt;<a class="code" href="struct__elem.html#o4">Pred</a> = e;
00167             }
00168          }
00169          e-&gt;<a class="code" href="struct__elem.html#o2">Object</a> = obj;
00170       }
00171       <span class="keywordflow">if</span> (mode &amp; <a class="code" href="idliste_8h.html#a6">LST_PRED</a>) {
00172          <span class="keywordflow">if</span> (elem) {
00173             e-&gt;<a class="code" href="struct__elem.html#o4">Pred</a> = elem-&gt;<a class="code" href="struct__elem.html#o4">Pred</a>;
00174             elem-&gt;<a class="code" href="struct__elem.html#o4">Pred</a> = e;
00175          }
00176          e-&gt;<a class="code" href="struct__elem.html#o2">Object</a> = obj;
00177       }
00178       <span class="keywordflow">break</span>;
00179 
00180    <span class="keywordflow">case</span> <a class="code" href="idliste_8h.html#a4">LST_ELEM_AV</a>:
00181       <span class="keywordflow">if</span> (mode &amp; (<a class="code" href="idliste_8h.html#a5">LST_NEXT</a> | <a class="code" href="idliste_8h.html#a7">LST_BIDIR</a>)) {
00182          <span class="keywordflow">if</span> (elem) {
00183             <span class="keywordflow">if</span> (elem == <a class="code" href="idliste_8h.html#a17">IdLstFirst</a>(list))
00184                <a class="code" href="idliste_8h.html#a17">IdLstFirst</a>(list) = e;
00185             e-&gt;<a class="code" href="struct__elem.html#o4">Pred</a> = elem-&gt;<a class="code" href="struct__elem.html#o4">Pred</a>;
00186             elem-&gt;<a class="code" href="struct__elem.html#o4">Pred</a> = e;
00187             <span class="keywordflow">if</span> (mode &amp; <a class="code" href="idliste_8h.html#a7">LST_BIDIR</a>) {
00188                e-&gt;<a class="code" href="struct__elem.html#o3">Next</a> = elem;
00189                <span class="keywordflow">if</span> (e-&gt;<a class="code" href="struct__elem.html#o4">Pred</a>)
00190                   e-&gt;<a class="code" href="struct__elem.html#o4">Pred</a>-&gt;<a class="code" href="struct__elem.html#o3">Next</a> = e;
00191             }
00192          }
00193          e-&gt;<a class="code" href="struct__elem.html#o2">Object</a> = obj;
00194       }
00195       <span class="keywordflow">if</span> (mode &amp; <a class="code" href="idliste_8h.html#a6">LST_PRED</a>) {
00196          <span class="keywordflow">if</span> (elem) {
00197             e-&gt;<a class="code" href="struct__elem.html#o3">Next</a> = elem-&gt;<a class="code" href="struct__elem.html#o3">Next</a>;
00198             elem-&gt;<a class="code" href="struct__elem.html#o3">Next</a> = e;
00199          }
00200          e-&gt;<a class="code" href="struct__elem.html#o2">Object</a> = obj;
00201       }
00202       <span class="keywordflow">break</span>;
00203    }
00204    <span class="keywordflow">return</span> 1;
00205 }
00206 
00213 <span class="keywordtype">int</span>
<a name="l00214"></a><a class="code" href="lstbasic_8c.html#a1">00214</a> <a class="code" href="lstbasic_8c.html#a1">IdLstRemoveFirst</a>(<a class="code" href="struct__elem.html">PLIST</a> l)
00215 {
00216    <a class="code" href="struct__elem.html">PLIST_ELEMENT</a> e;
00217    <span class="keywordflow">if</span> (<a class="code" href="idliste_8h.html#a12">IdLstNbElems</a>(l) == 0) {
00218       <span class="comment">/*</span>
00219 <span class="comment">       * empty list</span>
00220 <span class="comment">       */</span>
00221       <a class="code" href="iderr_8h.html#a65">IdErrno</a> = <a class="code" href="iderr_8h.html#a38">IDERR_EMPTY_LIST</a>;
00222       <span class="keywordflow">return</span> (0);
00223    }
00224    (<a class="code" href="idliste_8h.html#a8">_IdLstPrivate</a>(l)-&gt;NbElems)--;
00225 
00226    e = <a class="code" href="idliste_8h.html#a17">IdLstFirst</a>(l);
00227    <a class="code" href="idliste_8h.html#a17">IdLstFirst</a>(l) = <a class="code" href="idliste_8h.html#a20">IdLstNext</a>(e);
00228 
00229    <span class="keywordflow">if</span> (<a class="code" href="idliste_8h.html#a20">IdLstNext</a>(e) == NULL)
00230       <span class="comment">/*</span>
00231 <span class="comment">       * si c'est le dernier </span>
00232 <span class="comment">       */</span>
00233       <a class="code" href="idliste_8h.html#a19">IdLstLast</a>(l) = NULL;
00234    <span class="keywordflow">else</span>
00235       <a class="code" href="idliste_8h.html#a21">IdLstPrevious</a>(<a class="code" href="idliste_8h.html#a20">IdLstNext</a>(e)) = NULL;
00236 
00237    <span class="comment">/*</span>
00238 <span class="comment">    * les liens de chainage ont deja ete supprimes </span>
00239 <span class="comment">    */</span>
00240    free(e);
00241    <span class="keywordflow">return</span> (1);
00242 }
00243 
00250 <span class="keywordtype">int</span>
<a name="l00251"></a><a class="code" href="lstbasic_8c.html#a2">00251</a> <a class="code" href="lstbasic_8c.html#a2">IdLstRemoveLast</a>(<a class="code" href="struct__elem.html">PLIST</a> l)
00252 {
00253    <a class="code" href="struct__elem.html">PLIST_ELEMENT</a> e;
00254    <span class="keywordflow">if</span> (<a class="code" href="idliste_8h.html#a12">IdLstNbElems</a>(l) == 0) {
00255       <span class="comment">/*</span>
00256 <span class="comment">       * liste vide </span>
00257 <span class="comment">       */</span>
00258       <a class="code" href="iderr_8h.html#a65">IdErrno</a> = <a class="code" href="iderr_8h.html#a38">IDERR_EMPTY_LIST</a>;
00259       <span class="keywordflow">return</span> (0);
00260    }
00261    (<a class="code" href="idliste_8h.html#a8">_IdLstPrivate</a>(l)-&gt;NbElems)--;
00262 
00263    e = <a class="code" href="idliste_8h.html#a19">IdLstLast</a>(l);
00264    <a class="code" href="idliste_8h.html#a19">IdLstLast</a>(l) = <a class="code" href="idliste_8h.html#a21">IdLstPrevious</a>(e);
00265 
00266    <span class="keywordflow">if</span> (<a class="code" href="idliste_8h.html#a21">IdLstPrevious</a>(e) == NULL)
00267       <span class="comment">/*</span>
00268 <span class="comment">       * si c'est le Premier </span>
00269 <span class="comment">       */</span>
00270       <a class="code" href="idliste_8h.html#a17">IdLstFirst</a>(l) = NULL;
00271    <span class="keywordflow">else</span>
00272       <a class="code" href="idliste_8h.html#a20">IdLstNext</a>(<a class="code" href="idliste_8h.html#a21">IdLstPrevious</a>(e)) = NULL;
00273 
00274    <span class="comment">/*</span>
00275 <span class="comment">    * les liens de chainage ont deja ete supprimes </span>
00276 <span class="comment">    */</span>
00277    free(e);
00278    <span class="keywordflow">return</span> (1);
00279 }
00280 
00288 <span class="keywordtype">int</span>
<a name="l00289"></a><a class="code" href="lstbasic_8c.html#a3">00289</a> <a class="code" href="lstbasic_8c.html#a3">IdLstRemoveElem</a>(<a class="code" href="struct__elem.html">PLIST</a> l, <a class="code" href="struct__elem.html">PLIST_ELEMENT</a> e)
00290 {
00291    <a class="code" href="struct__elem.html">PLIST_ELEMENT</a> pr, sv;
00292 
00293    <span class="keywordflow">if</span> (<a class="code" href="idliste_8h.html#a12">IdLstNbElems</a>(l) == 0) {
00294       <span class="comment">/*</span>
00295 <span class="comment">       * liste vide </span>
00296 <span class="comment">       */</span>
00297       <a class="code" href="iderr_8h.html#a65">IdErrno</a> = <a class="code" href="iderr_8h.html#a38">IDERR_EMPTY_LIST</a>;
00298       <span class="keywordflow">return</span> (0);
00299    }
00300    pr = <a class="code" href="idliste_8h.html#a21">IdLstPrevious</a>(e);
00301    sv = <a class="code" href="idliste_8h.html#a20">IdLstNext</a>(e);
00302 
00303    <span class="keywordflow">if</span> (pr == NULL)
00304       <a class="code" href="lstbasic_8c.html#a1">IdLstRemoveFirst</a>(l);
00305       <span class="comment">/*</span>
00306 <span class="comment">       * si c est le Premier </span>
00307 <span class="comment">       */</span>
00308    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sv == NULL)
00309       <a class="code" href="lstbasic_8c.html#a2">IdLstRemoveLast</a>(l);
00310       <span class="comment">/*</span>
00311 <span class="comment">       * si c est le Dernier </span>
00312 <span class="comment">       */</span>
00313 
00314    <span class="keywordflow">else</span> {
00315       <span class="comment">/*</span>
00316 <span class="comment">       * Element quelconque  </span>
00317 <span class="comment">       */</span>
00318       <a class="code" href="idliste_8h.html#a20">IdLstNext</a>(pr) = <a class="code" href="idliste_8h.html#a20">IdLstNext</a>(e);
00319       <a class="code" href="idliste_8h.html#a21">IdLstPrevious</a>(sv) = <a class="code" href="idliste_8h.html#a21">IdLstPrevious</a>(e);
00320       (<a class="code" href="idliste_8h.html#a8">_IdLstPrivate</a>(l)-&gt;NbElems)--;
00321 
00322       <span class="comment">/*</span>
00323 <span class="comment">       * les liens de chainage ont deja ete supprimes </span>
00324 <span class="comment">       */</span>
00325       free(e);
00326    }
00327    <span class="keywordflow">return</span> (1);
00328 }
00329 
00339 <span class="keywordtype">int</span>
<a name="l00340"></a><a class="code" href="lstbasic_8c.html#a4">00340</a> <a class="code" href="lstbasic_8c.html#a4">LstAddAfter</a>(<a class="code" href="struct__elem.html">PLIST</a> l, <span class="keywordtype">void</span> *pobj, <a class="code" href="struct__elem.html">PLIST_ELEMENT</a> e)
00341 {
00342 
00343    <a class="code" href="struct__elem.html">PLIST_ELEMENT</a> elem;
00344 
00345    <span class="keywordflow">if</span> (e == <a class="code" href="idliste_8h.html#a19">IdLstLast</a>(l))
00346       <a class="code" href="idliste_8h.html#a24">IdLstAddLast</a>(l, pobj);
00347    <span class="keywordflow">else</span> {
00348       <span class="comment">/*</span>
00349 <span class="comment">       * Si l'element n'est pas le dernier </span>
00350 <span class="comment">       */</span>
00351       elem = calloc(1, <span class="keyword">sizeof</span>(<a class="code" href="struct__elem.html">LIST_ELEMENT</a>));
00352       <span class="keywordflow">if</span> (!elem) {
00353          <a class="code" href="kerprint_8c.html#a5">IdErrPrintf</a>(<span class="stringliteral">"(Erreur allocation nouvel element\n"</span>);
00354          <a class="code" href="iderr_8h.html#a65">IdErrno</a> = <a class="code" href="iderr_8h.html#a37">IDERR_ALLOC_ELEM</a>;
00355          <span class="keywordflow">return</span> 0;
00356       }
00357       (<a class="code" href="idliste_8h.html#a8">_IdLstPrivate</a>(l)-&gt;NbElems)++;
00358       elem-&gt;<a class="code" href="struct__elem.html#o0">Numero</a> = <a class="code" href="idliste_8h.html#a12">IdLstNbElems</a>(l);
00359       elem-&gt;<a class="code" href="struct__elem.html#o2">Object</a> = pobj;
00360       <a class="code" href="idliste_8h.html#a20">IdLstNext</a>(elem) = <a class="code" href="idliste_8h.html#a20">IdLstNext</a>(e);
00361       <a class="code" href="idliste_8h.html#a21">IdLstPrevious</a>(elem) = e;
00362       <a class="code" href="idliste_8h.html#a21">IdLstPrevious</a>(<a class="code" href="idliste_8h.html#a20">IdLstNext</a>(e)) = elem;
00363       <a class="code" href="idliste_8h.html#a20">IdLstNext</a>(e) = elem;
00364    }
00365    <span class="keywordflow">return</span> 1;
00366 }
00367 
00377 <span class="keywordtype">int</span>
<a name="l00378"></a><a class="code" href="lstbasic_8c.html#a5">00378</a> <a class="code" href="lstbasic_8c.html#a5">LstAddBefore</a>(<a class="code" href="struct__elem.html">PLIST</a> l, <span class="keywordtype">void</span> *pobj, <a class="code" href="struct__elem.html">PLIST_ELEMENT</a> e)
00379 {
00380 
00381    <a class="code" href="struct__elem.html">PLIST_ELEMENT</a> elem;
00382 
00383    <span class="keywordflow">if</span> (e == <a class="code" href="idliste_8h.html#a17">IdLstFirst</a>(l))
00384       <a class="code" href="idliste_8h.html#a23">IdLstAddFirst</a>(l, pobj);
00385    <span class="keywordflow">else</span> {
00386       <span class="comment">/*</span>
00387 <span class="comment">       * Si l'element n'est pas le premier </span>
00388 <span class="comment">       */</span>
00389       elem = calloc(1, <span class="keyword">sizeof</span>(<a class="code" href="struct__elem.html">LIST_ELEMENT</a>));
00390       <span class="keywordflow">if</span> (!elem) {
00391          <a class="code" href="kerprint_8c.html#a5">IdErrPrintf</a>(<span class="stringliteral">"Erreur allocation nouvel element\n"</span>);
00392          <a class="code" href="iderr_8h.html#a65">IdErrno</a> = <a class="code" href="iderr_8h.html#a37">IDERR_ALLOC_ELEM</a>;
00393          <span class="keywordflow">return</span> 0;
00394       }
00395       (<a class="code" href="idliste_8h.html#a8">_IdLstPrivate</a>(l)-&gt;NbElems)++;
00396 
00397       elem-&gt;<a class="code" href="struct__elem.html#o0">Numero</a> = <a class="code" href="idliste_8h.html#a12">IdLstNbElems</a>(l);
00398       elem-&gt;<a class="code" href="struct__elem.html#o2">Object</a> = pobj;
00399       <a class="code" href="idliste_8h.html#a20">IdLstNext</a>(elem) = e;
00400       <a class="code" href="idliste_8h.html#a21">IdLstPrevious</a>(elem) = <a class="code" href="idliste_8h.html#a21">IdLstPrevious</a>(e);
00401       <a class="code" href="idliste_8h.html#a20">IdLstNext</a>(<a class="code" href="idliste_8h.html#a21">IdLstPrevious</a>(e)) = elem;
00402       <a class="code" href="idliste_8h.html#a21">IdLstPrevious</a>(e) = elem;
00403    }
00404    <span class="keywordflow">return</span> 1;
00405 }
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Wed Dec 20 14:28:14 2006 for SIMRI3D by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
